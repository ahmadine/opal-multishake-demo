'use strict';var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,k,h){a!=Array.prototype&&a!=Object.prototype&&(a[k]=h.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,k,h,f){if(k){h=$jscomp.global;a=a.split(".");for(f=0;f<a.length-1;f++){var q=a[f];q in h||(h[q]={});h=h[q]}a=a[a.length-1];f=h[a];k=k(f);k!=f&&null!=k&&$jscomp.defineProperty(h,a,{configurable:!0,writable:!0,value:k})}};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},k={};try{return k.__proto__=a,k.a}catch(h){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,k){a.__proto__=k;if(a.__proto__!==k)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.polyfill("Object.setPrototypeOf",function(a){return a||$jscomp.setPrototypeOf},"es6","es5");$jscomp.arrayIteratorImpl=function(a){var k=0;return function(){return k<a.length?{done:!1,value:a[k++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};
$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.SymbolClass=function(a,k){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:k})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};
$jscomp.Symbol=function(){function a(h){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(h||"")+"_"+k++,h)}var k=0;return a}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};
$jscomp.iteratorFromArray=function(a,k){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var h=0,f={next:function(){if(h<a.length){var q=h++;return{value:k(q,a[q]),done:!1}}f.next=function(){return{done:!0,value:void 0}};return f.next()}};f[Symbol.iterator]=function(){return f};return f};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
$jscomp.owns=function(a,k){return Object.prototype.hasOwnProperty.call(a,k)};$jscomp.assign="function"==typeof Object.assign?Object.assign:function(a,k){for(var h=1;h<arguments.length;h++){var f=arguments[h];if(f)for(var q in f)$jscomp.owns(f,q)&&(a[q]=f[q])}return a};$jscomp.polyfill("Object.assign",function(a){return a||$jscomp.assign},"es6","es3");$jscomp.polyfill("String.prototype.trimLeft",function(a){function k(){return this.replace(/^[\s\xa0]+/,"")}return a||k},"es_2019","es3");
$jscomp.polyfill("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991},"es6","es3");
(function(){function a(a,c,e){"string"===typeof a?a[c]=e:Object.defineProperty(a,c,{value:e,enumerable:!1,configurable:!0,writable:!0})}function k(a,c){if(a)return a.$$const[c]}function h(a,n){var g;if(null!=a){var e=c.ancestors(a);a=0;for(g=e.length;a<g;a++)if(e[a].$$const&&y.call(e[a].$$const,n))return e[a].$$const[n]}}function f(a,c,e){if(!e)return(a||d).$const_missing(c)}function q(a){return a.hasOwnProperty("$$iclass")&&a.hasOwnProperty("$$root")}function l(a){if(!a.hasOwnProperty("$$dummy")){if(a.hasOwnProperty("$$iclass"))return a.$$module;
if(a.hasOwnProperty("$$class"))return a.$$class}}function w(a){return"function"===typeof a&&!a.$$stub}function m(){var a=c.slice.call(arguments,0,arguments.length),n=m.$$p;m.$$p=null;return c.send(d,"define_method",a,n)}var t=this;"undefined"!==typeof global&&(t=global);"undefined"!==typeof window&&(t=window);var r="object"===typeof t.console?t.console:null==t.console?t.console={}:{};"log"in r||(r.log=function(){});"warn"in r||(r.warn=r.log);if("undefined"!==typeof t.Opal)return r.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),
t.Opal;var p,d,b,c=t.Opal={};c.global=t;t.Opal=c;c.config={missing_require_severity:"error",unsupported_features_severity:"warning",enable_stack_trace:!0};var y=Object.hasOwnProperty,A=Function.prototype.bind,x=Object.setPrototypeOf,u=Array.prototype.slice,I=Array.prototype.splice,H=4;c.uid=function(){return H+=2};c.id=function(g){if(g.$$is_number)return 2*g+1;if(null!=g.$$id)return g.$$id;a(g,"$$id",c.uid());return g.$$id};c.gvars={};c.exceptions=[];c.pop_exception=function(){c.gvars["!"]=c.exceptions.pop()||
e};c.inspect=function(a){return void 0===a?"undefined":null===a?"null":a.$$class?a.$inspect():a.toString()};c.defineProperty=a;c.slice=u;c.truthy=function(a){return a!==e&&null!=a&&(!a.$$is_boolean||1==a)};c.falsy=function(a){return a===e||null==a||a.$$is_boolean&&0==a};c.const_get_local=function(a,n,e){if(null!=a){"::"===a&&(a=d);if(!a.$$is_module&&!a.$$is_class)throw new c.TypeError(a.toString()+" is not a class/module");var g=k(a,n);if(null!=g)return g;g=f(a,n,e);if(null!=g)return g}};c.const_get_qualified=
function(g,n,e){var b,r=c.const_cache_version;if(null!=g){"::"===g&&(g=d);if(!g.$$is_module&&!g.$$is_class)throw new c.TypeError(g.toString()+" is not a class/module");null==(b=g.$$const_cache)&&(a(g,"$$const_cache",Object.create(null)),b=g.$$const_cache);var p=b[n];null==p||p[0]!==r?(null!=(p=k(g,n))||null!=(p=h(g,n)),b[n]=[r,p]):p=p[1];return null!=p?p:f(g,n,e)}};c.const_cache_version=1;c.const_get_relative=function(g,n,e){var b=g[0],p=c.const_cache_version,r;null==(r=g.$$const_cache)&&(a(g,"$$const_cache",
Object.create(null)),r=g.$$const_cache);var G=r[n];if(null==G||G[0]!==p){var l;if(!(l=null!=(G=k(b,n)))){a:{if(0!==g.length)for(G=0,l=g.length;G<l;G++){var u=g[G].$$const[n];if(null!=u){g=u;break a}}g=void 0}l=null!=(G=g)}l||null!=(G=h(b,n))||(g=null==b||b.$$is_module?h(d,n):void 0,null!=(G=g));r[n]=[p,G]}else G=G[1];return null!=G?G:f(b,n,e)};c.const_set=function(g,n,b){if(null==g||"::"===g)g=d;if(b.$$is_a_module){if(null==b.$$name||b.$$name===e)b.$$name=n;null==b.$$base_module&&(b.$$base_module=
g)}g.$$const=g.$$const||Object.create(null);g.$$const[n]=b;g.$$=g.$$const;c.const_cache_version++;g===d&&(c[n]=b);a(g,n,b);return b};c.constants=function(a,n){null==n&&(n=!0);var g=[a],e,b={},f;n&&(g=g.concat(c.ancestors(a)));n&&a.$$is_module&&(g=g.concat([c.Object]).concat(c.ancestors(c.Object)));var h=0;for(e=g.length;h<e;h++){n=g[h];if(a!==d&&n==d)break;for(f in n.$$const)b[f]=!0}return Object.keys(b)};c.allocate_class=function(g,n){var e=null!=n&&n.$$bridge?function(){var a=u.call(arguments);
a=new (A.apply(n.$$constructor,[null].concat(a)));x(a,b.$$prototype);return a}:function(){};g&&a(e,"displayName","::"+g);var b=e;a(b,"$$name",g);a(b,"$$constructor",e);a(b,"$$prototype",e.prototype);a(b,"$$const",{});a(b,"$$is_class",!0);a(b,"$$is_a_module",!0);a(b,"$$super",n);a(b,"$$cvars",{});a(b,"$$own_included_modules",[]);a(b,"$$own_prepended_modules",[]);a(b,"$$ancestors",[]);a(b,"$$ancestors_cache_version",null);a(b.$$prototype,"$$class",b);c.Class&&x(b,c.Class.prototype);null!=n&&(x(b.$$prototype,
n.$$prototype),n.$$meta&&c.build_class_singleton_class(b));return b};c.klass=function(a,n,e){null==a?a=d:a.$$is_class||a.$$is_module||(a=a.$$class);if(null!=n&&!n.hasOwnProperty("$$is_class")){var g=n;n=d}var b;if(b=k(a,e)){if(!b.$$is_class)throw c.TypeError.$new(e+" is not a class");}else b=void 0;if(b){if(n&&b.$$super!==n)throw c.TypeError.$new("superclass mismatch for class "+b.$$name);return b}null==n&&(n=d);b=c.allocate_class(e,n);c.const_set(a,e,b);n.$inherited&&n.$inherited(b);g&&c.bridge(g,
b);return b};c.allocate_module=function(g){var n=function(){};g&&a(n,"displayName",g+".$$constructor");g&&a(n,"displayName",g+".constructor");a(n,"$$name",g);a(n,"$$prototype",n.prototype);a(n,"$$const",{});a(n,"$$is_module",!0);a(n,"$$is_a_module",!0);a(n,"$$cvars",{});a(n,"$$iclasses",[]);a(n,"$$own_included_modules",[]);a(n,"$$own_prepended_modules",[]);a(n,"$$ancestors",[n]);a(n,"$$ancestors_cache_version",null);x(n,c.Module.prototype);return n};c.module=function(a,n){null==a?a=d:a.$$is_class||
a.$$is_module||(a=a.$$class);var g=a;var b=k(g,n);null==b&&g===d&&(b=h(d,n));if(b&&!b.$$is_module&&b!==d)throw c.TypeError.$new(n+" is not a module");if(g=b)return g;g=c.allocate_module(n);c.const_set(a,n,g);return g};c.get_singleton_class=function(a){return a.$$meta?a.$$meta:a.hasOwnProperty("$$is_class")?c.build_class_singleton_class(a):a.hasOwnProperty("$$is_module")?c.build_module_singletin_class(a):c.build_object_singleton_class(a)};c.build_class_singleton_class=function(g){if(g.$$meta)return g.$$meta;
var n=g===p?b:c.get_singleton_class(g.$$super);n=c.allocate_class(null,n,function(){});a(n,"$$is_singleton",!0);a(n,"$$singleton_of",g);a(g,"$$meta",n);x(g,n.$$prototype);a(g,"$$class",c.Class);return n};c.build_module_singletin_class=function(g){if(g.$$meta)return g.$$meta;var n=c.allocate_class(null,c.Module,function(){});a(n,"$$is_singleton",!0);a(n,"$$singleton_of",g);a(g,"$$meta",n);x(g,n.$$prototype);a(g,"$$class",c.Module);return n};c.build_object_singleton_class=function(g){var n=c.allocate_class(e,
g.$$class,function(){});a(n,"$$is_singleton",!0);a(n,"$$singleton_of",g);delete n.$$prototype.$$class;a(g,"$$meta",n);x(g,g.$$meta.$$prototype);return n};c.is_method=function(a){return"$"===a[0]&&"$"!==a[1]};c.instance_methods=function(a){var g=[],b=[];a=c.ancestors(a);for(var e=0,d=a.length;e<d;e++){var f=a[e].$$prototype;f.hasOwnProperty("$$dummy")&&(f=f.$$define_methods_on);for(var h=Object.getOwnPropertyNames(f),r=0,p=h.length;r<p;r++){var l=h[r];if(c.is_method(l)){var u=l.slice(1);l=f[l];l.$$stub&&
-1===g.indexOf(u)&&g.push(u);l.$$stub||-1!==b.indexOf(u)||-1!==g.indexOf(u)||b.push(u)}}}return b};c.methods=function(a){return c.instance_methods(c.get_singleton_class(a))};c.class_variables=function(a){a=c.ancestors(a);var g,b={};for(g=a.length-1;0<=g;g--){var e=a[g],d;for(d in e.$$cvars)b[d]=e.$$cvars[d]}return b};c.append_features=function(g,n){var b=c.ancestors(g);var e=[];if(-1!==b.indexOf(n))throw c.ArgumentError.$new("cyclic include detected");for(var d=0,f=b.length;d<f;d++){var h=b[d];var r,
p=h,u={},y=p.$$prototype;y.hasOwnProperty("$$dummy")&&(y=y.$$define_methods_on);var m=Object.getOwnPropertyNames(y),t=m.length;for(r=0;r<t;r++){var A=m[r];a(u,A,y[A])}a(u,"$$iclass",!0);a(u,"$$module",p);r=u;h.$$is_module&&h.$$iclasses.push(r);h=r;a(h,"$$included",!0);e.push(h)}d=c.ancestors(n);f=e.length;h=e[0];a(h,"$$root",!0);if(1===f)e=b=h;else{b=h;for(h=1;h<f;h++)r=e[h],x(b,r),b=r;b=e[0];e=e[f-1]}if(-1===d.indexOf(g))g=n.$$prototype,d=Object.getPrototypeOf(n.$$prototype);else{d=n.$$prototype;
for(f=Object.getPrototypeOf(d);null!=f&&(!q(f)||f.$$module!==g);)d=f,f=Object.getPrototypeOf(f);for(f=Object.getPrototypeOf(f);f.hasOwnProperty("$$iclass")&&!q(f);)f=Object.getPrototypeOf(f);g=d;d=f}x(g,b);x(e,d);g=[];for(b=Object.getPrototypeOf(n.$$prototype);b&&!b.hasOwnProperty("$$class");)(e=l(b))&&g.push(e),b=Object.getPrototypeOf(b);n.$$own_included_modules=g;c.const_cache_version++};c.bridge=function(g,n){if(g.hasOwnProperty("$$bridge"))throw c.ArgumentError.$new("already bridged");a(g,"$$bridge",
n);x(g.prototype,(n.$$super||c.Object).$$prototype);a(n,"$$prototype",g.prototype);a(n.$$prototype,"$$class",n);a(n,"$$constructor",g);a(n,"$$bridge",!0)};c.ancestors=function(a){if(!a)return[];if(a.$$ancestors_cache_version===c.const_cache_version)return a.$$ancestors;var g=[],b;var e=0;var d=a.$$own_prepended_modules.concat([a]).concat(a.$$own_included_modules);for(b=d.length;e<b;e++)g.push(d[e]);if(a.$$super)for(e=0,d=c.ancestors(a.$$super),b=d.length;e<b;e++)g.push(d[e]);a.$$ancestors_cache_version=
c.const_cache_version;return a.$$ancestors=g};c.included_modules=function(a){for(var g=[],c=Object.getPrototypeOf(a.$$prototype);c&&Object.getPrototypeOf(c);c=Object.getPrototypeOf(c))(a=l(c))&&a.$$is_module&&c.$$iclass&&c.$$included&&g.push(a);return g};c.ac=function(a,n,b,e){var g="";g=b.$$is_a_module?g+(b.$$name+"."):g+(b.$$class.$$name+"#");throw c.ArgumentError.$new("["+(g+e)+"] wrong number of arguments("+a+" for "+n+")");};c.find_super_dispatcher=function(a,n,b,e,d){d="$"+n;var g;var f=a.hasOwnProperty("$$meta")?
c.ancestors(a.$$meta):c.ancestors(a.$$class);for(b=f.indexOf(b.$$owner)+1;b<f.length;b++){var h=f[b].$$prototype;h.hasOwnProperty("$$dummy")&&(h=h.$$define_methods_on);if(h.hasOwnProperty(d)){d=h[d];d.$$stub||(g=d);break}}if(!e&&null==g&&c.Kernel.$method_missing===a.$method_missing)throw c.NoMethodError.$new("super: no superclass method `"+n+"' for "+a,n);return g};c.ret=function(a){c.returner.$v=a;throw c.returner;};c.brk=function(a,c){c.$v=a;throw c;};c.yield1=function(a,n){if("function"!==typeof a)throw c.LocalJumpError.$new("no block given");
var g=a.$$has_top_level_mlhs_arg,b=a.$$has_trailing_comma_in_args;if(1<a.length||(g||b)&&1===a.length)n=c.to_ary(n);return(1<a.length||b&&1===a.length)&&n.$$is_array?a.apply(null,n):a(n)};c.yieldX=function(a,n){if("function"!==typeof a)throw c.LocalJumpError.$new("no block given");if(1<a.length&&1===n.length&&n[0].$$is_array)return a.apply(null,n[0]);if(!n.$$is_array){for(var g=Array(n.length),b=0,e=g.length;b<e;b++)g[b]=n[b];return a.apply(null,g)}return a.apply(null,n)};c.rescue=function(a,n){for(var g=
0;g<n.length;g++){var b=n[g];if(b.$$is_array){if(b=c.rescue(a,b))return b}else if(b===c.JS.Error||b["$==="](a))return b}return null};c.is_a=function(a,n){if(null!=n&&a.$$meta===n||a.$$class===n||a.$$is_number&&n.$$is_number_class)return!0;var g,b=c.ancestors(a.$$is_class?c.get_singleton_class(a):a.$$meta||a.$$class);a=0;for(g=b.length;a<g;a++)if(b[a]===n)return!0;return!1};c.to_hash=function(a){if(a.$$is_hash)return a;if(a["$respond_to?"]("to_hash",!0)){var g=a.$to_hash();if(g.$$is_hash)return g;
throw c.TypeError.$new("Can't convert "+a.$$class+" to Hash ("+a.$$class+"#to_hash gives "+g.$$class+")");}throw c.TypeError.$new("no implicit conversion of "+a.$$class+" into Hash");};c.to_ary=function(a){if(a.$$is_array)return a;if(a["$respond_to?"]("to_ary",!0)){var g=a.$to_ary();if(g===e)return[a];if(g.$$is_array)return g;throw c.TypeError.$new("Can't convert "+a.$$class+" to Array ("+a.$$class+"#to_ary gives "+g.$$class+")");}return[a]};c.to_a=function(a){if(a.$$is_array)return a.slice();if(a["$respond_to?"]("to_a",
!0)){var g=a.$to_a();if(g===e)return[a];if(g.$$is_array)return g;throw c.TypeError.$new("Can't convert "+a.$$class+" to Array ("+a.$$class+"#to_a gives "+g.$$class+")");}return[a]};c.extract_kwargs=function(a){var g=a[a.length-1];return null!=g&&g["$respond_to?"]("to_hash",!0)?(I.call(a,a.length-1,1),g.$to_hash()):c.hash2([],{})};c.send=function(a,c,b,e){var g="string"===typeof c?a["$"+c]:c;return null!=g?("function"===typeof e&&(g.$$p=e),g.apply(a,b)):a.$method_missing.apply(a,[c].concat(b))};c.lambda=
function(a){a.$$is_lambda=!0;return a};c.def=function(a,b,e){a===c.top?c.defn(c.Object,b,e):!a.$$eval&&a.$$is_a_module?c.defn(a,b,e):c.defs(a,b,e)};c.defn=function(g,b,e){e.displayName=b;e.$$owner=g;var n=g.$$prototype;n.hasOwnProperty("$$dummy")&&(n=n.$$define_methods_on);a(n,b,e);if(g.$$is_module){g.$$module_function&&c.defs(g,b,e);n=0;for(var d=g.$$iclasses,f=d.length;n<f;n++)a(d[n],b,e)}e=g.$$singleton_of;!g.$method_added||g.$method_added.$$stub||e?e&&e.$singleton_method_added&&!e.$singleton_method_added.$$stub&&
e.$singleton_method_added(b.substr(1)):g.$method_added(b.substr(1))};c.defs=function(a,b,e){if(a.$$is_string||a.$$is_number)throw c.TypeError.$new("can't define singleton");c.defn(c.get_singleton_class(a),b,e)};c.udef=function(a,b){if(!a.$$prototype[b]||a.$$prototype[b].$$stub)throw c.NameError.$new("method '"+b.substr(1)+"' not defined in "+a.$name());a.$$is_singleton?a.$$prototype.$singleton_method_undefined&&!a.$$prototype.$singleton_method_undefined.$$stub&&a.$$prototype.$singleton_method_undefined(b.substr(1)):
a.$method_undefined&&!a.$method_undefined.$$stub&&a.$method_undefined(b.substr(1))};c.alias=function(a,b,e){var g="$"+b,n="$"+e,d=a.$$prototype["$"+e];if(a.$$eval)return c.alias(c.get_singleton_class(a),b,e);if(!w(d)){for(var f=a.$$super;"function"!==typeof d&&f;)d=f[n],f=f.$$super;!w(d)&&a.$$is_module&&(d=c.Object.$$prototype[n]);if(!w(d))throw c.NameError.$new("undefined method `"+e+"' for class `"+a.$name()+"'");}d.$$alias_of&&(d=d.$$alias_of);var h=function(){var a=h.$$p,g;var b=Array(arguments.length);
var e=0;for(g=arguments.length;e<g;e++)b[e]=arguments[e];null!=a&&(h.$$p=null);return c.send(this,d,b,a)};Object.defineProperty(h,"length",{value:d.length});h.displayName=b;h.$$arity=d.$$arity;h.$$parameters=d.$$parameters;h.$$source_location=d.$$source_location;h.$$alias_of=d;h.$$alias_name=b;c.defn(a,g,h);return a};c.hash_init=function(a){a.$$smap=Object.create(null);a.$$map=Object.create(null);a.$$keys=[]};c.hash_clone=function(a,b){b.$$none=a.$$none;b.$$proc=a.$$proc;var g=0,e=a.$$keys;a=a.$$smap;
for(var n=e.length,d,f;g<n;g++)d=e[g],d.$$is_string?f=a[d]:(f=d.value,d=d.key),c.hash_put(b,d,f)};c.hash_put=function(a,b,e){if(b.$$is_string)y.call(a.$$smap,b)||a.$$keys.push(b),a.$$smap[b]=e;else{var g;var n=a.$$by_identity?c.id(b):b.$hash();if(y.call(a.$$map,n)){for(g=a.$$map[n];g;){if(b===g.key||b["$eql?"](g.key)){var d=void 0;g.value=e;break}d=g;g=g.next}d&&(g={key:b,key_hash:n,value:e},a.$$keys.push(g),d.next=g)}else g={key:b,key_hash:n,value:e},a.$$keys.push(g),a.$$map[n]=g}};c.hash_get=function(a,
b){if(b.$$is_string){if(y.call(a.$$smap,b))return a.$$smap[b]}else{var g=a.$$by_identity?c.id(b):b.$hash();if(y.call(a.$$map,g))for(a=a.$$map[g];a;){if(b===a.key||b["$eql?"](a.key))return a.value;a=a.next}}};c.hash=function(){var a=arguments.length,b;if(1===a&&arguments[0].$$is_hash)return arguments[0];var e=new c.Hash;c.hash_init(e);if(1===a&&arguments[0].$$is_array){a=arguments[0];var d=a.length;for(b=0;b<d;b++){if(2!==a[b].length)throw c.ArgumentError.$new("value not of length 2: "+a[b].$inspect());
var f=a[b][0];var h=a[b][1];c.hash_put(e,f,h)}return e}if(1===a){a=arguments[0];for(f in a)y.call(a,f)&&(h=a[f],c.hash_put(e,f,h));return e}if(0!==a%2)throw c.ArgumentError.$new("odd number of arguments for Hash");for(b=0;b<a;b+=2)f=arguments[b],h=arguments[b+1],c.hash_put(e,f,h);return e};c.hash2=function(a,b){var g=new c.Hash;g.$$smap=b;g.$$map=Object.create(null);g.$$keys=a;return g};c.range=function(a,b,e){var g=new c.Range;g.begin=a;g.end=b;g.excl=e;return g};c.ivar=function(a){return"constructor"===
a||"displayName"===a||"__count__"===a||"__noSuchMethod__"===a||"__parent__"===a||"__proto__"===a||"hasOwnProperty"===a||"valueOf"===a?a+"$":a};c.global_regexp=function(a){if(a.global)return a;null==a.$$g?a.$$g=new RegExp(a.source,(a.multiline?"gm":"g")+(a.ignoreCase?"i":"")):a.$$g.lastIndex=null;return a.$$g};c.global_multiline_regexp=function(a){if(a.multiline){if(a.global)return a;a=null!=a.$$g?a.$$g:a.$$g=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""))}else a=null!=a.$$gm?a.$$gm:a.$$gm=new RegExp(a.source,
"gm"+(a.ignoreCase?"i":""));a.lastIndex=null;return a};c.modules={};c.loaded_features=["corelib/runtime"];c.current_dir=".";c.require_table={"corelib/runtime":!0};c.normalize=function(a){var b=[];"."!==c.current_dir&&(a=c.current_dir.replace(/\/*$/,"/")+a);a=a.replace(/^\.\//,"");a=a.replace(/\.(rb|opal|js)$/,"");a=a.split("/");for(var g=0,e=a.length;g<e;g++){var d=a[g];""!==d&&(".."===d?b.pop():b.push(d))}return b.join("/")};c.loaded=function(a){var b;var g=0;for(b=a.length;g<b;g++){var e=c.normalize(a[g]);
c.require_table[e]||(c.loaded_features.push(e),c.require_table[e]=!0)}};c.load=function(a){a=c.normalize(a);c.loaded([a]);var b=c.modules[a];if(b)b(c);else{b=c.config.missing_require_severity;a="cannot load such file -- "+a;if("error"===b){if(c.LoadError)throw c.LoadError.$new(a);throw a;}"warning"===b&&r.warn("WARNING: LoadError: "+a)}return!0};c.require=function(a){a=c.normalize(a);return c.require_table[a]?!1:c.load(a)};c.encodings=Object.create(null);c.set_encoding=function(a,b){if("string"===
typeof a)throw c.FrozenError.$new("can't modify frozen String");b=c.encodings[b];if(b===a.encoding)return a;a.encoding=b;return a};c.BasicObject=p=c.allocate_class("BasicObject",null,function(){});c.Object=d=c.allocate_class("Object",c.BasicObject,function(){});c.Module=t=c.allocate_class("Module",c.Object,function(){});c.Class=b=c.allocate_class("Class",c.Module,function(){});x(c.BasicObject,c.Class.$$prototype);x(c.Object,c.Class.$$prototype);x(c.Module,c.Class.$$prototype);x(c.Class,c.Class.$$prototype);
p.$$const.BasicObject=p;c.const_set(d,"BasicObject",p);c.const_set(d,"Object",d);c.const_set(d,"Module",t);c.const_set(d,"Class",b);p.$$class=b;d.$$class=b;t.$$class=b;b.$$class=b;a(d.$$prototype,"toString",function(){var a=this.$to_s();return a.$$is_string&&"object"===typeof a?a.valueOf():a});a(d.$$prototype,"$require",c.require);c.$$=d.$$;c.top=new d;c.top.$to_s=c.top.$inspect=function(){return"main"};c.top.$define_method=m;c.NilClass=c.allocate_class("NilClass",c.Object,function(){});c.const_set(d,
"NilClass",c.NilClass);var e=c.nil=new c.NilClass;e.$$id=4;e.call=e.apply=function(){throw c.LocalJumpError.$new("no block given");};c.breaker=Error("unexpected break (old)");c.returner=Error("unexpected return");TypeError.$$super=Error}).call();Opal.loaded(["corelib/runtime.js"]);
Opal.modules["corelib/helpers"]=function(a){var k=[],h=a.nil,f=a.const_get_relative,q=a.module,l=a.truthy,w=a.send;return function(m,t){m=q(m,"Opal");var r=[m].concat(t),p,d,b,c,y,A,x,u,k,H;a.defs(m,"$bridge",p=function(c,b){return a.bridge(c,b)},p.$$arity=2);a.defs(m,"$type_error",d=function(a,c,b,d){var e;null==b&&(b=h);null==d&&(d=h);return l(l(e=b)?d:e)?f(r,"TypeError").$new("can't convert "+a.$class()+" into "+c+" ("+a.$class()+"#"+b+" gives "+d.$class()+")"):f(r,"TypeError").$new("no implicit conversion of "+
a.$class()+" into "+c)},d.$$arity=-3);a.defs(m,"$coerce_to",b=function(c,b,d,f){var e=a.slice.call(arguments,3,arguments.length);if(l(b["$==="](c)))return c;l(c["$respond_to?"](d))||this.$raise(this.$type_error(c,b));return w(c,"__send__",[d].concat(a.to_a(e)))},b.$$arity=-4);a.defs(m,"$coerce_to!",c=function(c,b,d,f){var e=a.slice.call(arguments,3,arguments.length);e=w(this,"coerce_to",[c,b,d].concat(a.to_a(e)));l(b["$==="](e))||this.$raise(this.$type_error(c,b,d,e));return e},c.$$arity=-4);a.defs(m,
"$coerce_to?",y=function(c,b,d,f){var e=a.slice.call(arguments,3,arguments.length);if(!l(c["$respond_to?"](d)))return h;e=w(this,"coerce_to",[c,b,d].concat(a.to_a(e)));if(l(e["$nil?"]()))return h;l(b["$==="](e))||this.$raise(this.$type_error(c,b,d,e));return e},y.$$arity=-4);a.defs(m,"$compare",A=function(a,c){var b=a["$<=>"](c);l(b===h)&&this.$raise(f(r,"ArgumentError"),"comparison of "+a.$class()+" with "+c.$class()+" failed");return b},A.$$arity=2);a.defs(m,"$destructure",x=function(a){if(1==a.length)return a[0];
if(a.$$is_array)return a;for(var c=Array(a.length),b=0,e=c.length;b<e;b++)c[b]=a[b];return c},x.$$arity=1);a.defs(m,"$respond_to?",u=function(a,c,b){null==b&&(b=!1);return null!=a&&a.$$class?a["$respond_to?"](c,b):!1},u.$$arity=-3);a.defs(m,"$const_name!",k=function(a){a=f(r,"Opal")["$coerce_to!"](a,f(r,"String"),"to_str");l(a["$[]"](0)["$!="](a["$[]"](0).$upcase()))&&this.$raise(f(r,"NameError"),"wrong constant name "+a);return a},k.$$arity=1);a.defs(m,"$pristine",H=function(c,b){var e=a.slice.call(arguments,
1,arguments.length);for(var d,g=e.length-1;0<=g;g--)d=e[g],(d=c.$$prototype["$"+d])&&!d.$$stub&&(d.$$pristine=!0);return h},H.$$arity=-2)}(k[0],k)};
Opal.modules["corelib/module"]=function(a){function k(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}var h=[],f=a.nil,q=a.const_get_qualified,l=a.const_get_relative,w=a.klass,m=a.send,t=a.truthy,r=a.hash2,p=a.lambda,d=a.range;return function(b,$super,h){b=w(b,$super,"Module");var y=[b].concat(h),x,u,I,H,e,g,n,G,L,C,O,E,K,M,v,z,F,N,T,B,P,Q,J,U,R,S,W,Y,X,V,Z,D;a.defs(b,"$allocate",x=function(){var b=a.allocate_module(f,function(){});this!==a.Module&&Object.setPrototypeOf(b,this.$$prototype);
return b},x.$$arity=0);a.def(b,"$initialize",u=function(){var a=u.$$p,b=a||f;a&&(u.$$p=null);a&&(u.$$p=null);return b!==f?m(this,"module_eval",[],b.$to_proc()):f},u.$$arity=0);a.def(b,"$===",I=function(b){return t(null==b)?!1:a.is_a(b,this)},I.$$arity=1);a.def(b,"$<",H=function(b){t(l(y,"Module")["$==="](b))||this.$raise(l(y,"TypeError"),"compared with non class/module");var e;if(this===b)return!1;var d=0;var g=a.ancestors(this);for(e=g.length;d<e;d++)if(g[d]===b)return!0;d=0;g=a.ancestors(b);for(e=
g.length;d<e;d++)if(g[d]===this)return!1;return f},H.$$arity=1);a.def(b,"$<=",e=function(a){var b;return t(b=this["$equal?"](a))?b:k(this,a)},e.$$arity=1);a.def(b,"$>",g=function(a){t(l(y,"Module")["$==="](a))||this.$raise(l(y,"TypeError"),"compared with non class/module");return k(a,this)},g.$$arity=1);a.def(b,"$>=",n=function(a){var b;return t(b=this["$equal?"](a))?b:"number"===typeof this&&"number"===typeof a?this>a:this["$>"](a)},n.$$arity=1);a.def(b,"$<=>",G=function(a){if(this===a)return 0;
if(!t(l(y,"Module")["$==="](a)))return f;a=k(this,a);return t(a["$nil?"]())?f:t(a)?-1:1},G.$$arity=1);a.def(b,"$alias_method",L=function(b,e){b=l(y,"Opal").$coerce_to(b,l(y,"String"),"to_str");e=l(y,"Opal").$coerce_to(e,l(y,"String"),"to_str");a.alias(this,b,e);return this},L.$$arity=2);a.def(b,"$append_features",C=function(b){a.append_features(this,b);return this},C.$$arity=1);a.def(b,"$attr_accessor",O=function(b){var e=a.slice.call(arguments,0,arguments.length);m(this,"attr_reader",a.to_a(e));
return m(this,"attr_writer",a.to_a(e))},O.$$arity=-1);a.def(b,"$attr_reader",E=function(b){var e=a.slice.call(arguments,0,arguments.length);for(var d=this.$$prototype,g=e.length-1;0<=g;g--){var D=e[g],h="$"+D;D=a.ivar(D);var n=function(a){return function(){return null==this[a]?f:this[a]}}(D);a.defineProperty(d,D,f);n.$$parameters=[];n.$$arity=0;a.defn(this,h,n)}return f},E.$$arity=-1);a.def(b,"$attr_writer",K=function(b){var e=a.slice.call(arguments,0,arguments.length);for(var d=this.$$prototype,
g=e.length-1;0<=g;g--){var D=e[g],h="$"+D+"=";D=a.ivar(D);var n=function(a){return function(b){return this[a]=b}}(D);n.$$parameters=[["req"]];n.$$arity=1;a.defineProperty(d,D,f);a.defn(this,h,n)}return f},K.$$arity=-1);a.def(b,"$const_defined?",M=function(b,e){null==e&&(e=!0);b=l(y,"Opal")["$const_name!"](b);t(b["$=~"](q(l(y,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(l(y,"NameError").$new("wrong constant name "+b,b));var d=[this],g;e&&(d=d.concat(a.ancestors(this)),this.$$is_module&&(d=d.concat([a.Object]).concat(a.ancestors(a.Object))));
var D=0;for(g=d.length;D<g;D++)if(e=d[D],null!=e.$$const[b])return!0;return!1},M.$$arity=-2);a.def(b,"$const_get",v=function(b,e){var d;null==e&&(e=!0);b=l(y,"Opal")["$const_name!"](b);0===b.indexOf("::")&&"::"!==b&&(b=b.slice(2));if(t(-1!=b.indexOf("::")&&"::"!=b))return m(b.$split("::"),"inject",[this],(d=function(a,b){null==a&&(a=f);null==b&&(b=f);return a.$const_get(b)},d.$$s=this,d.$$arity=2,d));t(b["$=~"](q(l(y,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(l(y,"NameError").$new("wrong constant name "+
b,b));return e?l([this],b):a.const_get_local(this,b)},v.$$arity=-2);a.def(b,"$const_missing",z=function(a){var b;if(this.$$autoload&&(b=this.$$autoload[a]))return this.$require(b),this.$const_get(a);b=this["$=="](l(y,"Object"))?a:""+this+"::"+a;return this.$raise(l(y,"NameError").$new("uninitialized constant "+b,a))},z.$$arity=1);a.def(b,"$const_set",F=function(b,e){var d;b=l(y,"Opal")["$const_name!"](b);t(t(d=b["$!~"](q(l(y,"Opal"),"CONST_NAME_REGEXP")))?d:b["$start_with?"]("::"))&&this.$raise(l(y,
"NameError").$new("wrong constant name "+b,b));a.const_set(this,b,e);return e},F.$$arity=2);a.def(b,"$define_method",N=function(b,e){var d=N.$$p,g=d||f,D,h,n=this,r=f;d&&(N.$$p=null);d&&(N.$$p=null);t(void 0===e&&g===f)&&n.$raise(l(y,"ArgumentError"),"tried to create a Proc object without a block");g=t(D=g)?D:function(){r=e;return l(y,"Proc")["$==="](r)?e:l(y,"Method")["$==="](r)?e.$to_proc().$$unbound:l(y,"UnboundMethod")["$==="](r)?p((h=function(b){var d=null==h.$$s?this:h.$$s;var g=a.slice.call(arguments,
0,arguments.length);d=e.$bind(d);return m(d,"call",a.to_a(g))},h.$$s=n,h.$$arity=-1,h)):n.$raise(l(y,"TypeError"),"wrong argument type "+g.$class()+" (expected Proc/Method)")}();g.$$jsid=b;g.$$s=null;g.$$def=g;g.$$define_meth=!0;a.defn(n,"$"+b,g);return b},N.$$arity=-2);a.def(b,"$include",T=function(b){var e=a.slice.call(arguments,0,arguments.length);for(var d=e.length-1;0<=d;d--){var g=e[d];g.$$is_module||this.$raise(l(y,"TypeError"),"wrong argument type "+g.$class()+" (expected Module)");g.$append_features(this);
g.$included(this)}return this},T.$$arity=-1);a.def(b,"$include?",B=function(b){b.$$is_module||this.$raise(l(y,"TypeError"),"wrong argument type "+b.$class()+" (expected Module)");var e,d=a.ancestors(this);var g=0;for(e=d.length;g<e;g++){var D=d[g];if(D===b&&D!==this)return!0}return!1},B.$$arity=1);a.def(b,"$included",P=function(a){return f},P.$$arity=1);a.def(b,"$extended",Q=function(a){return f},Q.$$arity=1);a.def(b,"$extend_object",J=function(a){return f},J.$$arity=1);a.def(b,"$method_added",U=
function(b){a.slice.call(arguments,0,arguments.length);return f},U.$$arity=-1);a.def(b,"$method_undefined",R=function(b){a.slice.call(arguments,0,arguments.length);return f},R.$$arity=-1);a.def(b,"$module_eval",S=function(b){var e=S.$$p,g=e||f,D,h,n=f,p=f,u=p=p=f;e&&(S.$$p=null);e&&(S.$$p=null);e=a.slice.call(arguments,0,arguments.length);t(t(D=g["$nil?"]())?!!a.compile:D)?(t(d(1,3,!1)["$cover?"](e.$size()))||l(y,"Kernel").$raise(l(y,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),D=[].concat(a.to_a(e)),
n=null==D[0]?f:D[0],p=null==D[1]?f:D[1],D,p=r(["file","eval"],{file:t(D=p)?D:"(eval)",eval:!0}),p=a.hash({arity_check:!1}).$merge(p),u=l(y,"Opal").$compile(n,p),g=m(l(y,"Kernel"),"proc",[],(h=function(){return function(a){return eval(u)}(null==h.$$s?this:h.$$s)},h.$$s=this,h.$$arity=0,h))):t(e["$any?"]())&&l(y,"Kernel").$raise(l(y,"ArgumentError"),"wrong number of arguments ("+e.$size()+" for 0)\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n");
D=g.$$s;g.$$s=null;e=g.apply(this,[this]);g.$$s=D;return e},S.$$arity=-1);a.def(b,"$module_function",W=function(b){var e=a.slice.call(arguments,0,arguments.length);if(0===e.length)this.$$module_function=!0;else for(var g=0,d=e.length;g<d;g++){var D="$"+e[g];a.defs(this,D,this.$$prototype[D])}return this},W.$$arity=-1);a.def(b,"$name",Y=function(){if(this.$$full_name)return this.$$full_name;for(var b=[],e=this;e;){if(e.$$name===f||null==e.$$name)return f;b.unshift(e.$$name);e=e.$$base_module;if(e===
a.Object)break}return 0===b.length?f:this.$$full_name=b.join("::")},Y.$$arity=0);a.def(b,"$to_s",X=function(){var b;return t(b=a.Module.$name.call(this))?b:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"},X.$$arity=0);a.def(b,"$dup",V=function(){var b=V.$$p,e;b&&(V.$$p=null);var g=0;var d=arguments.length;for(e=Array(d);g<d;g++)e[g]=arguments[g];b=m(this,a.find_super_dispatcher(this,"dup",V,!1),e,b);b.$copy_class_variables(this);b.$copy_constants(this);return b},V.$$arity=
0);a.def(b,"$copy_class_variables",Z=function(a){for(var b in a.$$cvars)this.$$cvars[b]=a.$$cvars[b]},Z.$$arity=1);return(a.def(b,"$copy_constants",D=function(b){var e;b=b.$$const;for(e in b)a.const_set(this,e,b[e])},D.$$arity=1),f)&&"copy_constants"}(h[0],null,h)};
Opal.modules["corelib/class"]=function(a){var k=[],h=a.nil,f=a.const_get_relative,q=a.klass,l=a.send;a.top.$require("corelib/module");return function(k,$super,t){k=q(k,$super,"Class");var r=[k].concat(t),p,d,b,c,y,A;a.defs(k,"$new",p=function(b){var c=p.$$p,d=c||h;c&&(p.$$p=null);c&&(p.$$p=null);null==b&&(b=f(r,"Object"));if(!b.$$is_class)throw a.TypeError.$new("superclass must be a Class");c=a.allocate_class(h,b);b.$inherited(c);d!==h&&l(c,"class_eval",[],d.$to_proc());return c},p.$$arity=-1);a.def(k,
"$allocate",d=function(){var b=new this.$$constructor;b.$$id=a.uid();return b},d.$$arity=0);a.def(k,"$inherited",b=function(a){return h},b.$$arity=1);a.def(k,"$initialize_dup",c=function(a){this.$initialize_copy(a);this.$$full_name=this.$$name=null},c.$$arity=1);a.def(k,"$new",y=function(b){var c=y.$$p,d=c||h;c&&(y.$$p=null);c&&(y.$$p=null);c=a.slice.call(arguments,0,arguments.length);var f=this.$allocate();a.send(f,f.$initialize,c,d);return f},y.$$arity=-1);return(a.def(k,"$to_s",A=function(){A.$$p&&
(A.$$p=null);var b=this.$$singleton_of;return b&&b.$$is_a_module?"#<Class:"+b.$name()+">":b?"#<Class:#<"+b.$$class.$name()+":0x"+a.id(b).$to_s(16)+">>":l(this,a.find_super_dispatcher(this,"to_s",A,!1),[],null)},A.$$arity=0),h)&&"to_s"}(k[0],null,k)};
Opal.modules["corelib/basic_object"]=function(a){var k=[],h=a.nil,f=a.const_get_qualified,q=a.klass,l=a.truthy,w=a.range,m=a.hash2,t=a.send;return function(r,$super,d){r=q(r,$super,"BasicObject");[r].concat(d);var b,c,y,k,x,u,I,H,e,g,n,G,L;a.def(r,"$initialize",b=function(b){a.slice.call(arguments,0,arguments.length);return h},b.$$arity=-1);a.def(r,"$==",c=function(a){return this===a},c.$$arity=1);a.def(r,"$eql?",y=function(a){return this["$=="](a)},y.$$arity=1);a.alias(r,"equal?","==");a.def(r,"$__id__",
k=function(){if(null!=this.$$id)return this.$$id;a.defineProperty(this,"$$id",a.uid());return this.$$id},k.$$arity=0);a.def(r,"$__send__",x=function(b,c){var e=x.$$p,d=e||h;e&&(x.$$p=null);e&&(x.$$p=null);e=a.slice.call(arguments,1,arguments.length);var g=this["$"+b];if(g)return d!==h&&(g.$$p=d),g.apply(this,e);d!==h&&(this.$method_missing.$$p=d);return this.$method_missing.apply(this,[b].concat(e))},x.$$arity=-2);a.def(r,"$!",u=function(){return!1},u.$$arity=0);a.def(r,"$!=",I=function(a){return this["$=="](a)["$!"]()},
I.$$arity=1);a.def(r,"$instance_eval",H=function(b){var c=H.$$p,e=c||h,d,g,n=h,r=h,y=r=r=h;c&&(H.$$p=null);c&&(H.$$p=null);c=a.slice.call(arguments,0,arguments.length);l(l(d=e["$nil?"]())?!!a.compile:d)?(l(w(1,3,!1)["$cover?"](c.$size()))||f("::","Kernel").$raise(f("::","ArgumentError"),"wrong number of arguments (0 for 1..3)"),d=[].concat(a.to_a(c)),n=null==d[0]?h:d[0],r=null==d[1]?h:d[1],d,r=m(["file","eval"],{file:l(d=r)?d:"(eval)",eval:!0}),r=a.hash({arity_check:!1}).$merge(r),y=f("::","Opal").$compile(n,
r),e=t(f("::","Kernel"),"proc",[],(g=function(){return function(a){return eval(y)}(null==g.$$s?this:g.$$s)},g.$$s=this,g.$$arity=0,g))):l(c["$any?"]())&&f("::","Kernel").$raise(f("::","ArgumentError"),"wrong number of arguments ("+c.$size()+" for 0)");d=e.$$s;e.$$s=null;if(this.$$is_a_module){this.$$eval=!0;try{var u=e.call(this,this)}finally{this.$$eval=!1}}else u=e.call(this,this);e.$$s=d;return u},H.$$arity=-1);a.def(r,"$singleton_method_added",e=function(b){a.slice.call(arguments,0,arguments.length);
return h},e.$$arity=-1);a.def(r,"$singleton_method_undefined",g=function(b){a.slice.call(arguments,0,arguments.length);return h},g.$$arity=-1);a.def(r,"$class",n=function(){return this.$$class},n.$$arity=0);a.def(r,"$method_missing",G=function(b,c){var e=G.$$p;e&&(G.$$p=null);e&&(G.$$p=null);a.slice.call(arguments,1,arguments.length);e=l(this.$inspect&&!this.$inspect.$$stub)?"undefined method `"+b+"' for "+this.$inspect()+":"+this.$$class:"undefined method `"+b+"' for "+this.$$class;return f("::",
"Kernel").$raise(f("::","NoMethodError").$new(e,b))},G.$$arity=-2);return(a.def(r,"$respond_to_missing?",L=function(a,b){return!1},L.$$arity=-2),h)&&"respond_to_missing?"}(k[0],null,k)};
Opal.modules["corelib/kernel"]=function(a){var k=[],h=a.nil,f=a.const_get_qualified,q=a.const_get_relative,l=a.module,w=a.truthy,m=a.gvars,t=a.hash2,r=a.send,p=a.klass;(function(d,b){d=l(d,"Kernel");var c=[d].concat(b),p,k,x,u,I,H,e,g,n,G,L,C,O,E,K,M,v,z,F,N,T,B,P,Q,J,U,R,S,W,Y,X,V,Z,D,ca,aa,ba;a.def(d,"$method_missing",p=function(b,e){var d=p.$$p;d&&(p.$$p=null);d&&(p.$$p=null);d=a.slice.call(arguments,1,arguments.length);return this.$raise(q(c,"NoMethodError").$new("undefined method `"+b+"' for "+
this.$inspect(),b,d))},p.$$arity=-2);a.def(d,"$=~",k=function(a){return!1},k.$$arity=1);a.def(d,"$!~",x=function(a){return this["$=~"](a)["$!"]()},x.$$arity=1);a.def(d,"$===",u=function(a){var b;return w(b=this.$object_id()["$=="](a.$object_id()))?b:this["$=="](a)},u.$$arity=1);a.def(d,"$<=>",I=function(a){this.$$comparable=!0;return(a=this["$=="](a))&&a!==h?0:h},I.$$arity=1);a.def(d,"$caller",H=function(b){a.slice.call(arguments,0,arguments.length);return[]},H.$$arity=-1);a.def(d,"$class",e=function(){return this.$$class},
e.$$arity=0);a.def(d,"$copy_instance_variables",g=function(a){var b=Object.keys(a),c;var e=0;for(c=b.length;e<c;e++){var d=b[e];"$"!==d.charAt(0)&&a.hasOwnProperty(d)&&(this[d]=a[d])}},g.$$arity=1);a.def(d,"$copy_singleton_methods",n=function(b){var c;if(b.hasOwnProperty("$$meta")){var e=a.get_singleton_class(b),d=a.get_singleton_class(this);var g=Object.getOwnPropertyNames(e.$$prototype);var D=0;for(c=g.length;D<c;D++){var h=g[D];a.is_method(h)&&(d.$$prototype[h]=e.$$prototype[h])}d.$$const=Object.assign({},
e.$$const);Object.setPrototypeOf(d.$$prototype,Object.getPrototypeOf(e.$$prototype))}D=0;g=Object.getOwnPropertyNames(b);for(c=g.length;D<c;D++)h=g[D],"$"===h.charAt(0)&&"$"!==h.charAt(1)&&b.hasOwnProperty(h)&&(this[h]=b[h])},n.$$arity=1);a.def(d,"$clone",G=function(b){if(null==b)t([],{});else if(!b.$$is_hash)throw a.ArgumentError.$new("expected kwargs");b=this.$class().$allocate();b.$copy_instance_variables(this);b.$copy_singleton_methods(this);b.$initialize_clone(this);return b},G.$$arity=-1);a.def(d,
"$initialize_clone",L=function(a){return this.$initialize_copy(a)},L.$$arity=1);a.def(d,"$dup",C=function(){var a=this.$class().$allocate();a.$copy_instance_variables(this);a.$initialize_dup(this);return a},C.$$arity=0);a.def(d,"$initialize_dup",O=function(a){return this.$initialize_copy(a)},O.$$arity=1);a.def(d,"$enum_for",E=function(b,e){var d=E.$$p,g=d||h;d&&(E.$$p=null);d&&(E.$$p=null);d=a.slice.call(arguments,0,arguments.length);if(0<d.length){var D=d[0];d.splice(0,1)}null==D&&(D="each");return r(q(c,
"Enumerator"),"for",[this,D].concat(a.to_a(d)),g.$to_proc())},E.$$arity=-1);a.def(d,"$equal?",K=function(a){return this===a},K.$$arity=1);a.def(d,"$extend",M=function(b){var e=a.slice.call(arguments,0,arguments.length);for(var d=this.$singleton_class(),g=e.length-1;0<=g;g--){var D=e[g];D.$$is_module||this.$raise(q(c,"TypeError"),"wrong argument type "+D.$class()+" (expected Module)");D.$append_features(d);D.$extend_object(this);D.$extended(this)}return this},M.$$arity=-1);a.def(d,"$hash",v=function(){return this.$__id__()},
v.$$arity=0);a.def(d,"$initialize_copy",z=function(a){return h},z.$$arity=1);a.def(d,"$inspect",F=function(){return this.$to_s()},F.$$arity=0);a.def(d,"$instance_of?",N=function(a){a.$$is_class||a.$$is_module||this.$raise(q(c,"TypeError"),"class or module required");return this.$$class===a},N.$$arity=1);a.def(d,"$Integer",T=function(a,b){var e=this;if(!a.$$is_string){void 0!==b&&e.$raise(q(c,"ArgumentError"),"base specified for non string value");a===h&&e.$raise(q(c,"TypeError"),"can't convert nil into Integer");
if(a.$$is_number)return(Infinity===a||-Infinity===a||isNaN(a))&&e.$raise(q(c,"FloatDomainError"),a),Math.floor(a);if(a["$respond_to?"]("to_int")){var d=a.$to_int();if(d!==h)return d}return q(c,"Opal")["$coerce_to!"](a,q(c,"Integer"),"to_i")}if("0"===a)return 0;void 0===b?b=0:(b=q(c,"Opal").$coerce_to(b,q(c,"Integer"),"to_int"),(1===b||0>b||36<b)&&e.$raise(q(c,"ArgumentError"),"invalid radix "+b));d=a.toLowerCase();d=d.replace(/(\d)_(?=\d)/g,"$1");d=d.replace(/^(\s*[+-]?)(0[bodx]?)/,function(d,g,D){switch(D){case "0b":if(0===
b||2===b)return b=2,g;case "0":case "0o":if(0===b||8===b)return b=8,g;case "0d":if(0===b||10===b)return b=10,g;case "0x":if(0===b||16===b)return b=16,g}e.$raise(q(c,"ArgumentError"),'invalid value for Integer(): "'+a+'"')});b=0===b?10:b;var g="0-"+(10>=b?b-1:"9a-"+String.fromCharCode(97+(b-11)));(new RegExp("^\\s*[+-]?["+g+"]+\\s*$")).test(d)||e.$raise(q(c,"ArgumentError"),'invalid value for Integer(): "'+a+'"');d=parseInt(d,b);isNaN(d)&&e.$raise(q(c,"ArgumentError"),'invalid value for Integer(): "'+
a+'"');return d},T.$$arity=-2);a.def(d,"$Float",B=function(a){a===h&&this.$raise(q(c,"TypeError"),"can't convert nil into Float");if(a.$$is_string){var b=a.toString();b=b.replace(/(\d)_(?=\d)/g,"$1");if(/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(b))return this.$Integer(b);/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(b)||this.$raise(q(c,"ArgumentError"),'invalid value for Float(): "'+a+'"');return parseFloat(b)}return q(c,"Opal")["$coerce_to!"](a,q(c,"Float"),"to_f")},B.$$arity=1);a.def(d,"$is_a?",
P=function(b){b.$$is_class||b.$$is_module||this.$raise(q(c,"TypeError"),"class or module required");return a.is_a(this,b)},P.$$arity=1);a.def(d,"$nil?",Q=function(){return!1},Q.$$arity=0);a.alias(d,"object_id","__id__");a.def(d,"$proc",J=function(){var a=J.$$p,b=a||h;a&&(J.$$p=null);a&&(J.$$p=null);w(b)||this.$raise(q(c,"ArgumentError"),"tried to create Proc object without a block");b.$$is_lambda=!1;return b},J.$$arity=0);a.def(d,"$puts",U=function(b){null==m.stdout&&(m.stdout=h);var c=a.slice.call(arguments,
0,arguments.length);return r(m.stdout,"puts",a.to_a(c))},U.$$arity=-1);a.def(d,"$warn",R=function(b,e){var d,g;null==m.VERBOSE&&(m.VERBOSE=h);null==m.stderr&&(m.stderr=h);var D=a.slice.call(arguments,0,arguments.length);var f=a.extract_kwargs(D);if(null==f)f=t([],{});else if(!f.$$is_hash)throw a.ArgumentError.$new("expected kwargs");f=f.$$smap.uplevel;null==f&&(f=h);w(f)&&(f=q(c,"Opal")["$coerce_to!"](f,q(c,"Integer"),"to_str"),w("number"===typeof f?0>f:f["$<"](0))&&this.$raise(q(c,"ArgumentError"),
"negative level ("+f+")"),D=r(D,"map",[],(d=function(a){return"warning: "+(null==d.$$s?this:d.$$s).$caller()},d.$$s=this,d.$$arity=1,d)));return w(w(g=m.VERBOSE["$nil?"]())?g:D["$empty?"]())?h:r(m.stderr,"puts",a.to_a(D))},R.$$arity=-1);a.def(d,"$raise",S=function(b,e,d){null==m["!"]&&(m["!"]=h);null==e&&(e=h);if(null==b&&m["!"]!==h)throw m["!"];null==b?b=q(c,"RuntimeError").$new():b.$$is_string?b=q(c,"RuntimeError").$new(b):b.$$is_class&&b["$respond_to?"]("exception")?b=b.$exception(e):b["$is_a?"](q(c,
"Exception"))||(b=q(c,"TypeError").$new("exception class/object expected"));m["!"]!==h&&a.exceptions.push(m["!"]);m["!"]=b;throw b;},S.$$arity=-1);a.def(d,"$rand",W=function(a){if(void 0===a)return f(q(c,"Random"),"DEFAULT").$rand();a.$$is_number&&(0>a&&(a=Math.abs(a)),0!==a%1&&(a=a.$to_i()),0===a&&(a=void 0));return f(q(c,"Random"),"DEFAULT").$rand(a)},W.$$arity=-1);a.def(d,"$respond_to?",Y=function(a,b){null==b&&(b=!1);if(w(this["$respond_to_missing?"](a,b)))return!0;a=this["$"+a];return"function"!==
typeof a||a.$$stub?!1:!0},Y.$$arity=-2);a.def(d,"$respond_to_missing?",X=function(a,b){return!1},X.$$arity=-2);a.def(d,"$require",V=function(b){b=q(c,"Opal")["$coerce_to!"](b,q(c,"String"),"to_str");return a.require(b)},V.$$arity=1);a.alias(d,"send","__send__");a.alias(d,"public_send","__send__");a.def(d,"$singleton_class",Z=function(){return a.get_singleton_class(this)},Z.$$arity=0);a.def(d,"$srand",D=function(a){null==a&&(a=q(c,"Random").$new_seed());return q(c,"Random").$srand(a)},D.$$arity=-1);
a.def(d,"$String",ca=function(a){var b;return w(b=q(c,"Opal")["$coerce_to?"](a,q(c,"String"),"to_str"))?b:q(c,"Opal")["$coerce_to!"](a,q(c,"String"),"to_s")},ca.$$arity=1);a.def(d,"$to_proc",aa=function(){return this},aa.$$arity=0);a.def(d,"$to_s",ba=function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+">"},ba.$$arity=0)})(k[0],k);return function(a,$super,c){a=p(a,$super,"Object");c=[a].concat(c);return a.$include(q(c,"Kernel"))}(k[0],null,k)};
Opal.modules["corelib/error"]=function(a){var k=[],h=a.nil,f=a.const_get_relative,q=a.klass,l=a.send,w=a.truthy,m=a.module,t=a.hash2;(function(f,$super,d){f=q(f,$super,"Exception");[f].concat(d);var b,c,r,m,t,u;f.$$prototype.message=h;a.defs(f,"$new",b=function(b){var c=a.slice.call(arguments,0,arguments.length);var d=0<c.length?c[0]:h,f=new this.$$constructor(d);f.name=this.$$name;f.message=d;a.send(f,f.$initialize,c);a.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(f,
k);return f},b.$$arity=-1);var k=f.$new;a.defs(f,"$exception",c=function(b){var c=a.slice.call(arguments,0,arguments.length);return l(this,"new",a.to_a(c))},c.$$arity=-1);a.def(f,"$initialize",r=function(b){var c=a.slice.call(arguments,0,arguments.length);return this.message=0<c.length?c[0]:h},r.$$arity=-1);a.def(f,"$exception",m=function(a){null==a&&(a=h);if(a===h||this===a)return this;var b=this.$clone();b.message=a;b.stack=this.stack;return b},m.$$arity=-1);a.def(f,"$inspect",t=function(){var a=
this.$to_s();return w(a["$empty?"]())?this.$class().$to_s():"#<"+this.$class().$to_s()+": "+this.$to_s()+">"},t.$$arity=0);return(a.def(f,"$to_s",u=function(){var a,b;return w(a=w(b=this.message)?this.message.$to_s():b)?a:this.$class().$to_s()},u.$$arity=0),h)&&"to_s"})(k[0],Error,k);(function(a,$super,d){[q(a,$super,"ScriptError")].concat(d);return h})(k[0],f(k,"Exception"),k);(function(a,$super,d){[q(a,$super,"LoadError")].concat(d);return h})(k[0],f(k,"ScriptError"),k);(function(a,$super,d){[q(a,
$super,"NotImplementedError")].concat(d);return h})(k[0],f(k,"ScriptError"),k);(function(a,$super,d){[q(a,$super,"StandardError")].concat(d);return h})(k[0],f(k,"Exception"),k);(function(a,$super,d){[q(a,$super,"ZeroDivisionError")].concat(d);return h})(k[0],f(k,"StandardError"),k);(function(a,$super,d){[q(a,$super,"NameError")].concat(d);return h})(k[0],f(k,"StandardError"),k);(function(a,$super,d){[q(a,$super,"NoMethodError")].concat(d);return h})(k[0],f(k,"NameError"),k);(function(a,$super,d){[q(a,
$super,"RuntimeError")].concat(d);return h})(k[0],f(k,"StandardError"),k);(function(a,$super,d){[q(a,$super,"FrozenError")].concat(d);return h})(k[0],f(k,"RuntimeError"),k);(function(a,$super,d){[q(a,$super,"LocalJumpError")].concat(d);return h})(k[0],f(k,"StandardError"),k);(function(a,$super,d){[q(a,$super,"TypeError")].concat(d);return h})(k[0],f(k,"StandardError"),k);(function(a,$super,d){[q(a,$super,"ArgumentError")].concat(d);return h})(k[0],f(k,"StandardError"),k);(function(a,$super,d){[q(a,
$super,"IndexError")].concat(d);return h})(k[0],f(k,"StandardError"),k);(function(a,$super,d){[q(a,$super,"KeyError")].concat(d);return h})(k[0],f(k,"IndexError"),k);(function(a,$super,d){[q(a,$super,"RangeError")].concat(d);return h})(k[0],f(k,"StandardError"),k);(function(a,$super,d){[q(a,$super,"FloatDomainError")].concat(d);return h})(k[0],f(k,"RangeError"),k);(function(f,$super,d){f=q(f,$super,"NameError");[f].concat(d);var b;f.$attr_reader("name");return(a.def(f,"$initialize",b=function(c,d){b.$$p&&
(b.$$p=null);null==d&&(d=h);l(this,a.find_super_dispatcher(this,"initialize",b,!1),[c],null);return this.name=d},b.$$arity=-2),h)&&"initialize"})(k[0],null,k);(function(f,$super,d){f=q(f,$super,"NoMethodError");[f].concat(d);var b;f.$attr_reader("args");return(a.def(f,"$initialize",b=function(c,d,f){b.$$p&&(b.$$p=null);null==d&&(d=h);null==f&&(f=[]);l(this,a.find_super_dispatcher(this,"initialize",b,!1),[c,d],null);return this.args=f},b.$$arity=-2),h)&&"initialize"})(k[0],null,k);(function(f,$super,
d){f=q(f,$super,"KeyError");[f].concat(d);var b;f.$$prototype.receiver=f.$$prototype.key=h;a.def(f,"$initialize",b=function(c,d){b.$$p&&(b.$$p=null);if(null==d)d=t([],{});else if(!d.$$is_hash)throw a.ArgumentError.$new("expected kwargs");var f=d.$$smap.receiver;null==f&&(f=h);d=d.$$smap.key;null==d&&(d=h);l(this,a.find_super_dispatcher(this,"initialize",b,!1),[c],null);this.receiver=f;return this.key=d},b.$$arity=-2);return h&&"key"})(k[0],null,k);return function(a,f){[m(a,"JS")].concat(f)}(k[0],
k)};Opal.modules["corelib/constants"]=function(a){a.const_set(void 0,"RUBY_ENGINE","opal")};Opal.modules["opal/base"]=function(a){a=a.top;a.$require("corelib/runtime");a.$require("corelib/helpers");a.$require("corelib/module");a.$require("corelib/class");a.$require("corelib/basic_object");a.$require("corelib/kernel");a.$require("corelib/error");return a.$require("corelib/constants")};
Opal.modules["corelib/nil"]=function(a){var k=[],h=a.nil,f=a.const_get_relative,q=a.klass,l=a.hash2,w=a.truthy;(function(m,$super,r){m=q(m,$super,"NilClass");var p=[m].concat(r),d,b,c,y,k,x,u,I,H,e,g,n;m.$$prototype.$$meta=m;(function(b,c){var d=[b].concat(c),e;a.def(b,"$allocate",e=function(){return this.$raise(f(d,"TypeError"),"allocator undefined for "+this.$name())},e.$$arity=0);a.udef(b,"$new");return h})(a.get_singleton_class(m),p);a.def(m,"$!",d=function(){return!0},d.$$arity=0);a.def(m,"$==",
b=function(a){return a===h},b.$$arity=1);a.def(m,"$dup",c=function(){return h},c.$$arity=0);a.def(m,"$clone",y=function(b){if(null==b)l([],{});else if(!b.$$is_hash)throw a.ArgumentError.$new("expected kwargs");return h},y.$$arity=-1);a.def(m,"$inspect",k=function(){return"nil"},k.$$arity=0);a.def(m,"$nil?",x=function(){return!0},x.$$arity=0);a.def(m,"$singleton_class",u=function(){return f(p,"NilClass")},u.$$arity=0);a.def(m,"$to_a",I=function(){return[]},I.$$arity=0);a.def(m,"$to_i",H=function(){return 0},
H.$$arity=0);a.alias(m,"to_f","to_i");a.def(m,"$to_s",e=function(){return""},e.$$arity=0);a.def(m,"$rationalize",g=function(b){var c=a.slice.call(arguments,0,arguments.length).$length();c="number"===typeof c?1<c:c["$>"](1);w(c)&&this.$raise(f(p,"ArgumentError"));return this.$Rational(0,1)},g.$$arity=-1);a.def(m,"$to_r",n=function(){return this.$Rational(0,1)},n.$$arity=0);return h&&"instance_variables"})(k[0],null,k)};
Opal.modules["corelib/boolean"]=function(a){var k=[],h=a.nil,f=a.const_get_relative,q=a.klass,l=a.hash2;(function(k,$super,t){k=q(k,$super,"Boolean");var r=[k].concat(t),p,d,b,c,y,A,x;a.defineProperty(k.$$prototype,"$$is_boolean",!0);a.defineProperty(k.$$prototype,"$$meta",k);(function(b,c){var d=[b].concat(c),e;a.def(b,"$allocate",e=function(){return this.$raise(f(d,"TypeError"),"allocator undefined for "+this.$name())},e.$$arity=0);a.udef(b,"$new");return h})(a.get_singleton_class(k),r);a.def(k,
"$__id__",p=function(){return this.valueOf()?2:0},p.$$arity=0);a.alias(k,"object_id","__id__");a.def(k,"$!",d=function(){return 1!=this},d.$$arity=0);a.def(k,"$==",b=function(a){return 1==this===a.valueOf()},b.$$arity=1);a.alias(k,"equal?","==");a.alias(k,"eql?","==");a.def(k,"$singleton_class",c=function(){return f(r,"Boolean")},c.$$arity=0);a.def(k,"$to_s",y=function(){return 1==this?"true":"false"},y.$$arity=0);a.def(k,"$dup",A=function(){return this},A.$$arity=0);return(a.def(k,"$clone",x=function(b){if(null==
b)l([],{});else if(!b.$$is_hash)throw a.ArgumentError.$new("expected kwargs");return this},x.$$arity=-1),h)&&"clone"})(k[0],Boolean,k)};
Opal.modules["corelib/comparable"]=function(a){var k=[],h=a.nil,f=a.const_get_relative,q=a.module,l=a.truthy;return function(k,m){function t(b){return a.is_a(b,a.Integer)?b:("number"===typeof b?0<b:b["$>"](0))?1:("number"===typeof b?0>b:b["$<"](0))?-1:0}function r(a,b){u=b;b=h["$==="](u)||(!0)["$==="](u)||(!1)["$==="](u)||f(d,"Integer")["$==="](u)||f(d,"Float")["$==="](u)?b.$inspect():b.$$class;p.$raise(f(d,"ArgumentError"),"comparison of "+a.$class()+" with "+b+" failed")}var p=q(k,"Comparable"),
d=[p].concat(m),b,c,y,A,x,u=h;a.def(p,"$==",b=function(b){var c;return l(this["$equal?"](b))?!0:this["$<=>"]==a.Kernel["$<=>"]?!1:this.$$comparable?(delete this.$$comparable,!1):l(c=this["$<=>"](b))?0==t(c):!1},b.$$arity=1);a.def(p,"$>",c=function(a){var b;l(b=this["$<=>"](a))||r(this,a);return 0<t(b)},c.$$arity=1);a.def(p,"$>=",y=function(a){var b;l(b=this["$<=>"](a))||r(this,a);return 0<=t(b)},y.$$arity=1);a.def(p,"$<",A=function(a){var b;l(b=this["$<=>"](a))||r(this,a);return 0>t(b)},A.$$arity=
1);a.def(p,"$<=",x=function(a){var b;l(b=this["$<=>"](a))||r(this,a);return 0>=t(b)},x.$$arity=1)}(k[0],k)};
Opal.modules["corelib/regexp"]=function(a){var k=[],h=a.nil,f=a.const_get_relative,q=a.klass,l=a.send,w=a.truthy,m=a.gvars;(function(a,$super,f){[q(a,$super,"RegexpError")].concat(f);return h})(k[0],f(k,"StandardError"),k);(function(t,$super,p){t=q(t,$super,"Regexp");var d=[t].concat(p),b,c,y,k,x,u,I;a.const_set(d[0],"IGNORECASE",1);a.const_set(d[0],"MULTILINE",4);a.defineProperty(t.$$prototype,"$$is_regexp",!0);(function(b,c){var d=[b].concat(c),e,p;a.def(b,"$allocate",e=function(){var b=e.$$p,c;
b&&(e.$$p=null);var d=0;var g=arguments.length;for(c=Array(g);d<g;d++)c[d]=arguments[d];b=l(this,a.find_super_dispatcher(this,"allocate",e,!1),c,b);b.uninitialized=!0;return b},e.$$arity=0);return(a.def(b,"$new",p=function(a,b){if(a.$$is_regexp)return new RegExp(a);a=f(d,"Opal")["$coerce_to!"](a,f(d,"String"),"to_str");"\\"===a.charAt(a.length-1)&&"\\"!==a.charAt(a.length-2)&&this.$raise(f(d,"RegexpError"),"too short escape sequence: /"+a+"/");if(void 0===b||b["$!"]())return new RegExp(a);if(b.$$is_number){var c=
"";f(d,"IGNORECASE")&b&&(c+="i");f(d,"MULTILINE")&b&&(c+="m");b=c}else b="i";return new RegExp(a,b)},p.$$arity=-2),h)&&"new"})(a.get_singleton_class(t),d);a.def(t,"$==",b=function(a){return a instanceof RegExp&&this.toString()===a.toString()},b.$$arity=1);a.def(t,"$===",c=function(a){return this.$match(f(d,"Opal")["$coerce_to?"](a,f(d,"String"),"to_str"))!==h},c.$$arity=1);a.def(t,"$=~",y=function(a){var b;null==m["~"]&&(m["~"]=h);return w(b=this.$match(a))?m["~"].$begin(0):b},y.$$arity=1);a.alias(t,
"eql?","==");a.def(t,"$inspect",k=function(){var a=this.toString(),b=/^\/(.*)\/([^\/]*)$/.exec(a);if(b){a=b[2];b=b[1].split("");for(var c=b.length,d=!1,f="",h=0;h<c;h++){var p=b[h];d||"/"!=p||(f=f.concat("\\"));f=f.concat(p);d="\\"==p?d?!1:!0:!1}return"/"+f+"/"+a}return a},k.$$arity=0);a.def(t,"$match",x=function(b,c){var e=x.$$p,n=e||h;null==m["~"]&&(m["~"]=h);e&&(x.$$p=null);e&&(x.$$p=null);this.uninitialized&&this.$raise(f(d,"TypeError"),"uninitialized Regexp");if(void 0===c)return b===h?m["~"]=
h:(b=this.exec(f(d,"Opal").$coerce_to(b,f(d,"String"),"to_str")))?(m["~"]=f(d,"MatchData").$new(this,b),n===h?m["~"]:a.yield1(n,m["~"])):m["~"]=h;c=f(d,"Opal").$coerce_to(c,f(d,"Integer"),"to_int");if(b===h)return m["~"]=h;b=f(d,"Opal").$coerce_to(b,f(d,"String"),"to_str");if(0>c&&(c+=b.length,0>c))return m["~"]=h;for(var p=a.global_regexp(this);;){e=p.exec(b);if(null===e)return m["~"]=h;if(e.index>=c)return m["~"]=f(d,"MatchData").$new(p,e),n===h?m["~"]:a.yield1(n,m["~"]);p.lastIndex=e.index+1}},
x.$$arity=-2);a.def(t,"$match?",u=function(b,c){this.uninitialized&&this.$raise(f(d,"TypeError"),"uninitialized Regexp");if(void 0===c)return b===h?!1:this.test(f(d,"Opal").$coerce_to(b,f(d,"String"),"to_str"));c=f(d,"Opal").$coerce_to(c,f(d,"Integer"),"to_int");if(b===h)return!1;b=f(d,"Opal").$coerce_to(b,f(d,"String"),"to_str");if(0>c&&(c+=b.length,0>c))return!1;b=a.global_regexp(this).exec(b);return null===b||b.index<c?!1:!0},u.$$arity=-2);a.def(t,"$source",I=function(){return this.source},I.$$arity=
0);return a.alias(t,"to_s","source")})(k[0],RegExp,k);return function(k,$super,p){k=q(k,$super,"MatchData");var d=[k].concat(p),b,c,y,t,x,u,I,H,e;k.$$prototype.matches=h;k.$attr_reader("post_match","pre_match","regexp","string");a.def(k,"$initialize",b=function(a,b){m["~"]=this;this.regexp=a;this.begin=b.index;this.string=b.input;this.pre_match=b.input.slice(0,b.index);this.post_match=b.input.slice(b.index+b[0].length);this.matches=[];a=0;for(var c=b.length;a<c;a++){var d=b[a];null==d?this.matches.push(h):
this.matches.push(d)}},b.$$arity=2);a.def(k,"$[]",c=function(b){var c=a.slice.call(arguments,0,arguments.length);return l(this.matches,"[]",a.to_a(c))},c.$$arity=-1);a.def(k,"$==",y=function(a){var b,c,e,g;return w(f(d,"MatchData")["$==="](a))?w(b=w(c=w(e=w(g=this.string==a.string)?this.regexp.toString()==a.regexp.toString():g)?this.pre_match==a.pre_match:e)?this.post_match==a.post_match:c)?this.begin==a.begin:b:!1},y.$$arity=1);a.alias(k,"eql?","==");a.def(k,"$begin",t=function(a){0!==a&&this.$raise(f(d,
"ArgumentError"),"MatchData#begin only supports 0th element");return this.begin},t.$$arity=1);a.def(k,"$end",x=function(a){0!==a&&this.$raise(f(d,"ArgumentError"),"MatchData#end only supports 0th element");return this.begin+this.matches[a].length},x.$$arity=1);a.def(k,"$inspect",u=function(){for(var a="#<MatchData "+this.matches[0].$inspect(),b=1,c=this.matches.length;b<c;b++)a+=" "+b+":"+this.matches[b].$inspect();return a+">"},u.$$arity=0);a.def(k,"$length",I=function(){return this.matches.length},
I.$$arity=0);a.alias(k,"size","length");a.def(k,"$to_a",H=function(){return this.matches},H.$$arity=0);a.def(k,"$to_s",e=function(){return this.matches[0]},e.$$arity=0);return h&&"values_at"}(k[0],null,k)};
Opal.modules["corelib/string"]=function(a){function k(a,d){return"number"===typeof a&&"number"===typeof d?a+d:a["$+"](d)}var h=a.top,f=[],q=a.nil,l=a.const_get_relative,w=a.klass,m=a.truthy,t=a.send,r=a.gvars;h.$require("corelib/comparable");h.$require("corelib/regexp");(function(f,$super,b){f=w(f,$super,"String");var c=[f].concat(b),h,p,x,u,I,H,e,g,n,G,L,C,O,E,K,M,v,z,F,N,T,B,P,Q,J,U,R,S,W,Y,X,V,Z;f.$include(l(c,"Comparable"));a.defineProperty(f.$$prototype,"$$is_string",!0);a.defineProperty(f.$$prototype,
"$$cast",function(a){var b=this.$$class;return b.$$constructor===String?a:new b.$$constructor(a)});a.def(f,"$__id__",h=function(){return this.toString()},h.$$arity=0);a.alias(f,"object_id","__id__");a.defs(f,"$new",p=function(a){null==a&&(a="");a=l(c,"Opal").$coerce_to(a,l(c,"String"),"to_str");return new this.$$constructor(a)},p.$$arity=-1);a.def(f,"$initialize",x=function(a){return void 0===a?this:this.$raise(l(c,"NotImplementedError"),"Mutable strings are not supported in Opal.")},x.$$arity=-1);
a.def(f,"$%",u=function(b){return m(l(c,"Array")["$==="](b))?t(this,"format",[this].concat(a.to_a(b))):this.$format(this,b)},u.$$arity=1);a.def(f,"$*",I=function(a){a=l(c,"Opal").$coerce_to(a,l(c,"Integer"),"to_int");0>a&&this.$raise(l(c,"ArgumentError"),"negative argument");if(0===a)return this.$$cast("");var b="",e=this.toString();for(268435456<=e.length*a&&this.$raise(l(c,"RangeError"),"multiply count must not overflow maximum string size");;){1===(a&1)&&(b+=e);a>>>=1;if(0===a)break;e+=e}return this.$$cast(b)},
I.$$arity=1);a.def(f,"$+",H=function(a){a=l(c,"Opal").$coerce_to(a,l(c,"String"),"to_str");return this+a.$to_s()},H.$$arity=1);a.def(f,"$<=>",e=function(a){if(m(a["$respond_to?"]("to_str")))return a=a.$to_str().$to_s(),this>a?1:this<a?-1:0;a=a["$<=>"](this);return a===q?q:0<a?-1:0>a?1:0},e.$$arity=1);a.def(f,"$==",g=function(a){return a.$$is_string?this.toString()===a.toString():l(c,"Opal")["$respond_to?"](a,"to_str")?a["$=="](this):!1},g.$$arity=1);a.alias(f,"eql?","==");a.alias(f,"===","==");a.def(f,
"$=~",n=function(a){a.$$is_string&&this.$raise(l(c,"TypeError"),"type mismatch: String given");return a["$=~"](this)},n.$$arity=1);a.def(f,"$[]",G=function(a,b){var e=this.length;if(a.$$is_range){var f=a.excl;b=l(c,"Opal").$coerce_to(a.end,l(c,"Integer"),"to_int");a=l(c,"Opal").$coerce_to(a.begin,l(c,"Integer"),"to_int");if(Math.abs(a)>e)return q;0>a&&(a+=e);0>b&&(b+=e);f||(b+=1);b-=a;0>b&&(b=0);return this.$$cast(this.substr(a,b))}if(a.$$is_string)return null!=b&&this.$raise(l(c,"TypeError")),-1!==
this.indexOf(a)?this.$$cast(a):q;if(a.$$is_regexp){e=this.match(a);if(null===e)return r["~"]=q;r["~"]=l(c,"MatchData").$new(a,e);if(null==b)return this.$$cast(e[0]);b=l(c,"Opal").$coerce_to(b,l(c,"Integer"),"to_int");return 0>b&&-b<e.length?this.$$cast(e[b+e.length]):0<=b&&b<e.length?this.$$cast(e[b]):q}a=l(c,"Opal").$coerce_to(a,l(c,"Integer"),"to_int");0>a&&(a+=e);if(null==b)return a>=e||0>a?q:this.$$cast(this.substr(a,1));b=l(c,"Opal").$coerce_to(b,l(c,"Integer"),"to_int");return 0>b||a>e||0>a?
q:this.$$cast(this.substr(a,b))},G.$$arity=-2);a.def(f,"$chomp",L=function(a){null==r["/"]&&(r["/"]=q);null==a&&(a=r["/"]);if(m(a===q||0===this.length))return this;a=l(c,"Opal")["$coerce_to!"](a,l(c,"String"),"to_str").$to_s();var b;"\n"===a?b=this.replace(/\r?\n?$/,""):""===a?b=this.replace(/(\r?\n)+$/,""):this.length>=a.length&&this.substr(this.length-a.length,a.length)===a&&(b=this.substr(0,this.length-a.length));return null!=b?this.$$cast(b):this},L.$$arity=-1);a.def(f,"$chr",C=function(){return this.charAt(0)},
C.$$arity=0);a.def(f,"$clone",O=function(){var a=new String(this);a.$copy_singleton_methods(this);a.$initialize_clone(this);return a},O.$$arity=0);a.def(f,"$dup",E=function(){var a=new String(this);a.$initialize_dup(this);return a},E.$$arity=0);a.def(f,"$empty?",K=function(){return 0===this.length},K.$$arity=0);a.alias(f,"equal?","===");a.def(f,"$hash",M=function(){return this.toString()},M.$$arity=0);a.def(f,"$include?",v=function(a){a.$$is_string||(a=l(c,"Opal").$coerce_to(a,l(c,"String"),"to_str"));
return-1!==this.indexOf(a)},v.$$arity=1);a.def(f,"$inspect",z=function(){var a={"\u0007":"\\a","\u001b":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\x0B":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(b){return a[b]||"\\u"+("0000"+b.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/#[\$@\{]/g,"\\$&")+'"'},z.$$arity=0);a.def(f,"$intern",
F=function(){return this.toString()},F.$$arity=0);a.def(f,"$length",N=function(){return this.length},N.$$arity=0);a.def(f,"$ljust",T=function(a,b){null==b&&(b=" ");a=l(c,"Opal").$coerce_to(a,l(c,"Integer"),"to_int");b=l(c,"Opal").$coerce_to(b,l(c,"String"),"to_str").$to_s();m(b["$empty?"]())&&this.$raise(l(c,"ArgumentError"),"zero width padding");if(m(a<=this.length))return this;var e=-1,f="";for(a-=this.length;++e<a;)f+=b;return this.$$cast(this+f.slice(0,a))},T.$$arity=-2);a.def(f,"$match",B=function(a,
b){var e=B.$$p,f=e||q,g;e&&(B.$$p=null);e&&(B.$$p=null);m(m(g=l(c,"String")["$==="](a))?g:a["$respond_to?"]("to_str"))&&(a=l(c,"Regexp").$new(a.$to_str()));m(l(c,"Regexp")["$==="](a))||this.$raise(l(c,"TypeError"),"wrong argument type "+a.$class()+" (expected Regexp)");return t(a,"match",[this,b],f.$to_proc())},B.$$arity=-2);a.def(f,"$match?",P=function(a,b){var e;m(m(e=l(c,"String")["$==="](a))?e:a["$respond_to?"]("to_str"))&&(a=l(c,"Regexp").$new(a.$to_str()));m(l(c,"Regexp")["$==="](a))||this.$raise(l(c,
"TypeError"),"wrong argument type "+a.$class()+" (expected Regexp)");return a["$match?"](this,b)},P.$$arity=-2);a.def(f,"$next",Q=function(){var a=this.length;if(0===a)return this.$$cast("");for(var b=this,c=this.search(/[a-zA-Z0-9]/),e,f;a--;){f=this.charCodeAt(a);if(48<=f&&57>=f||65<=f&&90>=f||97<=f&&122>=f)switch(f){case 57:e=!0;f=48;break;case 90:e=!0;f=65;break;case 122:e=!0;f=97;break;default:e=!1,f+=1}else-1===c?255===f?(e=!0,f=0):(e=!1,f+=1):e=!0;b=b.slice(0,a)+String.fromCharCode(f)+b.slice(a+
1);if(e&&(0===a||a===c)){switch(f){case 65:break;case 97:break;default:f+=1}b=0===a?String.fromCharCode(f)+b:b.slice(0,a)+String.fromCharCode(f)+b.slice(a);e=!1}if(!e)break}return this.$$cast(b)},Q.$$arity=0);a.def(f,"$rjust",J=function(a,b){null==b&&(b=" ");a=l(c,"Opal").$coerce_to(a,l(c,"Integer"),"to_int");b=l(c,"Opal").$coerce_to(b,l(c,"String"),"to_str").$to_s();m(b["$empty?"]())&&this.$raise(l(c,"ArgumentError"),"zero width padding");if(m(a<=this.length))return this;a=Math.floor(a-this.length);
var e=Array(Math.floor(a/b.length)+1).join(b);return this.$$cast(e+b.slice(0,a-e.length)+this)},J.$$arity=-2);a.alias(f,"size","length");a.def(f,"$split",U=function(b,e){function f(){for(p=0;p<n.length;p++)n[p]=h.$$cast(n[p])}var g,h=this;null==r[";"]&&(r[";"]=q);if(0===h.length)return[];if(void 0===e)e=0;else if(e=l(c,"Opal")["$coerce_to!"](e,l(c,"Integer"),"to_int"),1===e)return[h];if(void 0===b||b===q)b=m(g=r[";"])?g:" ";var n=[];g=h.toString();var D=0,p;b.$$is_regexp?b=a.global_multiline_regexp(b):
(b=l(c,"Opal").$coerce_to(b,l(c,"String"),"to_str").$to_s()," "===b?(b=/\s+/gm,g=g.replace(/^\s+/,"")):b=new RegExp(b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));n=g.split(b);if(1===n.length&&n[0]===g)return[h.$$cast(n[0])];for(;-1!==(p=n.indexOf(void 0));)n.splice(p,1);if(0===e){for(;""===n[n.length-1];)--n.length;f();return n}var u=b.exec(g);if(0>e){if(null!==u&&""===u[0]&&-1===b.source.indexOf("(?="))for(p=0,b=u.length;p<b;p++)n.push("");f();return n}if(null!==u&&""===u[0])return n.splice(e-1,
n.length-1,n.slice(e-1).join("")),f(),n;if(e>=n.length)return f(),n;for(p=0;null!==u;){p++;D=b.lastIndex;if(p+1===e)break;u=b.exec(g)}n.splice(e-1,n.length-1,g.slice(D));f();return n},U.$$arity=-1);a.def(f,"$start_with?",R=function(b){var e=a.slice.call(arguments,0,arguments.length);for(var f=0,g=e.length;f<g;f++){var h=l(c,"Opal").$coerce_to(e[f],l(c,"String"),"to_str").$to_s();if(0===this.indexOf(h))return!0}return!1},R.$$arity=-1);a.def(f,"$sub",S=function(a,b){var e=S.$$p,f=e||q,g=this;e&&(S.$$p=
null);e&&(S.$$p=null);a.$$is_regexp||(a=l(c,"Opal").$coerce_to(a,l(c,"String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var h=a.exec(g);null===h?(r["~"]=q,a=g.toString()):(l(c,"MatchData").$new(a,h),void 0===b?(f===q&&g.$raise(l(c,"ArgumentError"),"wrong number of arguments (1 for 2)"),a=g.slice(0,h.index)+f(h[0])+g.slice(h.index+h[0].length)):b.$$is_hash?a=g.slice(0,h.index)+b["$[]"](h[0]).$to_s()+g.slice(h.index+h[0].length):(b=l(c,"Opal").$coerce_to(b,l(c,"String"),"to_str"),
b=b.replace(/([\\]+)([0-9+&`'])/g,function(a,b,c){if(0===b.length%2)return a;switch(c){case "+":for(a=h.length-1;0<a;a--)if(void 0!==h[a])return b.slice(1)+h[a];return"";case "&":return b.slice(1)+h[0];case "`":return b.slice(1)+g.slice(0,h.index);case "'":return b.slice(1)+g.slice(h.index+h[0].length);default:return b.slice(1)+(h[c]||"")}}).replace(/\\\\/g,"\\"),a=g.slice(0,h.index)+b+g.slice(h.index+h[0].length)));return g.$$cast(a)},S.$$arity=-2);a.alias(f,"succ","next");a.def(f,"$to_f",W=function(){if("_"===
this.charAt(0))return 0;var a=parseFloat(this.replace(/_/g,""));return isNaN(a)||Infinity==a||-Infinity==a?0:a},W.$$arity=0);a.def(f,"$to_i",Y=function(a){null==a&&(a=10);var b=this.toLowerCase(),e=l(c,"Opal").$coerce_to(a,l(c,"Integer"),"to_int");(1===e||0>e||36<e)&&this.$raise(l(c,"ArgumentError"),"invalid radix "+e);if(/^\s*_/.test(b))return 0;b=b.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(a,b,c,f){switch(f.charAt(0)){case "+":case "-":return a;case "0":if("x"===f.charAt(1)&&"0x"===c&&(0===
e||16===e))return a}switch(c){case "0b":if(0===e||2===e)return e=2,b+f;break;case "0":case "0o":if(0===e||8===e)return e=8,b+f;break;case "0d":if(0===e||10===e)return e=10,b+f;break;case "0x":if(0===e||16===e)return e=16,b+f}return a});a=parseInt(b.replace(/_(?!_)/g,""),e);return isNaN(a)?0:a},Y.$$arity=-1);a.def(f,"$to_proc",X=function(){var b,e=q;X.$$p&&(X.$$p=null);e=k("$",this.valueOf());return t(this,"proc",[],(b=function(f){var g=null==b.$$s?this:b.$$s,h=b.$$p,n=h||q;h&&(b.$$p=null);h=a.slice.call(arguments,
0,arguments.length);0===h.length&&g.$raise(l(c,"ArgumentError"),"no receiver given");g=h[0];null==g&&(g=q);var p=g[e];if(!p)return g.$method_missing.apply(g,h);"function"===typeof n&&(p.$$p=n);return 1===h.length?p.call(g):p.apply(g,h.slice(1))},b.$$s=this,b.$$arity=-1,b))},X.$$arity=0);a.def(f,"$to_s",V=function(){return this.toString()},V.$$arity=0);a.alias(f,"to_str","to_s");a.alias(f,"to_sym","intern");a.def(f,"$upcase",Z=function(){return this.$$cast(this.toUpperCase())},Z.$$arity=0);return q&&
"unpack1"})(f[0],String,f);return a.const_set(f[0],"Symbol",l(f,"String"))};
Opal.modules["corelib/enumerable"]=function(a){var k=[],h=a.nil,f=a.const_get_relative,q=a.module,l=a.truthy,w=a.send,m=a.lambda;return function(k,r){k=q(k,"Enumerable");var p=[k].concat(r),d,b,c,y,t,x,u,I,H,e,g;a.def(k,"$any?",d=function(b){try{var c=d.$$p,e=c||h,g,n,k;c&&(d.$$p=null);c&&(d.$$p=null);l(void 0!==b)?w(this,"each",[],(g=function(c){var e=a.slice.call(arguments,0,arguments.length);0===e.length&&(e=[h]);1<e.length&&(e=[e]);if(l(w(b,"public_send",["==="].concat(a.to_a(e)))))a.ret(!0);
else return h},g.$$s=this,g.$$arity=-1,g)):e!==h?w(this,"each",[],(n=function(b){var c=a.slice.call(arguments,0,arguments.length);if(l(a.yieldX(e,a.to_a(c))))a.ret(!0);else return h},n.$$s=this,n.$$arity=-1,n)):w(this,"each",[],(k=function(b){var c=a.slice.call(arguments,0,arguments.length);if(l(f(p,"Opal").$destructure(c)))a.ret(!0);else return h},k.$$s=this,k.$$arity=-1,k));return!1}catch(K){if(K===a.returner)return K.$v;throw K;}},d.$$arity=-1);a.def(k,"$collect",b=function(){var c=b.$$p,e=c||
h,d;c&&(b.$$p=null);c&&(b.$$p=null);if(e===h)return w(this,"enum_for",["collect"],(d=function(){return(null==d.$$s?this:d.$$s).$enumerator_size()},d.$$s=this,d.$$arity=0,d));var f=[];this.$each.$$p=function(){var b=a.yieldX(e,arguments);f.push(b)};this.$each();return f},b.$$arity=0);a.def(k,"$detect",c=function(b){try{var e=c.$$p,d=e||h,g;e&&(c.$$p=null);e&&(c.$$p=null);if(d===h)return this.$enum_for("detect",b);w(this,"each",[],(g=function(b){var c=a.slice.call(arguments,0,arguments.length);c=f(p,
"Opal").$destructure(c);if(l(a.yield1(d,c)))a.ret(c);else return h},g.$$s=this,g.$$arity=-1,g));return void 0!==b?"function"===typeof b?b():b:h}catch(O){if(O===a.returner)return O.$v;throw O;}},c.$$arity=-1);a.def(k,"$entries",y=function(b){var c=a.slice.call(arguments,0,arguments.length);var e=[];this.$each.$$p=function(){e.push(f(p,"Opal").$destructure(arguments))};this.$each.apply(this,c);return e},y.$$arity=-1);a.alias(k,"find","detect");a.def(k,"$first",t=function(b){try{var c,e,d=h,g=h;if(l(void 0===
b))return w(this,"each",[],(c=function(b){null==b&&(b=h);a.ret(b)},c.$$s=this,c.$$arity=1,c));d=[];b=f(p,"Opal").$coerce_to(b,f(p,"Integer"),"to_int");l(0>b)&&this.$raise(f(p,"ArgumentError"),"attempt to take negative size");if(l(0==b))return[];g=0;w(this,"each",[],(e=function(c){var e=a.slice.call(arguments,0,arguments.length);d.push(f(p,"Opal").$destructure(e));if(l(b<=++g))a.ret(d);else return h},e.$$s=this,e.$$arity=-1,e));return d}catch(E){if(E===a.returner)return E.$v;throw E;}},t.$$arity=-1);
a.def(k,"$include?",x=function(b){try{var c;w(this,"each",[],(c=function(c){var e=a.slice.call(arguments,0,arguments.length);if(f(p,"Opal").$destructure(e)["$=="](b))a.ret(!0);else return h},c.$$s=this,c.$$arity=-1,c));return!1}catch(L){if(L===a.returner)return L.$v;throw L;}},x.$$arity=1);a.def(k,"$inject",u=function(b,c){var e=u.$$p,d=e||h;e&&(u.$$p=null);e&&(u.$$p=null);var g=b;d!==h&&void 0===c?this.$each.$$p=function(){var b=f(p,"Opal").$destructure(arguments);void 0!==g&&(b=a.yieldX(d,[g,b]));
g=b}:(void 0===c&&(f(p,"Symbol")["$==="](b)||this.$raise(f(p,"TypeError"),""+b.$inspect()+" is not a Symbol"),c=b,g=void 0),this.$each.$$p=function(){var a=f(p,"Opal").$destructure(arguments);g=void 0===g?a:g.$__send__(c,a)});this.$each();return void 0==g?h:g},u.$$arity=-1);a.def(k,"$enumerator_size",I=function(){return l(this["$respond_to?"]("size"))?this.$size():h},I.$$arity=0);a.alias(k,"map","collect");a.def(k,"$min",H=function(b){var c=H.$$p,e=c||h,d,g=this;c&&(H.$$p=null);c&&(H.$$p=null);null==
b&&(b=h);if(!l(b["$nil?"]()))return e!==h?w(g,"sort",[],(d=function(b,c){null==b&&(b=h);null==c&&(c=h);return a.yieldX(e,[b,c])},d.$$s=g,d.$$arity=2,d)).$take(b):g.$sort().$take(b);var n;g.$each.$$p=e!==h?function(){var a=f(p,"Opal").$destructure(arguments);if(void 0===n)n=a;else{var b=e(a,n);b===h&&g.$raise(f(p,"ArgumentError"),"comparison failed");0>b&&(n=a)}}:function(){var a=f(p,"Opal").$destructure(arguments);void 0===n?n=a:0>f(p,"Opal").$compare(a,n)&&(n=a)};g.$each();return void 0===n?h:n},
H.$$arity=-1);a.alias(k,"reduce","inject");a.def(k,"$sort",e=function(){var a=e.$$p,b=a||h,c,d=h;a&&(e.$$p=null);a&&(e.$$p=null);d=this.$to_a();b===h&&(b=m((c=function(a,b){null==a&&(a=h);null==b&&(b=h);return a["$<=>"](b)},c.$$s=this,c.$$arity=2,c)));return w(d,"sort",[],b.$to_proc())},e.$$arity=0);a.def(k,"$take",g=function(a){return this.$first(a)},g.$$arity=1);a.alias(k,"to_a","entries")}(k[0],k)};
Opal.modules["corelib/enumerator"]=function(a){function k(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var f=[],q=a.nil,l=a.const_get_relative,w=a.breaker,m=a.slice,t=a.klass,r=a.truthy,p=a.send;a.top.$require("corelib/enumerable");return function(d,$super,c){d=t(d,$super,"Enumerator");var f=[d].concat(c),A,x,u,I;d.$$prototype.size=d.$$prototype.args=d.$$prototype.object=d.$$prototype.method=q;d.$include(l(f,
"Enumerable"));d.$$prototype.$$is_enumerator=!0;a.def(d,"$initialize",A=function(c){var e=A.$$p,d=e||q,h;e&&(A.$$p=null);e&&(A.$$p=null);a.slice.call(arguments,0,arguments.length);if(r(d))return this.object=p(l(f,"Generator"),"new",[],d.$to_proc()),this.method="each",this.args=[],this.size=arguments[0]||q,r(r(h=this.size)?this.size["$respond_to?"]("call")["$!"]():h)?this.size=l(f,"Opal").$coerce_to(this.size,l(f,"Integer"),"to_int"):q;this.object=arguments[0];this.method=arguments[1]||"each";this.args=
m.call(arguments,2);return this.size=q},A.$$arity=-1);a.def(d,"$each",x=function(c){var e=x.$$p,d=e||q,f;e&&(x.$$p=null);e&&(x.$$p=null);e=a.slice.call(arguments,0,arguments.length);if(r(r(f=d["$nil?"]())?e["$empty?"]():f))return this;e=k(this.args,e);return r(d["$nil?"]())?p(this.$class(),"new",[this.object,this.method].concat(a.to_a(e))):p(this.object,"__send__",[this.method].concat(a.to_a(e)),d.$to_proc())},x.$$arity=-1);a.def(d,"$size",u=function(){return r(this.size["$respond_to?"]("call"))?
p(this.size,"call",a.to_a(this.args)):this.size},u.$$arity=0);a.def(d,"$inspect",I=function(){var a="#<"+this.$class()+": "+this.object.$inspect()+":"+this.method;r(this.args["$any?"]())&&(a=k(a,"("+this.args.$inspect()["$[]"](l(f,"Range").$new(1,-2))+")"));return k(a,">")},I.$$arity=0);(function(c,$super,d){c=t(c,$super,"Generator");var f=[c].concat(d),g,h;c.$$prototype.block=q;c.$include(l(f,"Enumerable"));a.def(c,"$initialize",g=function(){var a=g.$$p,c=a||q;a&&(g.$$p=null);a&&(g.$$p=null);r(c)||
this.$raise(l(f,"LocalJumpError"),"no block given");return this.block=c},g.$$arity=0);return(a.def(c,"$each",h=function(c){var d=h.$$p,g=d||q;d&&(h.$$p=null);d&&(h.$$p=null);d=a.slice.call(arguments,0,arguments.length);g=p(l(f,"Yielder"),"new",[],g.$to_proc());try{d.unshift(g),a.yieldX(this.block,d)}catch(K){if(K===w)return w.$v;throw K;}return this},h.$$arity=-1),q)&&"each"})(f[0],null,f);(function(c,$super,d){c=t(c,$super,"Yielder");[c].concat(d);var f,g,h;c.$$prototype.block=q;a.def(c,"$initialize",
f=function(){var a=f.$$p,c=a||q;a&&(f.$$p=null);a&&(f.$$p=null);return this.block=c},f.$$arity=0);a.def(c,"$yield",g=function(c){var d=a.slice.call(arguments,0,arguments.length);d=a.yieldX(this.block,d);if(d===w)throw w;return d},g.$$arity=-1);return(a.def(c,"$<<",h=function(c){var d=a.slice.call(arguments,0,arguments.length);p(this,"yield",a.to_a(d));return this},h.$$arity=-1),q)&&"<<"})(f[0],null,f);return function(c,$super,d){c=t(c,$super,"Lazy");var f=[c].concat(d),g,u,m,y,x;c.$$prototype.enumerator=
q;(function(a,$super,c){[t(a,$super,"StopLazyError")].concat(c);return q})(f[0],l(f,"Exception"),f);a.def(c,"$initialize",g=function(c,d){var h=g.$$p,n=h||q,k;h&&(g.$$p=null);h&&(g.$$p=null);null==d&&(d=q);n===q&&this.$raise(l(f,"ArgumentError"),"tried to call lazy new without a block");this.enumerator=c;return p(this,a.find_super_dispatcher(this,"initialize",g,!1),[d],(k=function(d,g){var h=null==k.$$s?this:k.$$s,r;null==d&&(d=q);var u=a.slice.call(arguments,1,arguments.length);try{return p(c,"each",
a.to_a(u),(r=function(c){var f=a.slice.call(arguments,0,arguments.length);f.unshift(d);a.yieldX(n,f)},r.$$s=h,r.$$arity=-1,r))}catch(J){if(a.rescue(J,[l(f,"Exception")]))try{return q}finally{a.pop_exception()}else throw J;}},k.$$s=this,k.$$arity=-2,k))},g.$$arity=-2);a.def(c,"$collect",u=function(){var c=u.$$p,d=c||q,g;c&&(u.$$p=null);c&&(u.$$p=null);r(d)||this.$raise(l(f,"ArgumentError"),"tried to call lazy map without a block");return p(l(f,"Lazy"),"new",[this,this.$enumerator_size()],(g=function(c,
f){null==c&&(c=q);var g=a.slice.call(arguments,1,arguments.length);g=a.yieldX(d,g);c.$yield(g)},g.$$s=this,g.$$arity=-2,g))},u.$$arity=0);a.def(c,"$enum_for",m=function(c,d){var f=m.$$p,g=f||q;f&&(m.$$p=null);f&&(m.$$p=null);f=a.slice.call(arguments,0,arguments.length);if(0<f.length){var h=f[0];f.splice(0,1)}null==h&&(h="each");return p(this.$class(),"for",[this,h].concat(a.to_a(f)),g.$to_proc())},m.$$arity=-1);a.alias(c,"map","collect");a.def(c,"$take",y=function(c){var d,g=q,n=g=q;c=l(f,"Opal").$coerce_to(c,
l(f,"Integer"),"to_int");r(h(c,0))&&this.$raise(l(f,"ArgumentError"),"attempt to take negative size");g=this.$enumerator_size();g=r(l(f,"Integer")["$==="](g))?r(h(c,g))?c:g:g;n=0;return p(l(f,"Lazy"),"new",[this,g],(d=function(g,u){var m=null==d.$$s?this:d.$$s;null==g&&(g=q);var y=a.slice.call(arguments,1,arguments.length);return r(h(n,c))?(p(g,"yield",a.to_a(y)),n=k(n,1)):m.$raise(l(f,"StopLazyError"))},d.$$s=this,d.$$arity=-2,d))},y.$$arity=1);return(a.def(c,"$inspect",x=function(){return"#<"+this.$class()+
": "+this.enumerator.$inspect()+">"},x.$$arity=0),q)&&"inspect"}(f[0],d,f)}(f[0],null,f)};
Opal.modules["corelib/numeric"]=function(a){function k(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function h(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}function f(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function q(a,c){return"number"===typeof a&&"number"===typeof c?a/c:a["$/"](c)}var l=[],w=a.nil,m=a.const_get_qualified,t=a.const_get_relative,r=a.klass,p=a.truthy,d=a.hash2;a.top.$require("corelib/comparable");return function(b,
$super,l){b=r(b,$super,"Numeric");var y=[b].concat(l),x,u,I,H,e,g,n,G,L,C,O,E,K,M,v,z,F,N,T,B,P,Q,J,U,R,S,W,Y,X,V;b.$include(t(y,"Comparable"));a.def(b,"$coerce",x=function(a){return p(a["$instance_of?"](this.$class()))?[a,this]:[this.$Float(a),this.$Float(this)]},x.$$arity=1);a.def(b,"$__coerced__",u=function(b,e){if(p(e["$respond_to?"]("coerce"))){e=e.$coerce(this);var d=a.to_ary(e);var f=null==d[0]?w:d[0];d=null==d[1]?w:d[1];e;return f.$__send__(b,d)}return"+"["$==="](b)||"-"["$==="](b)||"*"["$==="](b)||
"/"["$==="](b)||"%"["$==="](b)||"&"["$==="](b)||"|"["$==="](b)||"^"["$==="](b)||"**"["$==="](b)?this.$raise(t(y,"TypeError"),""+e.$class()+" can't be coerced into Numeric"):">"["$==="](b)||">="["$==="](b)||"<"["$==="](b)||"<="["$==="](b)||"<=>"["$==="](b)?this.$raise(t(y,"ArgumentError"),"comparison of "+this.$class()+" with "+e.$class()+" failed"):w},u.$$arity=2);a.def(b,"$<=>",I=function(a){return p(this["$equal?"](a))?0:w},I.$$arity=1);a.def(b,"$-@",H=function(){return k(0,this)},H.$$arity=0);
a.def(b,"$%",e=function(a){return k(this,h(a,this.$div(a)))},e.$$arity=1);a.def(b,"$abs",g=function(){return f(this,0)?this["$-@"]():this},g.$$arity=0);a.def(b,"$abs2",n=function(){return h(this,this)},n.$$arity=0);a.def(b,"$angle",G=function(){return f(this,0)?m(t(y,"Math"),"PI"):0},G.$$arity=0);a.alias(b,"arg","angle");a.def(b,"$ceil",L=function(a){null==a&&(a=0);return this.$to_f().$ceil(a)},L.$$arity=-1);a.def(b,"$conj",C=function(){return this},C.$$arity=0);a.def(b,"$denominator",O=function(){return this.$to_r().$denominator()},
O.$$arity=0);a.def(b,"$div",E=function(a){a["$=="](0)&&this.$raise(t(y,"ZeroDivisionError"),"divided by o");return q(this,a).$floor()},E.$$arity=1);a.def(b,"$divmod",K=function(a){return[this.$div(a),this["$%"](a)]},K.$$arity=1);a.def(b,"$floor",M=function(a){null==a&&(a=0);return this.$to_f().$floor(a)},M.$$arity=-1);a.def(b,"$imag",v=function(){return 0},v.$$arity=0);a.def(b,"$numerator",z=function(){return this.$to_r().$numerator()},z.$$arity=0);a.def(b,"$polar",F=function(){return[this.$abs(),
this.$arg()]},F.$$arity=0);a.def(b,"$quo",N=function(a){return q(t(y,"Opal")["$coerce_to!"](this,t(y,"Rational"),"to_r"),a)},N.$$arity=1);a.def(b,"$real",T=function(){return this},T.$$arity=0);a.def(b,"$real?",B=function(){return!0},B.$$arity=0);a.def(b,"$round",P=function(a){return this.$to_f().$round(a)},P.$$arity=-1);a.def(b,"$to_int",Q=function(){return this.$to_i()},Q.$$arity=0);a.def(b,"$truncate",J=function(a){null==a&&(a=0);return this.$to_f().$truncate(a)},J.$$arity=-1);a.def(b,"$zero?",
U=function(){return this["$=="](0)},U.$$arity=0);a.def(b,"$positive?",R=function(){return"number"===typeof this?0<this:this["$>"](0)},R.$$arity=0);a.def(b,"$negative?",S=function(){return f(this,0)},S.$$arity=0);a.def(b,"$dup",W=function(){return this},W.$$arity=0);a.def(b,"$clone",Y=function(b){if(null==b)d([],{});else if(!b.$$is_hash)throw a.ArgumentError.$new("expected kwargs");return this},Y.$$arity=-1);a.def(b,"$finite?",X=function(){return!0},X.$$arity=0);return(a.def(b,"$infinite?",V=function(){return w},
V.$$arity=0),w)&&"infinite?"}(l[0],null,l)};
Opal.modules["corelib/array"]=function(a){var k=a.top,h=[],f=a.nil,q=a.const_get_qualified,l=a.const_get_relative,w=a.klass,m=a.truthy,t=a.hash2,r=a.send,p=a.gvars;k.$require("corelib/enumerable");k.$require("corelib/numeric");return function(d,$super,c){function h(c,e){return e.$$name===a.Array?c:e.$allocate().$replace(c.$to_a())}function k(c,e){var d=c.length;var g=e.excl;var n=a.Opal.$coerce_to(e.begin,a.Integer,"to_int");e=a.Opal.$coerce_to(e.end,a.Integer,"to_int");if(0>n&&(n+=d,0>n)||n>d)return f;
if(0>e&&(e+=d,0>e))return[];g||(e+=1);d=c.slice(n,e);return h(d,c.$class())}function x(c,e,d){var g=c.length;e=a.Opal.$coerce_to(e,a.Integer,"to_int");if(0>e&&(e+=g,0>e))return f;if(void 0===d)return e>=g||0>e?f:c[e];d=a.Opal.$coerce_to(d,a.Integer,"to_int");if(0>d||e>g||0>e)return f;e=c.slice(e,e+d);return h(e,c.$class())}d=w(d,$super,"Array");var u=[d].concat(c),I,H,e,g,n,G,L,C,O,E,K,M,v,z,F,N,T,B,P,Q,J,U,R,S,W,Y,X,V,Z,D,ca,aa,ba,da,ea,fa;d.$include(l(u,"Enumerable"));a.defineProperty(d.$$prototype,
"$$is_array",!0);a.defs(d,"$[]",I=function(c){var e=a.slice.call(arguments,0,arguments.length);return h(e,this)},I.$$arity=-1);a.def(d,"$initialize",H=function(a,c){var e=H.$$p,d=e||f;e&&(H.$$p=null);e&&(H.$$p=null);null==a&&(a=f);null==c&&(c=f);c!==f&&d!==f&&this.$warn("warning: block supersedes default value argument");a>q(l(u,"Integer"),"MAX")&&this.$raise(l(u,"ArgumentError"),"array size too big");2<arguments.length&&this.$raise(l(u,"ArgumentError"),"wrong number of arguments ("+arguments.length+
" for 0..2)");if(0===arguments.length)return this.splice(0,this.length),this;if(1===arguments.length){if(a.$$is_array)return this.$replace(a.$to_a()),this;if(a["$respond_to?"]("to_ary"))return this.$replace(a.$to_ary()),this}a=l(u,"Opal").$coerce_to(a,l(u,"Integer"),"to_int");0>a&&this.$raise(l(u,"ArgumentError"),"negative array size");this.splice(0,this.length);if(d===f)for(e=0;e<a;e++)this.push(c);else for(e=0,g;e<a;e++){var g=d(e);this[e]=g}return this},H.$$arity=-1);a.def(d,"$*",e=function(a){if(m(a["$respond_to?"]("to_str")))return this.$join(a.$to_str());
a=l(u,"Opal").$coerce_to(a,l(u,"Integer"),"to_int");m(0>a)&&this.$raise(l(u,"ArgumentError"),"negative argument");for(var c=[],e=this.$to_a(),d=0;d<a;d++)c=c.concat(e);return h(c,this.$class())},e.$$arity=1);a.def(d,"$+",g=function(a){a=m(l(u,"Array")["$==="](a))?a.$to_a():l(u,"Opal").$coerce_to(a,l(u,"Array"),"to_ary").$to_a();return this.concat(a)},g.$$arity=1);a.def(d,"$-",n=function(c){c=m(l(u,"Array")["$==="](c))?c.$to_a():l(u,"Opal").$coerce_to(c,l(u,"Array"),"to_ary").$to_a();if(m(0===this.length))return[];
if(m(0===c.length))return this.slice();var e=[],d=t([],{}),f;var g=0;for(f=c.length;g<f;g++)a.hash_put(d,c[g],!0);g=0;for(f=this.length;g<f;g++)c=this[g],void 0===a.hash_get(d,c)&&e.push(c);return e},n.$$arity=1);a.def(d,"$<<",G=function(a){this.push(a);return this},G.$$arity=1);a.def(d,"$<=>",L=function(a){if(m(l(u,"Array")["$==="](a)))a=a.$to_a();else if(m(a["$respond_to?"]("to_ary")))a=a.$to_ary().$to_a();else return f;if(this.$hash()===a.$hash())return 0;for(var c=Math.min(this.length,a.length),
e=0;e<c;e++){var d=this[e]["$<=>"](a[e]);if(0!==d)return d}return this.length["$<=>"](a.length)},L.$$arity=1);a.def(d,"$==",C=function(a){function c(a,d){var f;if(a===d)return!0;if(!d.$$is_array)return l(u,"Opal")["$respond_to?"](d,"to_ary")?d["$=="](a):!1;a.$$constructor!==Array&&(a=a.$to_a());d.$$constructor!==Array&&(d=d.$to_a());if(a.length!==d.length)return!1;e[a.$object_id()]=!0;var g=0;for(f=a.length;g<f;g++){var h=a[g];var n=d[g];if(h.$$is_array){if(n.$$is_array&&n.length!==h.length||!e.hasOwnProperty(h.$object_id())&&
!c(h,n))return!1}else if(!h["$=="](n))return!1}return!0}var e={};return c(this,a)},C.$$arity=1);a.def(d,"$[]",O=function(a,c){return a.$$is_range?k(this,a):x(this,a,c)},O.$$arity=-2);a.def(d,"$[]=",E=function(a,c,e){var d=f;var g=this.length;if(m(l(u,"Range")["$==="](a))){d=m(l(u,"Array")["$==="](c))?c.$to_a():m(c["$respond_to?"]("to_ary"))?c.$to_ary().$to_a():[c];var h=a.excl;e=l(u,"Opal").$coerce_to(a.begin,l(u,"Integer"),"to_int");var n=l(u,"Opal").$coerce_to(a.end,l(u,"Integer"),"to_int");0>e&&
(e+=g,0>e&&this.$raise(l(u,"RangeError"),""+a.$inspect()+" out of range"));0>n&&(n+=g);h||(n+=1);if(e>g)for(;g<e;g++)this[g]=f;0>n?this.splice.apply(this,[e,0].concat(d)):this.splice.apply(this,[e,n-e].concat(d))}else{m(void 0===e)?n=1:(n=c,c=e,d=m(l(u,"Array")["$==="](c))?c.$to_a():m(c["$respond_to?"]("to_ary"))?c.$to_ary().$to_a():[c]);a=l(u,"Opal").$coerce_to(a,l(u,"Integer"),"to_int");n=l(u,"Opal").$coerce_to(n,l(u,"Integer"),"to_int");0>a&&(h=a,a+=g,0>a&&this.$raise(l(u,"IndexError"),"index "+
h+" too small for array; minimum "+-this.length));0>n&&this.$raise(l(u,"IndexError"),"negative length ("+n+")");if(a>g)for(;g<a;g++)this[g]=f;void 0===e?this[a]=c:this.splice.apply(this,[a,n].concat(d))}return c},E.$$arity=-3);a.def(d,"$any?",K=function(c){var e=K.$$p,d;e&&(K.$$p=null);var g=0;var f=arguments.length;for(d=Array(f);g<f;g++)d[g]=arguments[g];e&&(K.$$p=null);return 0===this.length?!1:r(this,a.find_super_dispatcher(this,"any?",K,!1),d,e)},K.$$arity=-1);a.def(d,"$initialize_copy",M=function(a){return this.$replace(a)},
M.$$arity=1);a.def(d,"$collect",v=function(){var c=v.$$p,e=c||f,d;c&&(v.$$p=null);c&&(v.$$p=null);if(e===f)return r(this,"enum_for",["collect"],(d=function(){return(null==d.$$s?this:d.$$s).$size()},d.$$s=this,d.$$arity=0,d));c=[];for(var g=0,h=this.length;g<h;g++){var n=a.yield1(e,this[g]);c.push(n)}return c},v.$$arity=0);a.def(d,"$concat",z=function(c){var e,d;var g=a.slice.call(arguments,0,arguments.length);g=r(g,"map",[],(e=function(a){var c=null==e.$$s?this:e.$$s;null==a&&(a=f);a=m(l(u,"Array")["$==="](a))?
a.$to_a():l(u,"Opal").$coerce_to(a,l(u,"Array"),"to_ary").$to_a();m(a["$equal?"](c))&&(a=a.$dup());return a},e.$$s=this,e.$$arity=1,e));r(g,"each",[],(d=function(a){var c=null==d.$$s?this:d.$$s;null==a&&(a=f);for(var e=0,g=a.length;e<g;e++)c.push(a[e])},d.$$s=this,d.$$arity=1,d));return this},z.$$arity=-1);a.def(d,"$dig",F=function(c,e){var d=a.slice.call(arguments,1,arguments.length);var g=this["$[]"](c);if(g===f||0===d.length)return g;m(g["$respond_to?"]("dig"))||this.$raise(l(u,"TypeError"),""+
g.$class()+" does not have #dig method");return r(g,"dig",a.to_a(d))},F.$$arity=-2);a.def(d,"$dup",N=function(){var c=N.$$p,e;c&&(N.$$p=null);var d=0;var g=arguments.length;for(e=Array(g);d<g;d++)e[d]=arguments[d];return this.$$class===a.Array&&this.$$class.$allocate.$$pristine&&this.$copy_instance_variables.$$pristine&&this.$initialize_dup.$$pristine?this.slice(0):r(this,a.find_super_dispatcher(this,"dup",N,!1),e,c)},N.$$arity=0);a.def(d,"$each",T=function(){var c=T.$$p,e=c||f,d;c&&(T.$$p=null);
c&&(T.$$p=null);if(e===f)return r(this,"enum_for",["each"],(d=function(){return(null==d.$$s?this:d.$$s).$size()},d.$$s=this,d.$$arity=0,d));c=0;for(var g=this.length;c<g;c++)a.yield1(e,this[c]);return this},T.$$arity=0);a.def(d,"$empty?",B=function(){return 0===this.length},B.$$arity=0);a.def(d,"$eql?",P=function(a){function c(a,d){var g;if(!d.$$is_array)return!1;d=d.$to_a();if(a.length!==d.length)return!1;e[a.$object_id()]=!0;var f=0;for(g=a.length;f<g;f++){var h=a[f];var n=d[f];if(h.$$is_array){if(n.$$is_array&&
n.length!==h.length||!e.hasOwnProperty(h.$object_id())&&!c(h,n))return!1}else if(!h["$eql?"](n))return!1}return!0}var e={};return c(this,a)},P.$$arity=1);a.def(d,"$fetch",Q=function(a,c){var e=Q.$$p,d=e||f;e&&(Q.$$p=null);e&&(Q.$$p=null);e=a;a=l(u,"Opal").$coerce_to(a,l(u,"Integer"),"to_int");0>a&&(a+=this.length);if(0<=a&&a<this.length)return this[a];d!==f&&null!=c&&this.$warn("warning: block supersedes default value argument");if(d!==f)return d(e);if(null!=c)return c;0===this.length?this.$raise(l(u,
"IndexError"),"index "+e+" outside of array bounds: 0...0"):this.$raise(l(u,"IndexError"),"index "+e+" outside of array bounds: -"+this.length+"..."+this.length)},Q.$$arity=-2);a.def(d,"$first",J=function(a){if(null==a)return 0===this.length?f:this[0];a=l(u,"Opal").$coerce_to(a,l(u,"Integer"),"to_int");0>a&&this.$raise(l(u,"ArgumentError"),"negative array size");return this.slice(0,a)},J.$$arity=-1);a.def(d,"$flatten",U=function(a){function c(a,d){var g=[],h;a=a.$to_a();var n=0;for(h=a.length;n<h;n++){var p=
a[n];if(l(u,"Opal")["$respond_to?"](p,"to_ary",!0)){var k=p.$to_ary();if(k===f)g.push(p);else switch(k.$$is_array||e.$raise(l(u,"TypeError")),k===e&&e.$raise(l(u,"ArgumentError")),d){case void 0:g=g.concat(c(k));break;case 0:g.push(k);break;default:g.push.apply(g,c(k,d-1))}}else g.push(p)}return g}var e=this;void 0!==a&&(a=l(u,"Opal").$coerce_to(a,l(u,"Integer"),"to_int"));return h(c(e,a),e.$class())},U.$$arity=-1);a.def(d,"$hash",R=function(){var c=void 0===a.hash_ids,e=["A"],d=this.$object_id(),
g,f;try{c&&(a.hash_ids=Object.create(null));if(a.hash_ids[d])return"self";for(f in a.hash_ids){var h=a.hash_ids[f];if(this["$eql?"](h))return"self"}a.hash_ids[d]=this;for(g=0;g<this.length;g++)h=this[g],e.push(h.$hash());return e.join(",")}finally{c&&(a.hash_ids=void 0)}},R.$$arity=0);a.def(d,"$include?",S=function(a){for(var c=0,e=this.length;c<e;c++)if(this[c]["$=="](a))return!0;return!1},S.$$arity=1);a.def(d,"$inspect",W=function(){for(var a=[],c=this.$__id__(),e=0,d=this.length;e<d;e++){var g=
this["$[]"](e);g.$__id__()===c?a.push("[...]"):a.push(g.$inspect())}return"["+a.join(", ")+"]"},W.$$arity=0);a.def(d,"$join",Y=function(c){null==p[","]&&(p[","]=f);null==c&&(c=f);if(m(0===this.length))return"";m(c===f)&&(c=p[","]);var e=[],d;var g=0;for(d=this.length;g<d;g++){var h=this[g];if(l(u,"Opal")["$respond_to?"](h,"to_str")){var n=h.$to_str();if(n!==f){e.push(n.$to_s());continue}}if(l(u,"Opal")["$respond_to?"](h,"to_ary")&&(n=h.$to_ary(),n===this&&this.$raise(l(u,"ArgumentError")),n!==f)){e.push(n.$join(c));
continue}if(l(u,"Opal")["$respond_to?"](h,"to_s")&&(n=h.$to_s(),n!==f)){e.push(n);continue}this.$raise(l(u,"NoMethodError").$new(""+a.inspect(h)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return c===f?e.join(""):e.join(l(u,"Opal")["$coerce_to!"](c,l(u,"String"),"to_str").$to_s())},Y.$$arity=-1);a.def(d,"$last",X=function(a){if(null==a)return 0===this.length?f:this[this.length-1];a=l(u,"Opal").$coerce_to(a,l(u,"Integer"),"to_int");0>a&&this.$raise(l(u,"ArgumentError"),"negative array size");
a>this.length&&(a=this.length);return this.slice(this.length-a,this.length)},X.$$arity=-1);a.def(d,"$length",V=function(){return this.length},V.$$arity=0);a.alias(d,"map","collect");a.def(d,"$min",Z=function(){var a=Z.$$p,c=a||f;a&&(Z.$$p=null);a&&(Z.$$p=null);return r(this.$each(),"min",[],c.$to_proc())},Z.$$arity=0);a.def(d,"$replace",D=function(a){a=m(l(u,"Array")["$==="](a))?a.$to_a():l(u,"Opal").$coerce_to(a,l(u,"Array"),"to_ary").$to_a();this.splice(0,this.length);this.push.apply(this,a);return this},
D.$$arity=1);a.def(d,"$reverse!",ca=function(){return this.reverse()},ca.$$arity=0);a.alias(d,"size","length");a.def(d,"$sort",aa=function(){var a=aa.$$p,c=a||f,e=this;a&&(aa.$$p=null);a&&(aa.$$p=null);if(!m(1<e.length))return e;c===f&&(c=function(a,c){return a["$<=>"](c)});return e.slice().sort(function(a,d){var g=c(a,d);g===f&&e.$raise(l(u,"ArgumentError"),"comparison of "+a.$inspect()+" with "+d.$inspect()+" failed");return("number"===typeof g?0<g:g["$>"](0))?1:("number"===typeof g?0>g:g["$<"](0))?
-1:0})},aa.$$arity=0);a.def(d,"$take",ba=function(a){0>a&&this.$raise(l(u,"ArgumentError"));return this.slice(0,a)},ba.$$arity=1);a.def(d,"$to_a",da=function(){return this},da.$$arity=0);a.alias(d,"to_ary","to_a");a.alias(d,"to_s","inspect");a.def(d,"$unshift",ea=function(c){var e=a.slice.call(arguments,0,arguments.length);for(var d=e.length-1;0<=d;d--)this.unshift(e[d]);return this},ea.$$arity=-1);a.defs(d,"$inherited",fa=function(a){a.$$prototype.$to_a=function(){return this.slice(0,this.length)}},
fa.$$arity=1);l(u,"Opal").$pristine(d.$singleton_class(),"allocate");l(u,"Opal").$pristine(d,"copy_instance_variables","initialize_dup");return f&&"pack"}(h[0],Array,h)};
Opal.modules["corelib/hash"]=function(a){function k(a,f){return"number"===typeof a&&"number"===typeof f?a>=f:a["$>="](f)}var h=[],f=a.nil,q=a.const_get_relative,l=a.klass,w=a.send,m=a.hash2,t=a.truthy;a.top.$require("corelib/enumerable");return function(h,$super,d){h=l(h,$super,"Hash");var b=[h].concat(d),c,y,r,x,u,I,H,e,g,n,G,L,C,O,E,K,M,v,z,F,N,T,B,P,Q,J,U,R,S,W,Y,X;h.$include(q(b,"Enumerable"));h.$$prototype.$$is_hash=!0;a.defs(h,"$[]",c=function(c){var e=a.slice.call(arguments,0,arguments.length);
var d=e.length,g;if(1===d){var h=q(b,"Opal")["$coerce_to?"](e["$[]"](0),q(b,"Hash"),"to_hash");if(h!==f)return this.$allocate()["$merge!"](h);e=q(b,"Opal")["$coerce_to?"](e["$[]"](0),q(b,"Array"),"to_ary");e===f&&this.$raise(q(b,"ArgumentError"),"odd number of arguments for Hash");d=e.length;h=this.$allocate();for(g=0;g<d;g++)if(e[g].$$is_array)switch(e[g].length){case 1:h.$store(e[g][0],f);break;case 2:h.$store(e[g][0],e[g][1]);break;default:this.$raise(q(b,"ArgumentError"),"invalid number of elements ("+
e[g].length+" for 1..2)")}return h}0!==d%2&&this.$raise(q(b,"ArgumentError"),"odd number of arguments for Hash");h=this.$allocate();for(g=0;g<d;g+=2)h.$store(e[g],e[g+1]);return h},c.$$arity=-1);a.defs(h,"$allocate",y=function(){var b=new this.$$constructor;a.hash_init(b);b.$$none=f;b.$$proc=f;return b},y.$$arity=0);a.def(h,"$initialize",r=function(a){var c=r.$$p,e=c||f;c&&(r.$$p=null);c&&(r.$$p=null);void 0!==a&&e!==f&&this.$raise(q(b,"ArgumentError"),"wrong number of arguments (1 for 0)");this.$$none=
void 0===a?f:a;this.$$proc=e;return this},r.$$arity=-1);a.def(h,"$==",x=function(b){if(this===b)return!0;if(!b.$$is_hash||this.$$keys.length!==b.$$keys.length)return!1;for(var c=0,e=this.$$keys,d=e.length,g,f;c<d;c++)if(g=e[c],g.$$is_string?(f=this.$$smap[g],g=b.$$smap[g]):(f=g.value,g=a.hash_get(b,g.key)),void 0===g||!f["$eql?"](g))return!1;return!0},x.$$arity=1);a.def(h,"$>=",u=function(a){var c,e=f;a=q(b,"Opal")["$coerce_to!"](a,q(b,"Hash"),"to_hash");if(this.$$keys.length<a.$$keys.length)return!1;
e=!0;w(a,"each",[],(c=function(a,b){var d=null==c.$$s?this:c.$$s;null==a&&(a=f);null==b&&(b=f);a=d.$fetch(a,null);if(null==a||a!==b)e=!1},c.$$s=this,c.$$arity=2,c));return e},u.$$arity=1);a.def(h,"$>",I=function(a){a=q(b,"Opal")["$coerce_to!"](a,q(b,"Hash"),"to_hash");return this.$$keys.length<=a.$$keys.length?!1:k(this,a)},I.$$arity=1);a.def(h,"$<",H=function(a){a=q(b,"Opal")["$coerce_to!"](a,q(b,"Hash"),"to_hash");return"number"===typeof a&&"number"===typeof this?a>this:a["$>"](this)},H.$$arity=
1);a.def(h,"$<=",e=function(a){a=q(b,"Opal")["$coerce_to!"](a,q(b,"Hash"),"to_hash");return k(a,this)},e.$$arity=1);a.def(h,"$[]",g=function(b){var c=a.hash_get(this,b);return void 0!==c?c:this.$default(b)},g.$$arity=1);a.def(h,"$[]=",n=function(b,c){a.hash_put(this,b,c);return c},n.$$arity=2);a.def(h,"$clone",G=function(){var b=new this.$$class;a.hash_init(b);a.hash_clone(this,b);return b},G.$$arity=0);a.def(h,"$compare_by_identity",L=function(){var b,c=this.$$keys;if(this.$$by_identity)return this;
if(0===this.$$keys.length)return this.$$by_identity=!0,this;var e=m([],{}).$compare_by_identity();var d=0;for(b=c.length;d<b;d++){var g=c[d];g.$$is_string||(g=g.key);a.hash_put(e,g,a.hash_get(this,g))}this.$$by_identity=!0;this.$$map=e.$$map;this.$$smap=e.$$smap;return this},L.$$arity=0);a.def(h,"$default",C=function(a){return void 0!==a&&this.$$proc!==f&&void 0!==this.$$proc?this.$$proc.$call(this,a):void 0===this.$$none?f:this.$$none},C.$$arity=-1);a.def(h,"$default=",O=function(a){this.$$proc=
f;return this.$$none=a},O.$$arity=1);a.def(h,"$default_proc",E=function(){return void 0!==this.$$proc?this.$$proc:f},E.$$arity=0);a.def(h,"$default_proc=",K=function(a){var c=a;c!==f&&(c=q(b,"Opal")["$coerce_to!"](c,q(b,"Proc"),"to_proc"),c["$lambda?"]()&&2!==c.$arity().$abs()&&this.$raise(q(b,"TypeError"),"default_proc takes two arguments"));this.$$none=f;this.$$proc=c;return a},K.$$arity=1);a.alias(h,"dup","clone");a.def(h,"$dig",M=function(c,e){var d=a.slice.call(arguments,1,arguments.length);
var g=this["$[]"](c);if(g===f||0===d.length)return g;t(g["$respond_to?"]("dig"))||this.$raise(q(b,"TypeError"),""+g.$class()+" does not have #dig method");return w(g,"dig",a.to_a(d))},M.$$arity=-2);a.def(h,"$each",v=function(){var b=v.$$p,c=b||f,e;b&&(v.$$p=null);b&&(v.$$p=null);if(!t(c))return w(this,"enum_for",["each"],(e=function(){return(null==e.$$s?this:e.$$s).$size()},e.$$s=this,e.$$arity=0,e));b=0;for(var d=this.$$keys,g=d.length,h,n;b<g;b++)h=d[b],h.$$is_string?n=this.$$smap[h]:(n=h.value,
h=h.key),a.yield1(c,[h,n]);return this},v.$$arity=0);a.alias(h,"each_pair","each");a.def(h,"$empty?",z=function(){return 0===this.$$keys.length},z.$$arity=0);a.alias(h,"eql?","==");a.def(h,"$fetch",F=function(c,e){var d=F.$$p,g=d||f;d&&(F.$$p=null);d&&(F.$$p=null);d=a.hash_get(this,c);return void 0!==d?d:g!==f?g(c):void 0!==e?e:this.$raise(q(b,"KeyError").$new("key not found: "+c.$inspect(),m(["key","receiver"],{key:c,receiver:this})))},F.$$arity=-2);a.def(h,"$flatten",N=function(a){null==a&&(a=1);
a=q(b,"Opal")["$coerce_to!"](a,q(b,"Integer"),"to_int");for(var c=[],e=0,d=this.$$keys,g=d.length,f,h;e<g;e++)f=d[e],f.$$is_string?h=this.$$smap[f]:(h=f.value,f=f.key),c.push(f),h.$$is_array?1===a?c.push(h):c=c.concat(h.$flatten(a-2)):c.push(h);return c},N.$$arity=-1);a.def(h,"$has_key?",T=function(b){return void 0!==a.hash_get(this,b)},T.$$arity=1);a.def(h,"$hash",B=function(){var b=void 0===a.hash_ids,c=this.$object_id(),e=["Hash"];try{b&&(a.hash_ids=Object.create(null));if(a[c])return"self";for(h in a.hash_ids){var d=
a.hash_ids[h];if(this["$eql?"](d))return"self"}a.hash_ids[c]=this;c=0;for(var g=this.$$keys,f=g.length;c<f;c++){var h=g[c];h.$$is_string?e.push([h,this.$$smap[h].$hash()]):e.push([h.key_hash,h.value.$hash()])}return e.sort().join()}finally{b&&(a.hash_ids=void 0)}},B.$$arity=0);a.alias(h,"include?","has_key?");var V;a.def(h,"$inspect",P=function(){var a=void 0===V,b=this.$object_id(),c=[];try{a&&(V={});if(V.hasOwnProperty(b))return"{...}";V[b]=!0;b=0;for(var e=this.$$keys,d=e.length,g,f;b<d;b++)g=
e[b],g.$$is_string?f=this.$$smap[g]:(f=g.value,g=g.key),c.push(g.$inspect()+"=>"+f.$inspect());return"{"+c.join(", ")+"}"}finally{a&&(V=void 0)}},P.$$arity=0);a.def(h,"$keys",Q=function(){for(var a=[],b=0,c=this.$$keys,e=c.length,d;b<e;b++)d=c[b],d.$$is_string?a.push(d):a.push(d.key);return a},Q.$$arity=0);a.def(h,"$length",J=function(){return this.$$keys.length},J.$$arity=0);a.def(h,"$merge",U=function(a){var b=U.$$p,c=b||f;b&&(U.$$p=null);b&&(U.$$p=null);return w(this.$dup(),"merge!",[a],c.$to_proc())},
U.$$arity=1);a.def(h,"$merge!",R=function(c){var e=R.$$p,d=e||f;e&&(R.$$p=null);e&&(R.$$p=null);c.$$is_hash||(c=q(b,"Opal")["$coerce_to!"](c,q(b,"Hash"),"to_hash"));var g=c.$$keys,h=g.length;if(d===f){for(e=0;e<h;e++){var n=g[e];if(n.$$is_string)var k=c.$$smap[n];else k=n.value,n=n.key;a.hash_put(this,n,k)}return this}for(e=0;e<h;e++){n=g[e];n.$$is_string?k=c.$$smap[n]:(k=n.value,n=n.key);var l=a.hash_get(this,n);void 0===l?a.hash_put(this,n,k):a.hash_put(this,n,d(n,l,k))}return this},R.$$arity=1);
a.def(h,"$replace",S=function(c){c=q(b,"Opal")["$coerce_to!"](c,q(b,"Hash"),"to_hash");a.hash_init(this);var e=0;for(var d=c.$$keys,g=d.length,f,h;e<g;e++)f=d[e],f.$$is_string?h=c.$$smap[f]:(h=f.value,f=f.key),a.hash_put(this,f,h);t(c.$default_proc())?(e=[c.$default_proc()],w(this,"default_proc=",a.to_a(e))):(e=[c.$default()],w(this,"default=",a.to_a(e)));c=e;e=e.length;e="number"===typeof e?e-1:e["$-"](1);c[e];return this},S.$$arity=1);a.alias(h,"size","length");a.alias(h,"store","[]=");a.def(h,
"$to_a",W=function(){for(var a=[],b=0,c=this.$$keys,e=c.length,d,g;b<e;b++)d=c[b],d.$$is_string?g=this.$$smap[d]:(g=d.value,d=d.key),a.push([d,g]);return a},W.$$arity=0);a.def(h,"$to_hash",Y=function(){return this},Y.$$arity=0);a.def(h,"$to_proc",X=function(){var a;return w(this,"proc",[],(a=function(c){var e=null==a.$$s?this:a.$$s;null==c&&e.$raise(q(b,"ArgumentError"),"no key given");return e["$[]"](c)},a.$$s=this,a.$$arity=-1,a))},X.$$arity=0);a.alias(h,"to_s","inspect");return f&&"values"}(h[0],
null,h)};
Opal.modules["corelib/number"]=function(a){function k(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function f(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function w(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}
var m=[],t=a.nil,r=a.const_get_qualified,p=a.const_get_relative,d=a.klass,b=a.truthy,c=a.send;a.top.$require("corelib/numeric");(function(m,$super,x){m=d(m,$super,"Number");var u=[m].concat(x),y,H,e,g,n,G,L,C,O,E,K,M,v,z,F,N,T,B,P,Q,J,U,R,S,W,Y,X,V,Z,D,ca,aa,ba,da,ea,fa,ja,ia,ka,la,ha,ma,na,oa,pa,qa,ra,sa;p(u,"Opal").$bridge(Number,m);a.defineProperty(m.$$prototype,"$$is_number",!0);m.$$is_number_class=!0;(function(b,c){var e=[b].concat(c),d;a.def(b,"$allocate",d=function(){return this.$raise(p(e,
"TypeError"),"allocator undefined for "+this.$name())},d.$$arity=0);a.udef(b,"$new");return t})(a.get_singleton_class(m),u);a.def(m,"$coerce",y=function(a){if(a!==t){if(a.$$is_string)return[this.$Float(a),this];if(a["$respond_to?"]("to_f"))return[p(u,"Opal")["$coerce_to!"](a,p(u,"Float"),"to_f"),this];if(a.$$is_number)return[a,this]}this.$raise(p(u,"TypeError"),"can't convert "+a.$class()+" into Float")},y.$$arity=1);a.def(m,"$__id__",H=function(){return 2*this+1},H.$$arity=0);a.alias(m,"object_id",
"__id__");a.def(m,"$+",e=function(a){return a.$$is_number?this+a:this.$__coerced__("+",a)},e.$$arity=1);a.def(m,"$-",g=function(a){return a.$$is_number?this-a:this.$__coerced__("-",a)},g.$$arity=1);a.def(m,"$*",n=function(a){return a.$$is_number?this*a:this.$__coerced__("*",a)},n.$$arity=1);a.def(m,"$/",G=function(a){return a.$$is_number?this/a:this.$__coerced__("/",a)},G.$$arity=1);a.def(m,"$%",L=function(a){if(a.$$is_number){if(-Infinity==a)return a;if(0==a)this.$raise(p(u,"ZeroDivisionError"),
"divided by 0");else return 0>a||0>this?(this%a+a)%a:this%a}else return this.$__coerced__("%",a)},L.$$arity=1);a.def(m,"$<",C=function(a){return a.$$is_number?this<a:this.$__coerced__("<",a)},C.$$arity=1);a.def(m,"$<=",O=function(a){return a.$$is_number?this<=a:this.$__coerced__("<=",a)},O.$$arity=1);a.def(m,"$>",E=function(a){return a.$$is_number?this>a:this.$__coerced__(">",a)},E.$$arity=1);a.def(m,"$>=",K=function(a){return a.$$is_number?this>=a:this.$__coerced__(">=",a)},K.$$arity=1);a.def(m,
"$<=>",M=function(b){try{return b.$$is_number?isNaN(this)||isNaN(b)?t:this>b?1:this<b?-1:0:this.$__coerced__("<=>",b)}catch(ta){if(a.rescue(ta,[p(u,"ArgumentError")]))try{return t}finally{a.pop_exception()}else throw ta;}},M.$$arity=1);a.def(m,"$<<",v=function(a){a=p(u,"Opal")["$coerce_to!"](a,p(u,"Integer"),"to_int");return 0<a?this<<a:this>>-a},v.$$arity=1);a.def(m,"$[]",z=function(a){a=p(u,"Opal")["$coerce_to!"](a,p(u,"Integer"),"to_int");return 0>a?0:32<=a?0>this?1:0:this>>a&1},z.$$arity=1);a.def(m,
"$-@",F=function(){return-this},F.$$arity=0);a.def(m,"$**",N=function(a){var c,e;return b(p(u,"Integer")["$==="](a))?b(b(c=p(u,"Integer")["$==="](this)["$!"]())?c:k(a,0))?Math.pow(this,a):p(u,"Rational").$new(this,1)["$**"](a):b(h(this,0)?b(e=p(u,"Float")["$==="](a))?e:p(u,"Rational")["$==="](a):h(this,0))?p(u,"Complex").$new(this,0)["$**"](a.$to_f()):b(null!=a.$$is_number)?Math.pow(this,a):this.$__coerced__("**",a)},N.$$arity=1);a.def(m,"$===",T=function(a){return a.$$is_number?this.valueOf()===
a.valueOf():a["$respond_to?"]("==")?a["$=="](this):!1},T.$$arity=1);a.def(m,"$==",B=function(a){return a.$$is_number?this.valueOf()===a.valueOf():a["$respond_to?"]("==")?a["$=="](this):!1},B.$$arity=1);a.def(m,"$abs",P=function(){return Math.abs(this)},P.$$arity=0);a.def(m,"$abs2",Q=function(){return Math.abs(this*this)},Q.$$arity=0);a.def(m,"$angle",J=function(){return b(this["$nan?"]())?this:0==this?0<1/this?0:Math.PI:0>this?Math.PI:0},J.$$arity=0);a.alias(m,"arg","angle");a.def(m,"$ceil",U=function(a){null==
a&&(a=0);var b=this.$to_f();if(0===b%1&&0<=a)return b;a=Math.pow(10,a);a=Math.ceil(b*a)/a;0===b%1&&(a=Math.round(a));return a},U.$$arity=-1);a.def(m,"$chr",R=function(a){return String.fromCharCode(this)},R.$$arity=-1);a.def(m,"$denominator",S=function(){var e,d=S.$$p,g;d&&(S.$$p=null);var f=0;var h=arguments.length;for(g=Array(h);f<h;f++)g[f]=arguments[f];return b(b(e=this["$nan?"]())?e:this["$infinite?"]())?1:c(this,a.find_super_dispatcher(this,"denominator",S,!1),g,d)},S.$$arity=0);a.alias(m,"eql?",
"==");a.def(m,"$equal?",W=function(a){var c;return b(c=this["$=="](a))?c:isNaN(this)&&isNaN(a)},W.$$arity=1);a.def(m,"$floor",Y=function(a){null==a&&(a=0);var b=this.$to_f();if(0===b%1&&0<=a)return b;a=Math.pow(10,a);a=Math.floor(b*a)/a;0===b%1&&(a=Math.round(a));return a},Y.$$arity=-1);a.def(m,"$gcd",X=function(a){b(p(u,"Integer")["$==="](a))||this.$raise(p(u,"TypeError"),"not an integer");var c=Math.abs(this);for(a=Math.abs(a);0<c;){var e=c;c=a%c;a=e}return a},X.$$arity=1);a.def(m,"$is_a?",V=function(e){var d=
V.$$p,g;d&&(V.$$p=null);var f=0;var h=arguments.length;for(g=Array(h);f<h;f++)g[f]=arguments[f];return b(e["$=="](p(u,"Integer"))?p(u,"Integer")["$==="](this):e["$=="](p(u,"Integer")))||b(e["$=="](p(u,"Integer"))?p(u,"Integer")["$==="](this):e["$=="](p(u,"Integer")))||b(e["$=="](p(u,"Float"))?p(u,"Float")["$==="](this):e["$=="](p(u,"Float")))?!0:c(this,a.find_super_dispatcher(this,"is_a?",V,!1),g,d)},V.$$arity=1);a.def(m,"$instance_of?",Z=function(e){var d=Z.$$p,g;d&&(Z.$$p=null);var f=0;var h=arguments.length;
for(g=Array(h);f<h;f++)g[f]=arguments[f];return b(e["$=="](p(u,"Integer"))?p(u,"Integer")["$==="](this):e["$=="](p(u,"Integer")))||b(e["$=="](p(u,"Integer"))?p(u,"Integer")["$==="](this):e["$=="](p(u,"Integer")))||b(e["$=="](p(u,"Float"))?p(u,"Float")["$==="](this):e["$=="](p(u,"Float")))?!0:c(this,a.find_super_dispatcher(this,"instance_of?",Z,!1),g,d)},Z.$$arity=1);a.def(m,"$lcm",D=function(a){b(p(u,"Integer")["$==="](a))||this.$raise(p(u,"TypeError"),"not an integer");return 0==this||0==a?0:Math.abs(this*
a/this.$gcd(a))},D.$$arity=1);a.def(m,"$next",ca=function(){return this+1},ca.$$arity=0);a.def(m,"$numerator",aa=function(){var e,d=aa.$$p,g;d&&(aa.$$p=null);var f=0;var h=arguments.length;for(g=Array(h);f<h;f++)g[f]=arguments[f];return b(b(e=this["$nan?"]())?e:this["$infinite?"]())?this:c(this,a.find_super_dispatcher(this,"numerator",aa,!1),g,d)},aa.$$arity=0);a.def(m,"$quo",ba=function(e){var d=ba.$$p,g;d&&(ba.$$p=null);var f=0;var h=arguments.length;for(g=Array(h);f<h;f++)g[f]=arguments[f];return b(p(u,
"Integer")["$==="](this))?c(this,a.find_super_dispatcher(this,"quo",ba,!1),g,d):l(this,e)},ba.$$arity=1);a.def(m,"$rationalize",da=function(c){1<arguments.length&&this.$raise(p(u,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");if(b(p(u,"Integer")["$==="](this)))return p(u,"Rational").$new(this,1);if(b(this["$infinite?"]()))return this.$raise(p(u,"FloatDomainError"),"Infinity");if(b(this["$nan?"]()))return this.$raise(p(u,"FloatDomainError"),"NaN");if(b(null==c)){var e=
p(u,"Math").$frexp(this);var d=a.to_ary(e);var g=null==d[0]?t:d[0];d=null==d[1]?t:d[1];e;g=p(u,"Math").$ldexp(g,r(p(u,"Float"),"MANT_DIG")).$to_i();d=q(d,r(p(u,"Float"),"MANT_DIG"));return p(u,"Rational").$new(w(2,g),1["$<<"](q(1,d))).$rationalize(p(u,"Rational").$new(1,1["$<<"](q(1,d))))}return this.$to_r().$rationalize(c)},da.$$arity=-1);a.def(m,"$round",ea=function(c){var e;if(b(p(u,"Integer")["$==="](this))){if(b(null==c))return this;b(b(e=p(u,"Float")["$==="](c))?c["$infinite?"]():e)&&this.$raise(p(u,
"RangeError"),"Infinity");c=p(u,"Opal")["$coerce_to!"](c,p(u,"Integer"),"to_int");b(h(c,r(p(u,"Integer"),"MIN")))&&this.$raise(p(u,"RangeError"),"out of bounds");if(b(0<=c))return this;c=c["$-@"]();if(.415241*c-.125>this.$size())return 0;c=Math.pow(10,c);var d=Math.floor((Math.abs(d)+c/2)/c)*c;return 0>this?-d:d}b(b(e=this["$nan?"]())?null==c:e)&&this.$raise(p(u,"FloatDomainError"),"NaN");c=p(u,"Opal")["$coerce_to!"](c||0,p(u,"Integer"),"to_int");if(b("number"===typeof c?0>=c:c["$<="](0)))b(this["$nan?"]())?
this.$raise(p(u,"RangeError"),"NaN"):b(this["$infinite?"]())&&this.$raise(p(u,"FloatDomainError"),"Infinity");else{if(c["$=="](0))return Math.round(this);if(b(b(e=this["$nan?"]())?e:this["$infinite?"]()))return this}d=p(u,"Math").$frexp(this);e=a.to_ary(d);e=null==e[1]?t:e[1];d;d=q(f(r(p(u,"Float"),"DIG"),2),b(k(e,0))?l(e,4):q(l(e,3),1));d="number"===typeof c&&"number"===typeof d?c>=d:c["$>="](d);return b(d)?this:b(h(c,(b(k(e,0))?f(l(e,3),1):l(e,4))["$-@"]()))?0:Math.round(this*Math.pow(10,c))/Math.pow(10,
c)},ea.$$arity=-1);a.alias(m,"succ","next");a.def(m,"$to_f",fa=function(){return this},fa.$$arity=0);a.def(m,"$to_i",ja=function(){return parseInt(this,10)},ja.$$arity=0);a.alias(m,"to_int","to_i");a.def(m,"$to_r",ia=function(){if(b(p(u,"Integer")["$==="](this)))return p(u,"Rational").$new(this,1);var c=p(u,"Math").$frexp(this);var e=a.to_ary(c);var d=null==e[0]?t:e[0];e=null==e[1]?t:e[1];c;d=p(u,"Math").$ldexp(d,r(p(u,"Float"),"MANT_DIG")).$to_i();e=q(e,r(p(u,"Float"),"MANT_DIG"));return w(d,r(p(u,
"Float"),"RADIX")["$**"](e)).$to_r()},ia.$$arity=0);a.def(m,"$to_s",ka=function(a){var c;null==a&&(a=10);a=p(u,"Opal")["$coerce_to!"](a,p(u,"Integer"),"to_int");b(b(c=h(a,2))?c:k(a,36))&&this.$raise(p(u,"ArgumentError"),"invalid radix "+a);return this.toString(a)},ka.$$arity=-1);a.def(m,"$truncate",la=function(a){null==a&&(a=0);var b=this.$to_f();if(0===b%1&&0<=a)return b;a=Math.pow(10,a);a=parseInt(b*a,10)/a;0===b%1&&(a=Math.round(a));return a},la.$$arity=-1);a.alias(m,"inspect","to_s");a.def(m,
"$divmod",ha=function(e){var d,g=ha.$$p,f;g&&(ha.$$p=null);var h=0;var n=arguments.length;for(f=Array(n);h<n;h++)f[h]=arguments[h];return b(b(d=this["$nan?"]())?d:e["$nan?"]())?this.$raise(p(u,"FloatDomainError"),"NaN"):b(this["$infinite?"]())?this.$raise(p(u,"FloatDomainError"),"Infinity"):c(this,a.find_super_dispatcher(this,"divmod",ha,!1),f,g)},ha.$$arity=1);a.def(m,"$zero?",ma=function(){return 0==this},ma.$$arity=0);a.def(m,"$size",na=function(){return 4},na.$$arity=0);a.def(m,"$nan?",oa=function(){return isNaN(this)},
oa.$$arity=0);a.def(m,"$finite?",pa=function(){return Infinity!=this&&-Infinity!=this&&!isNaN(this)},pa.$$arity=0);a.def(m,"$infinite?",qa=function(){return Infinity==this?1:-Infinity==this?-1:t},qa.$$arity=0);a.def(m,"$positive?",ra=function(){return 0!=this&&(Infinity==this||0<1/this)},ra.$$arity=0);return(a.def(m,"$negative?",sa=function(){return-Infinity==this||0>1/this},sa.$$arity=0),t)&&"negative?"})(m[0],p(m,"Numeric"),m);(function(b,$super,c){b=d(b,$super,"Integer");c=[b].concat(c);b.$$is_number_class=
!0;(function(b,c){var d=[b].concat(c),e,g;a.def(b,"$allocate",e=function(){return this.$raise(p(d,"TypeError"),"allocator undefined for "+this.$name())},e.$$arity=0);a.udef(b,"$new");a.def(b,"$===",g=function(a){return a.$$is_number?0===a%1:!1},g.$$arity=1);return t&&"sqrt"})(a.get_singleton_class(b),c);a.const_set(c[0],"MAX",Math.pow(2,30)-1);return a.const_set(c[0],"MIN",-Math.pow(2,30))})(m[0],p(m,"Numeric"),m);return function(b,$super,c){b=d(b,$super,"Float");c=[b].concat(c);b.$$is_number_class=
!0;(function(b,c){var d=[b].concat(c),e,g;a.def(b,"$allocate",e=function(){return this.$raise(p(d,"TypeError"),"allocator undefined for "+this.$name())},e.$$arity=0);a.udef(b,"$new");return(a.def(b,"$===",g=function(a){return!!a.$$is_number},g.$$arity=1),t)&&"==="})(a.get_singleton_class(b),c);a.const_set(c[0],"INFINITY",Infinity);a.const_set(c[0],"MAX",Number.MAX_VALUE);a.const_set(c[0],"MIN",Number.MIN_VALUE);a.const_set(c[0],"NAN",NaN);a.const_set(c[0],"DIG",15);a.const_set(c[0],"MANT_DIG",53);
a.const_set(c[0],"RADIX",2)}(m[0],p(m,"Numeric"),m)};
Opal.modules["corelib/range"]=function(a){function k(a,d){return"number"===typeof a&&"number"===typeof d?a<=d:a["$<="](d)}function h(a,d){return"number"===typeof a&&"number"===typeof d?a<d:a["$<"](d)}var f=[],q=a.nil,l=a.const_get_qualified,w=a.const_get_relative,m=a.klass,t=a.truthy,r=a.send;a.top.$require("corelib/enumerable");return function(f,$super,b){f=m(f,$super,"Range");var c=[f].concat(b),p,A,x,u,I,H,e,g,n,G,L,C,O;f.$$prototype.begin=f.$$prototype.end=f.$$prototype.excl=q;f.$include(w(c,
"Enumerable"));f.$$prototype.$$is_range=!0;f.$attr_reader("begin","end");a.def(f,"$initialize",p=function(a,b,e){null==e&&(e=!1);t(this.begin)&&this.$raise(w(c,"NameError"),"'initialize' called twice");t(a["$<=>"](b))||this.$raise(w(c,"ArgumentError"),"bad value for range");this.begin=a;this.end=b;return this.excl=e},p.$$arity=-3);a.def(f,"$===",A=function(a){return this["$include?"](a)},A.$$arity=1);a.def(f,"$cover?",x=function(a){var b;var c=this.begin["$<=>"](a);if(!t(t(b=c)?k(c,0):b))return!1;
a=a["$<=>"](this.end);return t(this.excl)?t(b=a)?h(a,0):b:t(b=a)?k(a,0):b},x.$$arity=1);a.def(f,"$each",u=function(){var b=u.$$p,e=b||q,g,f,n=q,m=q;b&&(u.$$p=null);b&&(u.$$p=null);if(e===q)return r(this,"enum_for",["each"],(g=function(){return(null==g.$$s?this:g.$$s).$size()},g.$$s=this,g.$$arity=0,g));if(this.begin.$$is_number&&this.end.$$is_number){0===this.begin%1&&0===this.end%1||this.$raise(w(c,"TypeError"),"can't iterate from Float");b=this.begin;for(f=this.end+(t(this.excl)?0:1);b<f;b++)e(b);
return this}if(this.begin.$$is_string&&this.end.$$is_string)return r(this.begin,"upto",[this.end,this.excl],e.$to_proc()),this;n=this.begin;m=this.end;for(t(n["$respond_to?"]("succ"))||this.$raise(w(c,"TypeError"),"can't iterate from "+n.$class());t(h(n["$<=>"](m),0));)a.yield1(e,n),n=n.$succ();t(t(f=this.excl["$!"]())?n["$=="](m):f)&&a.yield1(e,n);return this},u.$$arity=0);a.def(f,"$eql?",I=function(a){var b,e;return t(w(c,"Range")["$==="](a))?t(b=t(e=this.excl["$==="](a["$exclude_end?"]()))?this.begin["$eql?"](a.$begin()):
e)?this.end["$eql?"](a.$end()):b:!1},I.$$arity=1);a.alias(f,"==","eql?");a.def(f,"$exclude_end?",H=function(){return this.excl},H.$$arity=0);a.def(f,"$first",e=function(b){var c=e.$$p,g;c&&(e.$$p=null);var f=0;var h=arguments.length;for(g=Array(h);f<h;f++)g[f]=arguments[f];return t(null==b)?this.begin:r(this,a.find_super_dispatcher(this,"first",e,!1),g,c)},e.$$arity=-1);a.alias(f,"include?","cover?");a.def(f,"$last",g=function(a){return t(null==a)?this.end:this.$to_a().$last(a)},g.$$arity=-1);a.def(f,
"$min",n=function(){var b,c=n.$$p,e=c||q,g;c&&(n.$$p=null);var f=0;var h=arguments.length;for(g=Array(h);f<h;f++)g[f]=arguments[f];if(e!==q)return r(this,a.find_super_dispatcher(this,"min",n,!1),g,c);c=this.begin;e=this.end;c="number"===typeof c&&"number"===typeof e?c>e:c["$>"](e);return t(c)?q:t(t(b=this.excl)?this.begin["$=="](this.end):b)?q:this.begin},n.$$arity=0);a.def(f,"$size",G=function(){var a;var b=this.begin;var e=this.end;t(this.excl)&&(e="number"===typeof e?e-1:e["$-"](1));if(!t(t(a=
w(c,"Numeric")["$==="](b))?w(c,"Numeric")["$==="](e):a))return q;if(t(h(e,b)))return 0;a=l(w(c,"Float"),"INFINITY");return t([b.$abs(),e.$abs()]["$include?"](a))?a:(Math.abs(e-b)+1).$to_i()},G.$$arity=0);a.def(f,"$to_s",L=function(){return""+this.begin+(t(this.excl)?"...":"..")+this.end},L.$$arity=0);a.def(f,"$inspect",C=function(){return""+this.begin.$inspect()+(t(this.excl)?"...":"..")+this.end.$inspect()},C.$$arity=0);return(a.def(f,"$hash",O=function(){return[this.begin,this.end,this.excl].$hash()},
O.$$arity=0),q)&&"hash"}(f[0],null,f)};
Opal.modules["corelib/proc"]=function(a){var k=[],h=a.nil,f=a.const_get_relative,q=a.klass,l=a.truthy;return function(k,$super,t){k=q(k,$super,"Proc");var r=[k].concat(t),p,d,b,c,y,w,x;a.defineProperty(k.$$prototype,"$$is_proc",!0);a.defineProperty(k.$$prototype,"$$is_lambda",!1);a.defs(k,"$new",p=function(){var a=p.$$p,b=a||h;a&&(p.$$p=null);a&&(p.$$p=null);l(b)||this.$raise(f(r,"ArgumentError"),"tried to create a Proc object without a block");return b},p.$$arity=0);a.def(k,"$call",d=function(b){var c=
d.$$p,f=c||h;c&&(d.$$p=null);c&&(d.$$p=null);c=a.slice.call(arguments,0,arguments.length);f!==h&&(this.$$p=f);if(f=this.$$brk)try{var e=this.$$is_lambda?this.apply(null,c):a.yieldX(this,c)}catch(g){if(g===f)return f.$v;throw g;}else e=this.$$is_lambda?this.apply(null,c):a.yieldX(this,c);return e},d.$$arity=-1);a.alias(k,"[]","call");a.alias(k,"===","call");a.alias(k,"yield","call");a.def(k,"$to_proc",b=function(){return this},b.$$arity=0);a.def(k,"$lambda?",c=function(){return!!this.$$is_lambda},
c.$$arity=0);a.def(k,"$arity",y=function(){return this.$$is_curried?-1:this.$$arity},y.$$arity=0);a.def(k,"$source_location",w=function(){return h},w.$$arity=0);a.def(k,"$dup",x=function(){var a=this.$$original_proc||this,b=function(){return a.apply(this,arguments)},c;for(c in this)this.hasOwnProperty(c)&&(b[c]=this[c]);return b},x.$$arity=0);return a.alias(k,"clone","dup")}(k[0],Function,k)};
Opal.modules["corelib/method"]=function(a){var k=[],h=a.nil,f=a.const_get_relative,q=a.klass,l=a.truthy;(function(f,$super,k){f=q(f,$super,"Method");[f].concat(k);var r,p,d,b,c,t;f.$$prototype.method=f.$$prototype.receiver=f.$$prototype.owner=f.$$prototype.name=h;f.$attr_reader("owner","receiver","name");a.def(f,"$initialize",r=function(a,b,c,d){this.receiver=a;this.owner=b;this.name=d;return this.method=c},r.$$arity=4);a.def(f,"$arity",p=function(){return this.method.$arity()},p.$$arity=0);a.def(f,
"$source_location",d=function(){var a;return l(a=this.method.$$source_location)?a:["(eval)",0]},d.$$arity=0);a.def(f,"$call",b=function(c){var d=b.$$p,f=d||h;d&&(b.$$p=null);d&&(b.$$p=null);d=a.slice.call(arguments,0,arguments.length);this.method.$$p=f;return this.method.apply(this.receiver,d)},b.$$arity=-1);a.alias(f,"[]","call");a.def(f,"$to_proc",c=function(){var a=this.$call.bind(this);a.$$unbound=this.method;a.$$is_lambda=!0;a.$$arity=this.method.$$arity;a.$$parameters=this.method.$$parameters;
return a},c.$$arity=0);return(a.def(f,"$inspect",t=function(){return"#<"+this.$class()+": "+this.receiver.$class()+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},t.$$arity=0),h)&&"inspect"})(k[0],null,k);return function(k,$super,t){k=q(k,$super,"UnboundMethod");var r=[k].concat(t),p,d,b,c,y;k.$$prototype.method=k.$$prototype.owner=k.$$prototype.name=k.$$prototype.source=h;k.$attr_reader("source","owner","name");a.def(k,"$initialize",p=function(a,b,c,d){this.source=
a;this.owner=b;this.method=c;return this.name=d},p.$$arity=4);a.def(k,"$arity",d=function(){return this.method.$arity()},d.$$arity=0);a.def(k,"$source_location",b=function(){var a;return l(a=this.method.$$source_location)?a:["(eval)",0]},b.$$arity=0);a.def(k,"$bind",c=function(b){if(this.owner.$$is_module||a.is_a(b,this.owner))return f(r,"Method").$new(b,this.owner,this.method,this.name);this.$raise(f(r,"TypeError"),"can't bind singleton method to a different class (expected "+b+".kind_of?("+this.owner+
" to be true)")},c.$$arity=1);return(a.def(k,"$inspect",y=function(){return"#<"+this.$class()+": "+this.source+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},y.$$arity=0),h)&&"inspect"}(k[0],null,k)};Opal.modules["corelib/variables"]=function(a){var k=a.nil,h=a.gvars;h["&"]=h["~"]=h["`"]=h["'"]=k;h.LOADED_FEATURES=h['"']=a.loaded_features;h.LOAD_PATH=h[":"]=[];h["/"]="\n";h[","]=k;h.VERBOSE=!1;h.DEBUG=!1;return h.SAFE=0};
Opal.modules["corelib/io"]=function(a){function k(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var h=[],f=a.nil,q=a.const_get_qualified,l=a.const_get_relative,w=a.klass,m=a.module,t=a.send,r=a.gvars,p=a.truthy,d=f;(function(b,$super,d){b=w(b,$super,"IO");d=[b].concat(d);var c;b.$$prototype.tty=b.$$prototype.closed=f;b.$attr_accessor("write_proc");a.def(b,"$write",c=function(a){this.write_proc(a);return a.$size()},c.$$arity=1);b.$attr_accessor("sync","tty");(function(b,c){b=m(b,
"Writable");[b].concat(c);var d,e;a.def(b,"$<<",d=function(a){this.$write(a);return this},d.$$arity=1);a.def(b,"$puts",e=function(b){var c,e=f;null==r["/"]&&(r["/"]=f);var d=a.slice.call(arguments,0,arguments.length);e=r["/"];p(d["$empty?"]())?this.$write(r["/"]):this.$write(t(d,"map",[],(c=function(a){var b=null==c.$$s?this:c.$$s;null==a&&(a=f);return b.$String(a).$chomp()},c.$$s=this,c.$$arity=1,c)).$concat([f]).$join(e));return f},e.$$arity=-1)})(d[0],d)})(h[0],null,h);a.const_set(h[0],"STDERR",
r.stderr=l(h,"IO").$new());a.const_set(h[0],"STDOUT",r.stdout=l(h,"IO").$new());var b=a.global.console;d=["object"===typeof process&&"object"===typeof process.stdout?function(a){process.stdout.write(a)}:function(a){b.log(a)}];t(l(h,"STDOUT"),"write_proc=",a.to_a(d));d[k(d.length,1)];d=["object"===typeof process&&"object"===typeof process.stderr?function(a){process.stderr.write(a)}:function(a){b.warn(a)}];t(l(h,"STDERR"),"write_proc=",a.to_a(d));d[k(d.length,1)];l(h,"STDOUT").$extend(q(l(h,"IO"),"Writable"));
return l(h,"STDERR").$extend(q(l(h,"IO"),"Writable"))};
Opal.modules["opal/regexp_anchors"]=function(a){var k=[],h=a.nil,f=a.const_get_relative,q=a.module;k=[q(k[0],"Opal")].concat(k);a.const_set(k[0],"REGEXP_START",f(k,"RUBY_ENGINE")["$=="]("opal")?"^":h);a.const_set(k[0],"REGEXP_END",f(k,"RUBY_ENGINE")["$=="]("opal")?"$":h);a.const_set(k[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");a.const_set(k[0],"CONST_NAME_REGEXP",f(k,"Regexp").$new(""+f(k,"REGEXP_START")+"(::)?[A-Z][^"+
f(k,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+f(k,"REGEXP_END")))};
Opal.modules["opal/mini"]=function(a){a=a.top;a.$require("opal/base");a.$require("corelib/nil");a.$require("corelib/boolean");a.$require("corelib/string");a.$require("corelib/comparable");a.$require("corelib/enumerable");a.$require("corelib/enumerator");a.$require("corelib/array");a.$require("corelib/hash");a.$require("corelib/number");a.$require("corelib/range");a.$require("corelib/proc");a.$require("corelib/method");a.$require("corelib/regexp");a.$require("corelib/variables");a.$require("corelib/io");
return a.$require("opal/regexp_anchors")};
Opal.modules["corelib/kernel/format"]=function(a){var k=[],h=a.nil,f=a.const_get_relative,q=a.module,l=a.truthy,w=a.gvars;return function(k,t){k=q(k,"Kernel");var m=[k].concat(t),p;a.def(k,"$format",p=function(d,b){function c(){z&32&&g.$raise(f(m,"ArgumentError"),"flag after width");z&128&&g.$raise(f(m,"ArgumentError"),"flag after precision")}function k(){z&32&&g.$raise(f(m,"ArgumentError"),"width given twice");z&128&&g.$raise(f(m,"ArgumentError"),"width after precision")}function p(a){a>=G.length&&
g.$raise(f(m,"ArgumentError"),"too few arguments");return G[a]}function q(){switch(M){case -1:g.$raise(f(m,"ArgumentError"),"unnumbered("+K+") mixed with numbered");case -2:g.$raise(f(m,"ArgumentError"),"unnumbered("+K+") mixed with named")}M=K++;return p(M-1)}function u(a){0<M&&g.$raise(f(m,"ArgumentError"),"numbered("+a+") after unnumbered("+M+")");-2===M&&g.$raise(f(m,"ArgumentError"),"numbered("+a+") after named");1>a&&g.$raise(f(m,"ArgumentError"),"invalid index - "+a+"$");M=-1;return p(a-1)}
function t(){return void 0===N?q():N}function r(a){var b;for(b="";;C++){C===O&&g.$raise(f(m,"ArgumentError"),"malformed format string - %*[0-9]");if(48>d.charCodeAt(C)||57<d.charCodeAt(C))return C--,b=parseInt(b,10)||0,2147483647<b&&g.$raise(f(m,"ArgumentError"),""+a+" too big"),b;b+=d.charAt(C)}}function e(a){a=r(a);"$"===d.charAt(C+1)?(C++,a=u(a)):a=q();return a.$to_int()}var g=this,n=h;null==w.DEBUG&&(w.DEBUG=h);var G=a.slice.call(arguments,1,arguments.length);l(G.$length()["$=="](1)?G["$[]"](0)["$respond_to?"]("to_ary"):
G.$length()["$=="](1))&&(n=f(m,"Opal")["$coerce_to?"](G["$[]"](0),f(m,"Array"),"to_ary"),l(n["$nil?"]())||(G=n.$to_a()));n="";var L=0,C,O=d.length,E,K=1,M=0;for(C=d.indexOf("%");-1!==C;C=d.indexOf("%",C)){var v=void 0;var z=0;var F=E=-1;var N=void 0;var T=C;C++;switch(d.charAt(C)){case "%":L=C;case "":case "\n":case "\x00":C++;continue}a:for(;C<O;C++)switch(d.charAt(C)){case " ":c();z|=16;continue a;case "#":c();z|=1;continue a;case "+":c();z|=4;continue a;case "-":c();z|=2;continue a;case "0":c();
z|=8;continue a;case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":var B=r("width");if("$"===d.charAt(C+1)){if(C+2===O){v="%";C++;break a}void 0!==N&&g.$raise(f(m,"ArgumentError"),"value given twice - %"+B+"$");N=u(B);C++}else k(),z|=32,E=B;continue a;case "<":case "{":var P="<"===d.charAt(C)?">":"}";B="";for(C++;;C++){C===O&&g.$raise(f(m,"ArgumentError"),"malformed name - unmatched parenthesis");if(d.charAt(C)===P)if(0<M&&g.$raise(f(m,"ArgumentError"),"named "+B+" after unnumbered("+
M+")"),-1===M&&g.$raise(f(m,"ArgumentError"),"named "+B+" after numbered"),M=-2,void 0!==G[0]&&G[0].$$is_hash||g.$raise(f(m,"ArgumentError"),"one hash required"),N=G[0].$fetch(B),">"===P)continue a;else{v=N.toString();-1!==F&&(v=v.slice(0,F));if(z&2)for(;v.length<E;)v+=" ";else for(;v.length<E;)v=" "+v;break a}B+=d.charAt(C)}case "*":C++;k();z|=32;E=e("width");0>E&&(z|=2,E=-E);continue a;case ".":z&128&&g.$raise(f(m,"ArgumentError"),"precision given twice");z|=192;F=0;C++;if("*"===d.charAt(C)){C++;
F=e("precision");0>F&&(z&=-65);continue a}F=r("precision");continue a;case "d":case "i":case "u":B=g.$Integer(t());if(0<=B){for(v=B.toString();v.length<F;)v="0"+v;if(z&2){if(z&4||z&16)v=(z&4?"+":" ")+v;for(;v.length<E;)v+=" "}else if(z&8&&-1===F){for(;v.length<E-(z&4||z&16?1:0);)v="0"+v;if(z&4||z&16)v=(z&4?"+":" ")+v}else{if(z&4||z&16)v=(z&4?"+":" ")+v;for(;v.length<E;)v=" "+v}}else{for(v=(-B).toString();v.length<F;)v="0"+v;if(z&2)for(v="-"+v;v.length<E;)v+=" ";else if(z&8&&-1===F){for(;v.length<
E-1;)v="0"+v;v="-"+v}else for(v="-"+v;v.length<E;)v=" "+v}break a;case "b":case "B":case "o":case "x":case "X":switch(d.charAt(C)){case "b":case "B":var Q=2;var J="0b";var U=/^1+/;var R="1";break;case "o":Q=8;J="0";U=/^3?7+/;R="7";break;case "x":case "X":Q=16,J="0x",U=/^f+/,R="f"}B=g.$Integer(t());if(0<=B){for(v=B.toString(Q);v.length<F;)v="0"+v;if(z&2){if(z&4||z&16)v=(z&4?"+":" ")+v;for(z&1&&0!==B&&(v=J+v);v.length<E;)v+=" "}else if(z&8&&-1===F){for(;v.length<E-(z&4||z&16?1:0)-(z&1&&0!==B?J.length:
0);)v="0"+v;z&1&&0!==B&&(v=J+v);if(z&4||z&16)v=(z&4?"+":" ")+v}else{z&1&&0!==B&&(v=J+v);if(z&4||z&16)v=(z&4?"+":" ")+v;for(;v.length<E;)v=" "+v}}else if(z&4||z&16){for(v=(-B).toString(Q);v.length<F;)v="0"+v;if(z&2)for(z&1&&(v=J+v),v="-"+v;v.length<E;)v+=" ";else if(z&8&&-1===F){for(;v.length<E-1-(z&1?2:0);)v="0"+v;z&1&&(v=J+v);v="-"+v}else for(z&1&&(v=J+v),v="-"+v;v.length<E;)v=" "+v}else{for(v=(B>>>0).toString(Q).replace(U,R);v.length<F-2;)v=R+v;if(z&2)for(v=".."+v,z&1&&(v=J+v);v.length<E;)v+=" ";
else if(z&8&&-1===F){for(;v.length<E-2-(z&1?J.length:0);)v=R+v;v=".."+v;z&1&&(v=J+v)}else for(v=".."+v,z&1&&(v=J+v);v.length<E;)v=" "+v}d.charAt(C)===d.charAt(C).toUpperCase()&&(v=v.toUpperCase());break a;case "f":case "e":case "E":case "g":case "G":B=g.$Float(t());if(0<=B||isNaN(B)){if(Infinity===B)v="Inf";else switch(d.charAt(C)){case "f":v=B.toFixed(-1===F?6:F);break;case "e":case "E":v=B.toExponential(-1===F?6:F);break;case "g":case "G":v=B.toExponential(),P=parseInt(v.split("e")[1],10),-4>P||
P>=(-1===F?6:F)||(v=B.toPrecision(-1===F?z&1?6:void 0:F))}if(z&2){if(z&4||z&16)v=(z&4?"+":" ")+v;for(;v.length<E;)v+=" "}else if(z&8&&Infinity!==B&&!isNaN(B)){for(;v.length<E-(z&4||z&16?1:0);)v="0"+v;if(z&4||z&16)v=(z&4?"+":" ")+v}else{if(z&4||z&16)v=(z&4?"+":" ")+v;for(;v.length<E;)v=" "+v}}else{if(-Infinity===B)v="Inf";else switch(d.charAt(C)){case "f":v=(-B).toFixed(-1===F?6:F);break;case "e":case "E":v=(-B).toExponential(-1===F?6:F);break;case "g":case "G":v=(-B).toExponential(),P=parseInt(v.split("e")[1],
10),-4>P||P>=(-1===F?6:F)||(v=(-B).toPrecision(-1===F?z&1?6:void 0:F))}if(z&2)for(v="-"+v;v.length<E;)v+=" ";else if(z&8&&-Infinity!==B){for(;v.length<E-1;)v="0"+v;v="-"+v}else for(v="-"+v;v.length<E;)v=" "+v}d.charAt(C)!==d.charAt(C).toUpperCase()||Infinity===B||-Infinity===B||isNaN(B)||(v=v.toUpperCase());v=v.replace(/([eE][-+]?)([0-9])$/,"$10$2");break a;case "a":case "A":g.$raise(f(m,"NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case "c":B=t();B["$respond_to?"]("to_ary")&&
(B=B.$to_ary()[0]);v=B["$respond_to?"]("to_str")?B.$to_str():String.fromCharCode(f(m,"Opal").$coerce_to(B,f(m,"Integer"),"to_int"));1!==v.length&&g.$raise(f(m,"ArgumentError"),"%c requires a character");if(z&2)for(;v.length<E;)v+=" ";else for(;v.length<E;)v=" "+v;break a;case "p":v=t().$inspect();-1!==F&&(v=v.slice(0,F));if(z&2)for(;v.length<E;)v+=" ";else for(;v.length<E;)v=" "+v;break a;case "s":v=t().$to_s();-1!==F&&(v=v.slice(0,F));if(z&2)for(;v.length<E;)v+=" ";else for(;v.length<E;)v=" "+v;
break a;default:g.$raise(f(m,"ArgumentError"),"malformed format string - %"+d.charAt(C))}void 0===v&&g.$raise(f(m,"ArgumentError"),"malformed format string - %");n+=d.slice(L,T)+v;L=C+1}w.DEBUG&&0<=M&&K<G.length&&g.$raise(f(m,"ArgumentError"),"too many arguments for format string");return n+d.slice(L)},p.$$arity=-2)}(k[0],k)};
Opal.modules["corelib/string/encoding"]=function(a){function k(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var h,f,q,l,w,m=a.top,t=[],r=a.nil,p=a.const_get_qualified,d=a.const_get_relative,b=a.klass,c=a.hash2,y=a.truthy,A=a.send;m.$require("corelib/string");(function(f,$super,h){f=b(f,$super,"Encoding");var m=[f].concat(h),e,g,n,l,p,q,t,x;f.$$prototype.ascii=f.$$prototype.dummy=f.$$prototype.name=r;a.defs(f,"$register",e=function(b,d){var g=e.$$p,f=g||r,h,n,m=r,l=r,p=r,q=r,
t=r;g&&(e.$$p=null);g&&(e.$$p=null);null==d&&(d=c([],{}));m=k([b],y(h=d["$[]"]("aliases"))?h:[]);l=y(h=d["$[]"]("ascii"))?h:!1;p=y(h=d["$[]"]("dummy"))?h:!1;q=this.$new(b,m,l,p);A(q,"instance_eval",[],f.$to_proc());t=a.encodings;return A(m,"each",[],(n=function(a){var b=null==n.$$s?this:n.$$s;null==a&&(a=r);b.$const_set(a.$sub("-","_"),q);return t[a]=q},n.$$s=this,n.$$arity=1,n))},e.$$arity=-2);a.defs(f,"$find",g=function(b){var c;if(b["$=="]("default_external"))return this.$default_external();var e=
a.encodings;e=y(c=e[b])?c:e[b.$upcase()];y(e)||this.$raise(d(m,"ArgumentError"),"unknown encoding name - "+b);return e},g.$$arity=1);f.$singleton_class().$attr_accessor("default_external");f.$attr_reader("name","names");a.def(f,"$initialize",n=function(a,b,c,e){this.name=a;this.names=b;this.ascii=c;return this.dummy=e},n.$$arity=4);a.def(f,"$to_s",l=function(){return this.name},l.$$arity=0);a.def(f,"$inspect",p=function(){return"#<Encoding:"+this.name+(y(this.dummy)?" (dummy)":r)+">"},p.$$arity=0);
a.def(f,"$each_byte",q=function(b){a.slice.call(arguments,0,arguments.length);return this.$raise(d(m,"NotImplementedError"))},q.$$arity=-1);a.def(f,"$getbyte",t=function(b){a.slice.call(arguments,0,arguments.length);return this.$raise(d(m,"NotImplementedError"))},t.$$arity=-1);a.def(f,"$bytesize",x=function(b){a.slice.call(arguments,0,arguments.length);return this.$raise(d(m,"NotImplementedError"))},x.$$arity=-1)})(t[0],null,t);A(d(t,"Encoding"),"register",["UTF-8",c(["aliases","ascii"],{aliases:["CP65001"],
ascii:!0})],(h=function(){var b=null==h.$$s?this:h.$$s,c,d;a.def(b,"$each_byte",c=function(b){var e=c.$$p,d=e||r;e&&(c.$$p=null);e&&(c.$$p=null);e=0;for(var f=b.length;e<f;e++){var h=b.charCodeAt(e);if(127>=h)a.yield1(d,h);else{h=encodeURIComponent(b.charAt(e)).substr(1).split("%");for(var m=0,k=h.length;m<k;m++)a.yield1(d,parseInt(h[m],16))}}},c.$$arity=1);return(a.def(b,"$bytesize",d=function(a){return a.$bytes().$length()},d.$$arity=1),r)&&"bytesize"},h.$$s=m,h.$$arity=0,h));A(d(t,"Encoding"),
"register",["UTF-16LE"],(f=function(){var b=null==f.$$s?this:f.$$s,c,d;a.def(b,"$each_byte",c=function(b){var e=c.$$p,d=e||r;e&&(c.$$p=null);e&&(c.$$p=null);e=0;for(var f=b.length;e<f;e++){var h=b.charCodeAt(e);a.yield1(d,h&255);a.yield1(d,h>>8)}},c.$$arity=1);return(a.def(b,"$bytesize",d=function(a){return a.$bytes().$length()},d.$$arity=1),r)&&"bytesize"},f.$$s=m,f.$$arity=0,f));A(d(t,"Encoding"),"register",["UTF-16BE"],(q=function(){var b=null==q.$$s?this:q.$$s,c,d;a.def(b,"$each_byte",c=function(b){var e=
c.$$p,d=e||r;e&&(c.$$p=null);e&&(c.$$p=null);e=0;for(var f=b.length;e<f;e++){var h=b.charCodeAt(e);a.yield1(d,h>>8);a.yield1(d,h&255)}},c.$$arity=1);return(a.def(b,"$bytesize",d=function(a){return a.$bytes().$length()},d.$$arity=1),r)&&"bytesize"},q.$$s=m,q.$$arity=0,q));A(d(t,"Encoding"),"register",["UTF-32LE"],(l=function(){var b=null==l.$$s?this:l.$$s,c,d;a.def(b,"$each_byte",c=function(b){var e=c.$$p,d=e||r;e&&(c.$$p=null);e&&(c.$$p=null);e=0;for(var f=b.length;e<f;e++){var h=b.charCodeAt(e);
a.yield1(d,h&255);a.yield1(d,h>>8)}},c.$$arity=1);return(a.def(b,"$bytesize",d=function(a){return a.$bytes().$length()},d.$$arity=1),r)&&"bytesize"},l.$$s=m,l.$$arity=0,l));A(d(t,"Encoding"),"register",["ASCII-8BIT",c(["aliases","ascii","dummy"],{aliases:["BINARY","US-ASCII","ASCII"],ascii:!0,dummy:!0})],(w=function(){var b=null==w.$$s?this:w.$$s,c,d;a.def(b,"$each_byte",c=function(b){var e=c.$$p,d=e||r;e&&(c.$$p=null);e&&(c.$$p=null);e=0;for(var f=b.length;e<f;e++){var h=b.charCodeAt(e);a.yield1(d,
h&255);a.yield1(d,h>>8)}},c.$$arity=1);return(a.def(b,"$bytesize",d=function(a){return a.$bytes().$length()},d.$$arity=1),r)&&"bytesize"},w.$$s=m,w.$$arity=0,w));return function(c,$super,f){c=b(c,$super,"String");var h=[c].concat(f),e,g,n,m,k,l;c.$$prototype.encoding=r;c.$attr_reader("encoding");a.defineProperty(String.prototype,"encoding",p(d(h,"Encoding"),"UTF_16LE"));a.def(c,"$bytes",e=function(){return this.$each_byte().$to_a()},e.$$arity=0);a.def(c,"$bytesize",g=function(){return this.encoding.$bytesize(this)},
g.$$arity=0);a.def(c,"$each_byte",n=function(){var a=n.$$p,b=a||r;a&&(n.$$p=null);a&&(n.$$p=null);if(b===r)return this.$enum_for("each_byte");A(this.encoding,"each_byte",[this],b.$to_proc());return this},n.$$arity=0);a.def(c,"$encode",m=function(a){return this.$dup().$force_encoding(a)},m.$$arity=1);a.def(c,"$force_encoding",k=function(b){if(b===this.encoding)return this;b=d(h,"Opal")["$coerce_to!"](b,d(h,"String"),"to_s");b=d(h,"Encoding").$find(b);if(b===this.encoding)return this;a.set_encoding(this,
b);return this},k.$$arity=1);a.def(c,"$getbyte",l=function(a){return this.encoding.$getbyte(this,a)},l.$$arity=1);return r&&"valid_encoding?"}(t[0],null,t)};
Opal.modules["corelib/math"]=function(a){var k=[],h=a.const_get_relative,f=a.module,q=a.truthy;return function(k,w){k=f(k,"Math");var m=[k].concat(w),l,r,p,d,b,c,y,A,x,u,I,H;a.const_set(m[0],"E",Math.E);a.const_set(m[0],"PI",Math.PI);a.const_set(m[0],"DomainError",h(m,"Class").$new(h(m,"StandardError")));a.defs(k,"$checked",l=function(b,c){var e=a.slice.call(arguments,1,arguments.length);if(isNaN(e[0])||2==e.length&&isNaN(e[1]))return NaN;e=Math[b].apply(null,e);isNaN(e)&&this.$raise(h(m,"DomainError"),
'Numerical argument is out of domain - "'+b+'"');return e},l.$$arity=-2);a.defs(k,"$float!",r=function(b){try{return this.$Float(b)}catch(g){if(a.rescue(g,[h(m,"ArgumentError")]))try{return this.$raise(h(m,"Opal").$type_error(b,h(m,"Float")))}finally{a.pop_exception()}else throw g;}},r.$$arity=1);a.defs(k,"$integer!",p=function(b){try{return this.$Integer(b)}catch(g){if(a.rescue(g,[h(m,"ArgumentError")]))try{return this.$raise(h(m,"Opal").$type_error(b,h(m,"Integer")))}finally{a.pop_exception()}else throw g;
}},p.$$arity=1);k.$module_function();q("undefined"!==typeof Math.acosh)||(Math.acosh=function(a){return Math.log(a+Math.sqrt(a*a-1))});q("undefined"!==typeof Math.asinh)||(Math.asinh=function(a){return Math.log(a+Math.sqrt(a*a+1))});a.def(k,"$atan2",d=function(a,b){return h(m,"Math").$checked("atan2",h(m,"Math")["$float!"](a),h(m,"Math")["$float!"](b))},d.$$arity=2);q("undefined"!==typeof Math.atanh)||(Math.atanh=function(a){return.5*Math.log((1+a)/(1-a))});q("undefined"!==typeof Math.cbrt)||(Math.cbrt=
function(a){if(0==a)return 0;if(0>a)return-Math.cbrt(-a);for(var b=a,c=0;.125>b;)b*=8,c--;for(;1<b;)b*=.125,c++;for(b=(-.46946116*b+1.072302)*b+.3812513;0>c;)b*=.5,c++;for(;0<c;)b*=2,c--;b=2/3*b+1/3*a/(b*b);b=2/3*b+1/3*a/(b*b);b=2/3*b+1/3*a/(b*b);return 2/3*b+1/3*a/(b*b)});a.def(k,"$cos",b=function(a){return h(m,"Math").$checked("cos",h(m,"Math")["$float!"](a))},b.$$arity=1);q("undefined"!==typeof Math.cosh)||(Math.cosh=function(a){return(Math.exp(a)+Math.exp(-a))/2});q("undefined"!==typeof Math.erf)||
a.defineProperty(Math,"erf",function(a){var b=1;0>a&&(b=-1);a=Math.abs(a);var c=1/(1+.3275911*a);return b*(1-((((1.061405429*c+-1.453152027)*c+1.421413741)*c+-.284496736)*c+.254829592)*c*Math.exp(-a*a))});q("undefined"!==typeof Math.erfc)||a.defineProperty(Math,"erfc",function(a){var b=Math.abs(a),c=1/(.5*b+1);b=c*Math.exp(-b*b-1.26551223+c*(c*(c*(c*(c*(c*(c*(c*(.17087277*c+-.82215223)+1.48851587)+-1.13520398)+.27886807)+-.18628806)+.09678418)+.37409196)+1.00002368));return 0>a?2-b:b});a.def(k,"$exp",
c=function(a){return h(m,"Math").$checked("exp",h(m,"Math")["$float!"](a))},c.$$arity=1);a.def(k,"$frexp",y=function(a){a=h(m,"Math")["$float!"](a);if(isNaN(a))return[NaN,0];var b=Math.floor(Math.log(Math.abs(a))/Math.log(2))+1;return[a/Math.pow(2,b),b]},y.$$arity=1);a.def(k,"$gamma",A=function(a){a=h(m,"Math")["$float!"](a);var b=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3.399464998481189E-5,4.652362892704858E-5,-9.837447530487956E-5,1.580887032249125E-4,
-2.1026444172410488E-4,2.1743961811521265E-4,-1.643181065367639E-4,8.441822398385275E-5,-2.6190838401581408E-5,3.6899182659531625E-6];if(isNaN(a))return NaN;if(0===a&&0>1/a)return-Infinity;-1!==a&&-Infinity!==a||this.$raise(h(m,"DomainError"),'Numerical argument is out of domain - "gamma"');if(h(m,"Integer")["$==="](a)){if(0>=a)return isFinite(a)?Infinity:NaN;if(171<a)return Infinity;var c=a-2;for(--a;1<c;)a*=c,c--;0==a&&(a=1);return a}if(.5>a)return Math.PI/(Math.sin(Math.PI*a)*h(m,"Math").$gamma("number"===
typeof a?1-a:1["$-"](a)));if(171.35<=a)return Infinity;if(85<a){c=a*a;var d=c*a;b=d*a;var e=b*a;return Math.sqrt(2*Math.PI/a)*Math.pow(a/Math.E,a)*(1+1/(12*a)+1/(288*c)-139/(51840*d)-571/(2488320*b)+163879/(209018880*e)+5246819/(75246796800*e*a))}--a;c=b[0];for(d=1;d<b.length;++d)c+=b[d]/(a+d);d=a+4.7421875+.5;return Math.sqrt(2*Math.PI)*Math.pow(d,a+.5)*Math.exp(-d)*c},A.$$arity=1);q("undefined"!==typeof Math.hypot)||(Math.hypot=function(a,b){return Math.sqrt(a*a+b*b)});a.def(k,"$hypot",x=function(a,
b){return h(m,"Math").$checked("hypot",h(m,"Math")["$float!"](a),h(m,"Math")["$float!"](b))},x.$$arity=2);a.def(k,"$ldexp",u=function(a,b){a=h(m,"Math")["$float!"](a);b=h(m,"Math")["$integer!"](b);isNaN(b)&&this.$raise(h(m,"RangeError"),"float NaN out of range of integer");return a*Math.pow(2,b)},u.$$arity=2);a.def(k,"$log",I=function(a,b){q(h(m,"String")["$==="](a))&&this.$raise(h(m,"Opal").$type_error(a,h(m,"Float")));if(q(null==b))return h(m,"Math").$checked("log",h(m,"Math")["$float!"](a));q(h(m,
"String")["$==="](b))&&this.$raise(h(m,"Opal").$type_error(b,h(m,"Float")));a=h(m,"Math").$checked("log",h(m,"Math")["$float!"](a));b=h(m,"Math").$checked("log",h(m,"Math")["$float!"](b));return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)},I.$$arity=-2);q("undefined"!==typeof Math.log10)||(Math.log10=function(a){return Math.log(a)/Math.LN10});q("undefined"!==typeof Math.log2)||(Math.log2=function(a){return Math.log(a)/Math.LN2});a.def(k,"$sin",H=function(a){return h(m,"Math").$checked("sin",
h(m,"Math")["$float!"](a))},H.$$arity=1);q("undefined"!==typeof Math.sinh)||(Math.sinh=function(a){return(Math.exp(a)-Math.exp(-a))/2});q("undefined"!==typeof Math.tanh)||(Math.tanh=function(a){return Infinity==a?1:-Infinity==a?-1:(Math.exp(a)-Math.exp(-a))/(Math.exp(a)+Math.exp(-a))})}(k[0],k)};
Opal.modules["corelib/complex"]=function(a){function k(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}function h(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function f(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function q(a,c){return"number"===typeof a&&"number"===typeof c?a/c:a["$/"](c)}var l=[],w=a.nil,m=a.const_get_qualified,t=a.const_get_relative,r=a.klass,p=a.truthy,d=a.module;a.top.$require("corelib/numeric");(function(b,$super,
d){b=r(b,$super,"Complex");var l=[b].concat(d),y,u,I,H,e,g,n,G,L,C,O,E,K,M,v,z,F,N,T,B,P,Q,J,U,R,S,W,Y;b.$$prototype.real=b.$$prototype.imag=w;(function(a,b){[a].concat(b)})(a.get_singleton_class(b),l);a.defs(b,"$polar",y=function(a,b){var d,e,f;null==b&&(b=0);p(p(d=p(e=p(f=t(l,"Numeric")["$==="](a))?a["$real?"]():f)?t(l,"Numeric")["$==="](b):e)?b["$real?"]():d)||this.$raise(t(l,"TypeError"),"not a real");return this.$new(k(a,t(l,"Math").$cos(b)),k(a,t(l,"Math").$sin(b)))},y.$$arity=-2);b.$attr_reader("real",
"imag");a.def(b,"$initialize",u=function(a,b){null==b&&(b=0);this.real=a;return this.imag=b},u.$$arity=-2);a.def(b,"$coerce",I=function(a){var b;return p(t(l,"Complex")["$==="](a))?[a,this]:p(p(b=t(l,"Numeric")["$==="](a))?a["$real?"]():b)?[t(l,"Complex").$new(a,0),this]:this.$raise(t(l,"TypeError"),""+a.$class()+" can't be coerced into Complex")},I.$$arity=1);a.def(b,"$==",H=function(a){var b;return p(t(l,"Complex")["$==="](a))?this.real["$=="](a.$real())?this.imag["$=="](a.$imag()):this.real["$=="](a.$real()):
p(p(b=t(l,"Numeric")["$==="](a))?a["$real?"]():b)?this.real["$=="](a)?this.imag["$=="](0):this.real["$=="](a):a["$=="](this)},H.$$arity=1);a.def(b,"$-@",e=function(){return this.$Complex(this.real["$-@"](),this.imag["$-@"]())},e.$$arity=0);a.def(b,"$+",g=function(a){var b;return p(t(l,"Complex")["$==="](a))?this.$Complex(h(this.real,a.$real()),h(this.imag,a.$imag())):p(p(b=t(l,"Numeric")["$==="](a))?a["$real?"]():b)?this.$Complex(h(this.real,a),this.imag):this.$__coerced__("+",a)},g.$$arity=1);a.def(b,
"$-",n=function(a){var b;return p(t(l,"Complex")["$==="](a))?this.$Complex(f(this.real,a.$real()),f(this.imag,a.$imag())):p(p(b=t(l,"Numeric")["$==="](a))?a["$real?"]():b)?this.$Complex(f(this.real,a),this.imag):this.$__coerced__("-",a)},n.$$arity=1);a.def(b,"$*",G=function(a){var b;return p(t(l,"Complex")["$==="](a))?this.$Complex(f(k(this.real,a.$real()),k(this.imag,a.$imag())),h(k(this.real,a.$imag()),k(this.imag,a.$real()))):p(p(b=t(l,"Numeric")["$==="](a))?a["$real?"]():b)?this.$Complex(k(this.real,
a),k(this.imag,a)):this.$__coerced__("*",a)},G.$$arity=1);a.def(b,"$/",L=function(a){var b,d,e,f;return p(t(l,"Complex")["$==="](a))?p(p(b=p(d=p(e=p(f=t(l,"Number")["$==="](this.real))?this.real["$nan?"]():f)?e:p(f=t(l,"Number")["$==="](this.imag))?this.imag["$nan?"]():f)?d:p(e=t(l,"Number")["$==="](a.$real()))?a.$real()["$nan?"]():e)?b:p(d=t(l,"Number")["$==="](a.$imag()))?a.$imag()["$nan?"]():d)?t(l,"Complex").$new(m(t(l,"Float"),"NAN"),m(t(l,"Float"),"NAN")):q(k(this,a.$conj()),a.$abs2()):p(p(b=
t(l,"Numeric")["$==="](a))?a["$real?"]():b)?this.$Complex(this.real.$quo(a),this.imag.$quo(a)):this.$__coerced__("/",a)},L.$$arity=1);a.def(b,"$**",C=function(b){if(b["$=="](0))return t(l,"Complex").$new(1,0);if(p(t(l,"Complex")["$==="](b))){var d=this.$polar();var e=a.to_ary(d);var g=null==e[0]?w:e[0];e=null==e[1]?w:e[1];d;d=b.$real();var m=b.$imag();b=t(l,"Math").$exp(f(k(d,t(l,"Math").$log(g)),k(m,e)));d=h(k(e,d),k(m,t(l,"Math").$log(g)));return t(l,"Complex").$polar(b,d)}if(p(t(l,"Integer")["$==="](b))){if(p("number"===
typeof b?0<b:b["$>"](0))){e=g=this;for(m=f(b,1);p(m["$!="](0));){b=m.$divmod(2);d=a.to_ary(b);var n=null==d[0]?w:d[0];var r=null==d[1]?w:d[1];for(b;r["$=="](0);)g=this.$Complex(f(k(g.$real(),g.$real()),k(g.$imag(),g.$imag())),k(k(2,g.$real()),g.$imag())),m=n,d=m.$divmod(2),b=a.to_ary(d),n=null==b[0]?w:b[0],r=null==b[1]?w:b[1],d;e=k(e,g);m=f(m,1)}return e}return q(t(l,"Rational").$new(1,1),this)["$**"](b["$-@"]())}return p(p(e=t(l,"Float")["$==="](b))?e:t(l,"Rational")["$==="](b))?(d=this.$polar(),
e=a.to_ary(d),g=null==e[0]?w:e[0],e=null==e[1]?w:e[1],d,t(l,"Complex").$polar(g["$**"](b),k(e,b))):this.$__coerced__("**",b)},C.$$arity=1);a.def(b,"$abs",O=function(){return t(l,"Math").$hypot(this.real,this.imag)},O.$$arity=0);a.def(b,"$abs2",E=function(){return h(k(this.real,this.real),k(this.imag,this.imag))},E.$$arity=0);a.def(b,"$angle",K=function(){return t(l,"Math").$atan2(this.imag,this.real)},K.$$arity=0);a.alias(b,"arg","angle");a.def(b,"$conj",M=function(){return this.$Complex(this.real,
this.imag["$-@"]())},M.$$arity=0);a.def(b,"$denominator",v=function(){return this.real.$denominator().$lcm(this.imag.$denominator())},v.$$arity=0);a.def(b,"$eql?",z=function(a){var b,d;return p(b=p(d=t(l,"Complex")["$==="](a))?this.real.$class()["$=="](this.imag.$class()):d)?this["$=="](a):b},z.$$arity=1);a.def(b,"$finite?",F=function(){var a;return p(a=this.real["$finite?"]())?this.imag["$finite?"]():a},F.$$arity=0);a.def(b,"$hash",N=function(){return"Complex:"+this.real+":"+this.imag},N.$$arity=
0);a.def(b,"$infinite?",T=function(){var a;return p(a=this.real["$infinite?"]())?a:this.imag["$infinite?"]()},T.$$arity=0);a.def(b,"$inspect",B=function(){return"("+this+")"},B.$$arity=0);a.udef(b,"$negative?");a.def(b,"$numerator",P=function(){var a=this.$denominator();return this.$Complex(k(this.real.$numerator(),q(a,this.real.$denominator())),k(this.imag.$numerator(),q(a,this.imag.$denominator())))},P.$$arity=0);a.def(b,"$polar",Q=function(){return[this.$abs(),this.$arg()]},Q.$$arity=0);a.udef(b,
"$positive?");a.alias(b,"quo","/");a.def(b,"$rationalize",J=function(a){1<arguments.length&&this.$raise(t(l,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");p(this.imag["$!="](0))&&this.$raise(t(l,"RangeError"),"can't' convert "+this+" into Rational");return this.$real().$rationalize(a)},J.$$arity=-1);a.def(b,"$real?",U=function(){return!1},U.$$arity=0);a.def(b,"$to_f",R=function(){this.imag["$=="](0)||this.$raise(t(l,"RangeError"),"can't convert "+this+" into Float");
return this.real.$to_f()},R.$$arity=0);a.def(b,"$to_i",S=function(){this.imag["$=="](0)||this.$raise(t(l,"RangeError"),"can't convert "+this+" into Integer");return this.real.$to_i()},S.$$arity=0);a.def(b,"$to_r",W=function(){this.imag["$=="](0)||this.$raise(t(l,"RangeError"),"can't convert "+this+" into Rational");return this.real.$to_r()},W.$$arity=0);a.def(b,"$to_s",Y=function(){var a,b,d;var e=this.real.$inspect();e=h(e,p(p(a=p(b=p(d=t(l,"Number")["$==="](this.imag))?this.imag["$nan?"]():d)?b:
this.imag["$positive?"]())?a:this.imag["$zero?"]())?"+":"-");e=h(e,this.imag.$abs().$inspect());p(p(a=t(l,"Number")["$==="](this.imag))?p(b=this.imag["$nan?"]())?b:this.imag["$infinite?"]():a)&&(e=h(e,"*"));return h(e,"i")},Y.$$arity=0);return a.const_set(l[0],"I",b.$new(0,1))})(l[0],t(l,"Numeric"),l);(function(b,c){b=d(b,"Kernel");var f=[b].concat(c),h;a.def(b,"$Complex",h=function(a,b){null==b&&(b=w);return p(b)?t(f,"Complex").$new(a,b):t(f,"Complex").$new(a,0)},h.$$arity=-2)})(l[0],l);return function(a,
$super,d){[r(a,$super,"String")].concat(d);return w&&"to_c"}(l[0],null,l)};
Opal.modules["corelib/rational"]=function(a){function k(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function f(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var w=[],m=a.nil,t=a.const_get_qualified,r=a.const_get_relative,p=
a.klass,d=a.truthy,b=a.module;a.top.$require("corelib/numeric");(function(b,$super,w){b=p(b,$super,"Rational");var c=[b].concat(w),u,A,H,e,g,n,G,L,C,O,E,K,M,v,z,F,N,T,B,P,Q,J,U,R,S,W;b.$$prototype.num=b.$$prototype.den=m;a.defs(b,"$reduce",u=function(a,b){a=a.$to_i();b=b.$to_i();if(b["$=="](0))this.$raise(r(c,"ZeroDivisionError"),"divided by 0");else if(d(k(b,0)))a=a["$-@"](),b=b["$-@"]();else if(b["$=="](1))return this.$new(a,b);var e=a.$gcd(b);return this.$new(h(a,e),h(b,e))},u.$$arity=2);a.defs(b,
"$convert",A=function(a,b){var e,f;d(d(e=a["$nil?"]())?e:b["$nil?"]())&&this.$raise(r(c,"TypeError"),"cannot convert nil into Rational");if(d(d(e=r(c,"Integer")["$==="](a))?r(c,"Integer")["$==="](b):e))return this.$reduce(a,b);d(d(e=d(f=r(c,"Float")["$==="](a))?f:r(c,"String")["$==="](a))?e:r(c,"Complex")["$==="](a))&&(a=a.$to_r());d(d(e=d(f=r(c,"Float")["$==="](b))?f:r(c,"String")["$==="](b))?e:r(c,"Complex")["$==="](b))&&(b=b.$to_r());return d(d(e=b["$equal?"](1))?r(c,"Integer")["$==="](a)["$!"]():
e)?r(c,"Opal")["$coerce_to!"](a,r(c,"Rational"),"to_r"):d(d(e=r(c,"Numeric")["$==="](a))?r(c,"Numeric")["$==="](b):e)?h(a,b):this.$reduce(a,b)},A.$$arity=2);a.def(b,"$initialize",H=function(a,b){this.num=a;return this.den=b},H.$$arity=2);a.def(b,"$numerator",e=function(){return this.num},e.$$arity=0);a.def(b,"$denominator",g=function(){return this.den},g.$$arity=0);a.def(b,"$coerce",n=function(a){return r(c,"Rational")["$==="](a)?[a,this]:r(c,"Integer")["$==="](a)?[a.$to_r(),this]:r(c,"Float")["$==="](a)?
[a,this.$to_f()]:m},n.$$arity=1);a.def(b,"$==",G=function(a){return r(c,"Rational")["$==="](a)?this.num["$=="](a.$numerator())?this.den["$=="](a.$denominator()):this.num["$=="](a.$numerator()):r(c,"Integer")["$==="](a)?this.num["$=="](a)?this.den["$=="](1):this.num["$=="](a):r(c,"Float")["$==="](a)?this.$to_f()["$=="](a):a["$=="](this)},G.$$arity=1);a.def(b,"$<=>",L=function(a){return r(c,"Rational")["$==="](a)?f(q(this.num,a.$denominator()),q(this.den,a.$numerator()))["$<=>"](0):r(c,"Integer")["$==="](a)?
f(this.num,q(this.den,a))["$<=>"](0):r(c,"Float")["$==="](a)?this.$to_f()["$<=>"](a):this.$__coerced__("<=>",a)},L.$$arity=1);a.def(b,"$+",C=function(a){if(r(c,"Rational")["$==="](a)){var b=l(q(this.num,a.$denominator()),q(this.den,a.$numerator()));a=q(this.den,a.$denominator());b=this.$Rational(b,a)}else b=r(c,"Integer")["$==="](a)?this.$Rational(l(this.num,q(a,this.den)),this.den):r(c,"Float")["$==="](a)?l(this.$to_f(),a):this.$__coerced__("+",a);return b},C.$$arity=1);a.def(b,"$-",O=function(a){if(r(c,
"Rational")["$==="](a)){var b=f(q(this.num,a.$denominator()),q(this.den,a.$numerator()));a=q(this.den,a.$denominator());b=this.$Rational(b,a)}else b=r(c,"Integer")["$==="](a)?this.$Rational(f(this.num,q(a,this.den)),this.den):r(c,"Float")["$==="](a)?f(this.$to_f(),a):this.$__coerced__("-",a);return b},O.$$arity=1);a.def(b,"$*",E=function(a){if(r(c,"Rational")["$==="](a)){var b=q(this.num,a.$numerator());a=q(this.den,a.$denominator());b=this.$Rational(b,a)}else b=r(c,"Integer")["$==="](a)?this.$Rational(q(this.num,
a),this.den):r(c,"Float")["$==="](a)?q(this.$to_f(),a):this.$__coerced__("*",a);return b},E.$$arity=1);a.def(b,"$/",K=function(a){if(r(c,"Rational")["$==="](a)){var b=q(this.num,a.$denominator());a=q(this.den,a.$numerator());b=this.$Rational(b,a)}else b=r(c,"Integer")["$==="](a)?a["$=="](0)?h(this.$to_f(),0):this.$Rational(this.num,q(this.den,a)):r(c,"Float")["$==="](a)?h(this.$to_f(),a):this.$__coerced__("/",a);return b},K.$$arity=1);a.def(b,"$**",M=function(a){return r(c,"Integer")["$==="](a)?d(this["$=="](0)?
k(a,0):this["$=="](0))?t(r(c,"Float"),"INFINITY"):d("number"===typeof a?0<a:a["$>"](0))?this.$Rational(this.num["$**"](a),this.den["$**"](a)):d(k(a,0))?this.$Rational(this.den["$**"](a["$-@"]()),this.num["$**"](a["$-@"]())):this.$Rational(1,1):r(c,"Float")["$==="](a)?this.$to_f()["$**"](a):r(c,"Rational")["$==="](a)?a["$=="](0)?this.$Rational(1,1):a.$denominator()["$=="](1)?d(k(a,0))?this.$Rational(this.den["$**"](a.$numerator().$abs()),this.num["$**"](a.$numerator().$abs())):this.$Rational(this.num["$**"](a.$numerator()),
this.den["$**"](a.$numerator())):d(this["$=="](0)?k(a,0):this["$=="](0))?this.$raise(r(c,"ZeroDivisionError"),"divided by 0"):this.$to_f()["$**"](a):this.$__coerced__("**",a)},M.$$arity=1);a.def(b,"$abs",v=function(){return this.$Rational(this.num.$abs(),this.den.$abs())},v.$$arity=0);a.def(b,"$ceil",z=function(a){null==a&&(a=0);return a["$=="](0)?h(this.num["$-@"](),this.den)["$-@"]().$ceil():this.$with_precision("ceil",a)},z.$$arity=-1);a.def(b,"$floor",F=function(a){null==a&&(a=0);return a["$=="](0)?
h(this.num["$-@"](),this.den)["$-@"]().$floor():this.$with_precision("floor",a)},F.$$arity=-1);a.def(b,"$hash",N=function(){return"Rational:"+this.num+":"+this.den},N.$$arity=0);a.def(b,"$inspect",T=function(){return"("+this+")"},T.$$arity=0);a.alias(b,"quo","/");a.def(b,"$rationalize",B=function(a){1<arguments.length&&this.$raise(r(c,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");if(null==a)return this;var b=a.$abs(),d=f(this,b);b=l(this,b);for(var e=0,g=1,m=1,k=0,
n,p,q;;){n=d.$ceil();if("number"===typeof n&&"number"===typeof b?n<=b:n["$<="](b))break;q=n-1;n=q*g+e;p=q*k+m;e=h(1,f(b,q));b=h(1,f(d,q));d=e;e=g;m=k;g=n;k=p}return this.$Rational(n*g+e,n*k+m)},B.$$arity=-1);a.def(b,"$round",P=function(a){null==a&&(a=0);if(!a["$=="](0))return this.$with_precision("round",a);if(this.num["$=="](0))return 0;if(this.den["$=="](1))return this.num;a=l(q(this.num.$abs(),2),this.den);var b=q(this.den,2);a=h(a,b).$truncate();return d(k(this.num,0))?a["$-@"]():a},P.$$arity=
-1);a.def(b,"$to_f",Q=function(){return h(this.num,this.den)},Q.$$arity=0);a.def(b,"$to_i",J=function(){return this.$truncate()},J.$$arity=0);a.def(b,"$to_r",U=function(){return this},U.$$arity=0);a.def(b,"$to_s",R=function(){return""+this.num+"/"+this.den},R.$$arity=0);a.def(b,"$truncate",S=function(a){null==a&&(a=0);return a["$=="](0)?d(k(this.num,0))?this.$ceil():this.$floor():this.$with_precision("truncate",a)},S.$$arity=-1);return(a.def(b,"$with_precision",W=function(a,b){d(r(c,"Integer")["$==="](b))||
this.$raise(r(c,"TypeError"),"not an Integer");var e=10["$**"](b);var f=q(this,e);return d(k(b,1))?h(f.$send(a),e).$to_i():this.$Rational(f.$send(a),e)},W.$$arity=2),m)&&"with_precision"})(w[0],r(w,"Numeric"),w);(function(c,d){c=b(c,"Kernel");var f=[c].concat(d),h;a.def(c,"$Rational",h=function(a,b){null==b&&(b=1);return r(f,"Rational").$convert(a,b)},h.$$arity=-2)})(w[0],w);return function(b,$super,d){b=p(b,$super,"String");[b].concat(d);var c;return(a.def(b,"$to_r",c=function(){function a(){var a=
b.match(c)[0];b=b.slice(a.length);return a.replace(/_/g,"")}var b=this.trimLeft(),c=/^[+-]?[\d_]+(\.[\d_]+)?/;b.match(c);if(c.test(b)){var d=parseFloat(a());if("/"===b[0]&&(b=b.slice(1),c.test(b))){var f=parseFloat(a());return this.$Rational(d,f)}return this.$Rational(d,1)}return this.$Rational(0,1)},c.$$arity=0),m)&&"to_r"}(w[0],null,w)};
Opal.modules["corelib/time"]=function(a){function k(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function f(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}var l=[],w=a.nil,m=a.const_get_relative,t=a.klass,r=a.truthy,p=a.range;a.top.$require("corelib/comparable");return function(d,$super,c){var l=t(d,
$super,"Time"),A=[l].concat(c),x,u,I,H,e,g,n,G,L,C,O,E,K,M,v,z,F,N,T,B,P,Q,J,U,R,S;l.$include(m(A,"Comparable"));var W="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),Y="Sun Mon Tue Wed Thu Fri Sat".split(" "),X="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),V="January February March April May June July August September October November December".split(" ");a.defs(l,"$new",x=function(a,c,d,e,f,g,h){null==c&&(c=w);null==d&&(d=w);null==e&&(e=w);null==f&&(f=
w);null==g&&(g=w);null==h&&(h=w);if(void 0===a)return new Date;h!==w&&this.$raise(m(A,"ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time");a=a.$$is_string?parseInt(a,10):m(A,"Opal")["$coerce_to!"](a,m(A,"Integer"),"to_int");if(c===w)c=1;else if(!c.$$is_number)if(c["$respond_to?"]("to_str"))switch(c=c.$to_str(),c.toLowerCase()){case "jan":c=1;break;case "feb":c=2;break;case "mar":c=3;break;case "apr":c=4;break;case "may":c=5;break;case "jun":c=6;break;case "jul":c=7;
break;case "aug":c=8;break;case "sep":c=9;break;case "oct":c=10;break;case "nov":c=11;break;case "dec":c=12;break;default:c=c.$to_i()}else c=m(A,"Opal")["$coerce_to!"](c,m(A,"Integer"),"to_int");(1>c||12<c)&&l.$raise(m(A,"ArgumentError"),"month out of range: "+c);--c;d=d===w?1:d.$$is_string?parseInt(d,10):m(A,"Opal")["$coerce_to!"](d,m(A,"Integer"),"to_int");(1>d||31<d)&&l.$raise(m(A,"ArgumentError"),"day out of range: "+d);e=e===w?0:e.$$is_string?parseInt(e,10):m(A,"Opal")["$coerce_to!"](e,m(A,"Integer"),
"to_int");(0>e||24<e)&&l.$raise(m(A,"ArgumentError"),"hour out of range: "+e);f=f===w?0:f.$$is_string?parseInt(f,10):m(A,"Opal")["$coerce_to!"](f,m(A,"Integer"),"to_int");(0>f||59<f)&&l.$raise(m(A,"ArgumentError"),"min out of range: "+f);g===w?g=0:g.$$is_number||(g=g.$$is_string?parseInt(g,10):m(A,"Opal")["$coerce_to!"](g,m(A,"Integer"),"to_int"));(0>g||60<g)&&l.$raise(m(A,"ArgumentError"),"sec out of range: "+g);g=[a,c,d,e,f,g];a=g[0];c=g[1];d=g[2];e=g[3];f=g[4];g=g[5];f=new Date(a,c,d,e,f,0,1E3*
g);100>a&&f.setFullYear(a);return f},x.$$arity=-1);(function(a,c){[a].concat(c)})(a.get_singleton_class(l),A);a.def(l,"$+",u=function(a){r(m(A,"Time")["$==="](a))&&this.$raise(m(A,"TypeError"),"time + time?");a.$$is_number||(a=m(A,"Opal")["$coerce_to!"](a,m(A,"Integer"),"to_int"));a=new Date(this.getTime()+1E3*a);a.is_utc=this.is_utc;return a},u.$$arity=1);a.def(l,"$-",I=function(a){if(r(m(A,"Time")["$==="](a)))return(this.getTime()-a.getTime())/1E3;a.$$is_number||(a=m(A,"Opal")["$coerce_to!"](a,
m(A,"Integer"),"to_int"));a=new Date(this.getTime()-1E3*a);a.is_utc=this.is_utc;return a},I.$$arity=1);a.def(l,"$<=>",H=function(a){if(r(m(A,"Time")["$==="](a)))return this.$to_f()["$<=>"](a.$to_f());a=a["$<=>"](this);return r(a["$nil?"]())?w:r("number"===typeof a?0<a:a["$>"](0))?-1:r("number"===typeof a?0>a:a["$<"](0))?1:0},H.$$arity=1);a.def(l,"$==",e=function(a){var c;return r(c=m(A,"Time")["$==="](a))?this.$to_f()===a.$to_f():c},e.$$arity=1);a.def(l,"$day",g=function(){return this.is_utc?this.getUTCDate():
this.getDate()},g.$$arity=0);a.def(l,"$yday",n=function(){var a=m(A,"Time").$new(this.$year()).$to_i();var c=m(A,"Time").$new(this.$year(),this.$month(),this.$day()).$to_i();return k(h(f(c,a),86400).$round(),1)},n.$$arity=0);a.def(l,"$isdst",G=function(){var a=new Date(this.getFullYear(),0,1),c=new Date(this.getFullYear(),6,1);return this.getTimezoneOffset()<Math.max(a.getTimezoneOffset(),c.getTimezoneOffset())},G.$$arity=0);a.def(l,"$dup",L=function(){var a=new Date(this.getTime());a.$copy_instance_variables(this);
a.$initialize_dup(this);return a},L.$$arity=0);a.def(l,"$eql?",C=function(a){var c;return r(c=a["$is_a?"](m(A,"Time")))?this["$<=>"](a)["$zero?"]():c},C.$$arity=1);a.def(l,"$hash",O=function(){return"Time:"+this.getTime()},O.$$arity=0);a.def(l,"$hour",E=function(){return this.is_utc?this.getUTCHours():this.getHours()},E.$$arity=0);a.def(l,"$inspect",K=function(){return r(this["$utc?"]())?this.$strftime("%Y-%m-%d %H:%M:%S UTC"):this.$strftime("%Y-%m-%d %H:%M:%S %z")},K.$$arity=0);a.def(l,"$min",M=
function(){return this.is_utc?this.getUTCMinutes():this.getMinutes()},M.$$arity=0);a.def(l,"$mon",v=function(){return(this.is_utc?this.getUTCMonth():this.getMonth())+1},v.$$arity=0);a.alias(l,"month","mon");a.def(l,"$sec",z=function(){return this.is_utc?this.getUTCSeconds():this.getSeconds()},z.$$arity=0);a.def(l,"$succ",F=function(){var a=new Date(this.getTime()+1E3);a.is_utc=this.is_utc;return a},F.$$arity=0);a.def(l,"$zone",N=function(){var a=this.toString();var c=-1==a.indexOf("(")?a.match(/[A-Z]{3,4}/)[0]:
a.match(/\((.+)\)(?:\s|$)/)[1];return"GMT"==c&&/(GMT\W*\d{4})/.test(a)?RegExp.$1:c},N.$$arity=0);a.def(l,"$gmt?",T=function(){return!0===this.is_utc},T.$$arity=0);a.def(l,"$strftime",B=function(a){var c=this;return a.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(a,d,e,f,g){f="";var h=-1!==d.indexOf("0"),m=-1===d.indexOf("-"),k=-1!==d.indexOf("_"),l=-1!==d.indexOf("^"),n=-1!==d.indexOf("#"),q=(d.match(":")||[]).length;e=parseInt(e,10);h&&k&&(d.indexOf("0")<d.indexOf("_")?h=!1:k=!1);switch(g){case "Y":f+=
c.$year();break;case "C":h=!k;f+=Math.round(c.$year()/100);break;case "y":h=!k;f+=c.$year()%100;break;case "m":h=!k;f+=c.$mon();break;case "B":f+=V[c.$mon()-1];break;case "b":case "h":k=!h;f+=X[c.$mon()-1];break;case "d":h=!k;f+=c.$day();break;case "e":k=!h;f+=c.$day();break;case "j":f+=c.$yday();break;case "H":h=!k;f+=c.$hour();break;case "k":k=!h;f+=c.$hour();break;case "I":h=!k;f+=c.$hour()%12||12;break;case "l":k=!h;f+=c.$hour()%12||12;break;case "P":f+=12<=c.$hour()?"pm":"am";break;case "p":f+=
12<=c.$hour()?"PM":"AM";break;case "M":h=!k;f+=c.$min();break;case "S":h=!k;f+=c.$sec();break;case "L":h=!k;e=isNaN(e)?3:e;f+=c.getMilliseconds();break;case "N":e=isNaN(e)?9:e;f+=c.getMilliseconds().toString().$rjust(3,"0");f=f.$ljust(e,"0");break;case "z":a=c.getTimezoneOffset();d=Math.floor(Math.abs(a)/60);g=Math.abs(a)%60;f=f+(0>a?"+":"-")+(10>d?"0":"")+d;0<q&&(f+=":");f+=10>g?"0":"";f+=g;1<q&&(f+=":00");break;case "Z":f+=c.$zone();break;case "A":f+=W[c.$wday()];break;case "a":f+=Y[c.$wday()];
break;case "u":f+=c.$wday()+1;break;case "w":f+=c.$wday();break;case "V":f+=c.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case "G":f+=c.$cweek_cyear()["$[]"](1);break;case "g":f+=c.$cweek_cyear()["$[]"](1)["$[]"](p(-2,-1,!1));break;case "s":f+=c.$to_i();break;case "n":f+="\n";break;case "t":f+="\t";break;case "%":f+="%";break;case "c":f+=c.$strftime("%a %b %e %T %Y");break;case "D":case "x":f+=c.$strftime("%m/%d/%y");break;case "F":f+=c.$strftime("%Y-%m-%d");break;case "v":f+=c.$strftime("%e-%^b-%4Y");
break;case "r":f+=c.$strftime("%I:%M:%S %p");break;case "R":f+=c.$strftime("%H:%M");break;case "T":case "X":f+=c.$strftime("%H:%M:%S");break;default:return a}l&&(f=f.toUpperCase());n&&(f=f.replace(/[A-Z]/,function(a){a.toLowerCase()}).replace(/[a-z]/,function(a){a.toUpperCase()}));m&&(h||k)&&(f=f.$rjust(isNaN(e)?2:e,k?" ":"0"));return f})},B.$$arity=1);a.def(l,"$to_a",P=function(){return[this.$sec(),this.$min(),this.$hour(),this.$day(),this.$month(),this.$year(),this.$wday(),this.$yday(),this.$isdst(),
this.$zone()]},P.$$arity=0);a.def(l,"$to_f",Q=function(){return this.getTime()/1E3},Q.$$arity=0);a.def(l,"$to_i",J=function(){return parseInt(this.getTime()/1E3,10)},J.$$arity=0);a.alias(l,"to_s","inspect");a.alias(l,"utc?","gmt?");a.def(l,"$wday",U=function(){return this.is_utc?this.getUTCDay():this.getDay()},U.$$arity=0);a.def(l,"$year",R=function(){return this.is_utc?this.getUTCFullYear():this.getFullYear()},R.$$arity=0);return(a.def(l,"$cweek_cyear",S=function(){var a;var c=m(A,"Time").$new(this.$year(),
1,1).$wday();var d=this.$year();r(r(a=q(c,4))?c["$!="](0):a)?c=f(c,1):(c=f(f(c,7),1),c["$=="](-8)&&(c=-1));c=h(k(this.$yday(),c),7).$ceil();if(r(q(c,0)))return m(A,"Time").$new(f(this.$year(),1),12,31).$cweek_cyear();if(c["$=="](53)){var e=m(A,"Time").$new(this.$year(),12,31);e=e.$wday();r(r(a=q(e,3))?e["$!="](0):a)&&(c=1,d=k(d,1))}return[c,d]},S.$$arity=0),w)&&"cweek_cyear"}(l[0],Date,l)};
Opal.modules["corelib/struct"]=function(a){function k(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function f(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var w=[],m=a.nil,t=a.const_get_relative,r=a.klass,p=a.hash2,d=a.truthy,
b=a.send;a.top.$require("corelib/enumerable");return function(c,$super,w){c=r(c,$super,"Struct");var x=[c].concat(w),u,A,H,e,g,n,G,L,C,O,E,K,M,v,z,F,N,T;c.$include(t(x,"Enumerable"));a.defs(c,"$new",u=function(c,e,f){var g=u.$$p,h=g||m,k,l;var n=m;g&&(u.$$p=null);g&&(u.$$p=null);var q=a.slice.call(arguments,1,arguments.length);n=a.extract_kwargs(q);if(null==n)n=p([],{});else if(!n.$$is_hash)throw a.ArgumentError.$new("expected kwargs");g=n.$$smap.keyword_init;null==g&&(g=!1);if(d(c))try{c=t(x,"Opal")["$const_name!"](c)}catch(X){if(a.rescue(X,
[t(x,"TypeError"),t(x,"NameError")]))try{q.$unshift(c),c=m}finally{a.pop_exception()}else throw X;}b(q,"map",[],(k=function(a){null==a&&(a=m);return t(x,"Opal")["$coerce_to!"](a,t(x,"String"),"to_str")},k.$$s=this,k.$$arity=1,k));n=b(t(x,"Class"),"new",[this],(l=function(){var c=null==l.$$s?this:l.$$s,d;b(q,"each",[],(d=function(a){var b=null==d.$$s?this:d.$$s;null==a&&(a=m);return b.$define_struct_attribute(a)},d.$$s=c,d.$$arity=1,d));return function(c,d){[c].concat(d);var e;a.def(c,"$new",e=function(c){var d=
a.slice.call(arguments,0,arguments.length);var e=this.$allocate();e.$$data={};b(e,"initialize",a.to_a(d));return e},e.$$arity=-1);return c.$alias_method("[]","new")}(a.get_singleton_class(c),x)},l.$$s=this,l.$$arity=0,l));d(h)&&b(n,"module_eval",[],h.$to_proc());n.$$keyword_init=g;d(c)&&t(x,"Struct").$const_set(c,n);return n},u.$$arity=-2);a.defs(c,"$define_struct_attribute",A=function(a){var c,d;this["$=="](t(x,"Struct"))&&this.$raise(t(x,"ArgumentError"),"you cannot define attributes to the Struct class");
this.$members()["$<<"](a);b(this,"define_method",[a],(c=function(){return(null==c.$$s?this:c.$$s).$$data[a]},c.$$s=this,c.$$arity=0,c));return b(this,"define_method",[""+a+"="],(d=function(b){var c=null==d.$$s?this:d.$$s;null==b&&(b=m);return c.$$data[a]=b},d.$$s=this,d.$$arity=1,d))},A.$$arity=1);a.defs(c,"$members",H=function(){var a;null==this.members&&(this.members=m);this["$=="](t(x,"Struct"))&&this.$raise(t(x,"ArgumentError"),"the Struct class has no members");return this.members=d(a=this.members)?
a:[]},H.$$arity=0);a.defs(c,"$inherited",e=function(a){var c,d=m;null==this.members&&(this.members=m);d=this.members;return b(a,"instance_eval",[],(c=function(){return(null==c.$$s?this:c.$$s).members=d},c.$$s=this,c.$$arity=0,c))},e.$$arity=1);a.def(c,"$initialize",g=function(c){var e,f,g,l=m,n=m;var q=a.slice.call(arguments,0,arguments.length);if(d(this.$class().$$keyword_init))return l=d(e=q.$last())?e:p([],{}),d(d(e=k(q.$length(),1))?e:1===q.length&&!l.$$is_hash)&&this.$raise(t(x,"ArgumentError"),
"wrong number of arguments (given "+q.$length()+", expected 0)"),n=h(l.$keys(),this.$class().$members()),d(n["$any?"]())&&this.$raise(t(x,"ArgumentError"),"unknown keywords: "+n.$join(", ")),b(this.$class().$members(),"each",[],(f=function(c){var d=null==f.$$s?this:f.$$s;null==c&&(c=m);c=[c,l["$[]"](c)];b(d,"[]=",a.to_a(c));return c[h(c.length,1)]},f.$$s=this,f.$$arity=1,f));d(k(q.$length(),this.$class().$members().$length()))&&this.$raise(t(x,"ArgumentError"),"struct size differs");return b(this.$class().$members(),
"each_with_index",[],(g=function(c,d){var e=null==g.$$s?this:g.$$s;null==c&&(c=m);null==d&&(d=m);c=[c,q["$[]"](d)];b(e,"[]=",a.to_a(c));return c[h(c.length,1)]},g.$$s=this,g.$$arity=2,g))},g.$$arity=-1);a.def(c,"$initialize_copy",n=function(a){this.$$data={};var b=Object.keys(a.$$data),c;var d=0;for(c=b.length;d<c;d++){var e=b[d];this.$$data[e]=a.$$data[e]}},n.$$arity=1);a.def(c,"$members",G=function(){return this.$class().$members()},G.$$arity=0);a.def(c,"$hash",L=function(){return t(x,"Hash").$new(this.$$data).$hash()},
L.$$arity=0);a.def(c,"$[]",C=function(a){d(t(x,"Integer")["$==="](a))?(d(f(a,this.$class().$members().$size()["$-@"]()))&&this.$raise(t(x,"IndexError"),"offset "+a+" too small for struct(size:"+this.$class().$members().$size()+")"),d(q(a,this.$class().$members().$size()))&&this.$raise(t(x,"IndexError"),"offset "+a+" too large for struct(size:"+this.$class().$members().$size()+")"),a=this.$class().$members()["$[]"](a)):d(t(x,"String")["$==="](a))?this.$$data.hasOwnProperty(a)||this.$raise(t(x,"NameError").$new("no member '"+
a+"' in struct",a)):this.$raise(t(x,"TypeError"),"no implicit conversion of "+a.$class()+" into Integer");a=t(x,"Opal")["$coerce_to!"](a,t(x,"String"),"to_str");return this.$$data[a]},C.$$arity=1);a.def(c,"$[]=",O=function(a,b){d(t(x,"Integer")["$==="](a))?(d(f(a,this.$class().$members().$size()["$-@"]()))&&this.$raise(t(x,"IndexError"),"offset "+a+" too small for struct(size:"+this.$class().$members().$size()+")"),d(q(a,this.$class().$members().$size()))&&this.$raise(t(x,"IndexError"),"offset "+
a+" too large for struct(size:"+this.$class().$members().$size()+")"),a=this.$class().$members()["$[]"](a)):d(t(x,"String")["$==="](a))?d(this.$class().$members()["$include?"](a.$to_sym()))||this.$raise(t(x,"NameError").$new("no member '"+a+"' in struct",a)):this.$raise(t(x,"TypeError"),"no implicit conversion of "+a.$class()+" into Integer");a=t(x,"Opal")["$coerce_to!"](a,t(x,"String"),"to_str");return this.$$data[a]=b},O.$$arity=2);a.def(c,"$==",E=function(a){function b(a,d){var f;c[a.$__id__()]=
!0;e[d.$__id__()]=!0;for(f in a.$$data){var g=a.$$data[f];var h=d.$$data[f];if(t(x,"Struct")["$==="](g)){if(!(c.hasOwnProperty(g.$__id__())&&e.hasOwnProperty(h.$__id__())||b(g,h)))return!1}else if(!g["$=="](h))return!1}return!0}if(!d(a["$instance_of?"](this.$class())))return!1;var c={},e={};return b(this,a)},E.$$arity=1);a.def(c,"$eql?",K=function(a){function b(a,d){var f;c[a.$__id__()]=!0;e[d.$__id__()]=!0;for(f in a.$$data){var g=a.$$data[f];var h=d.$$data[f];if(t(x,"Struct")["$==="](g)){if(!(c.hasOwnProperty(g.$__id__())&&
e.hasOwnProperty(h.$__id__())||b(g,h)))return!1}else if(!g["$eql?"](h))return!1}return!0}if(!d(a["$instance_of?"](this.$class())))return!1;var c={},e={};return b(this,a)},K.$$arity=1);a.def(c,"$each",M=function(){var c,d,e=M.$$p,f=e||m;e&&(M.$$p=null);if(f===m)return b(this,"enum_for",["each"],(c=function(){return(null==c.$$s?this:c.$$s).$size()},c.$$s=this,c.$$arity=0,c));b(this.$class().$members(),"each",[],(d=function(b){var c=null==d.$$s?this:d.$$s;null==b&&(b=m);return a.yield1(f,c["$[]"](b))},
d.$$s=this,d.$$arity=1,d));return this},M.$$arity=0);a.def(c,"$each_pair",v=function(){var c,d,e=v.$$p,f=e||m;e&&(v.$$p=null);if(f===m)return b(this,"enum_for",["each_pair"],(c=function(){return(null==c.$$s?this:c.$$s).$size()},c.$$s=this,c.$$arity=0,c));b(this.$class().$members(),"each",[],(d=function(b){var c=null==d.$$s?this:d.$$s;null==b&&(b=m);return a.yield1(f,[b,c["$[]"](b)])},d.$$s=this,d.$$arity=1,d));return this},v.$$arity=0);a.def(c,"$length",z=function(){return this.$class().$members().$length()},
z.$$arity=0);a.alias(c,"size","length");a.def(c,"$to_a",F=function(){var a;return b(this.$class().$members(),"map",[],(a=function(b){var c=null==a.$$s?this:a.$$s;null==b&&(b=m);return c["$[]"](b)},a.$$s=this,a.$$arity=1,a))},F.$$arity=0);a.def(c,"$inspect",N=function(){var a,c,e=m;e="#<struct ";d(d(a=t(x,"Struct")["$==="](this))?this.$class().$name():a)&&(e=l(e,""+this.$class()+" "));e=l(e,b(this.$each_pair(),"map",[],(c=function(a,b){null==a&&(a=m);null==b&&(b=m);return""+a+"="+b.$inspect()},c.$$s=
this,c.$$arity=2,c)).$join(", "));return e=l(e,">")},N.$$arity=0);a.alias(c,"to_s","inspect");return(a.def(c,"$dig",T=function(c,e){var f=a.slice.call(arguments,1,arguments.length);var g=d(c.$$is_string&&this.$$data.hasOwnProperty(c))?this.$$data[c]||m:m;if(g===m||0===f.length)return g;d(g["$respond_to?"]("dig"))||this.$raise(t(x,"TypeError"),""+g.$class()+" does not have #dig method");return b(g,"dig",a.to_a(f))},T.$$arity=-2),m)&&"dig"}(w[0],null,w)};
Opal.modules["corelib/main"]=function(a){var k,h,f=a.top,q=[],l=a.nil,w=a.const_get_relative;a.defs(f,"$to_s",k=function(){return"main"},k.$$arity=0);return(a.defs(f,"$include",h=function(a){return w(q,"Object").$include(a)},h.$$arity=1),l)&&"include"};Opal.modules["corelib/dir"]=function(a){};Opal.modules["corelib/file"]=function(a){};Opal.modules["corelib/process"]=function(a){};
Opal.modules["corelib/random"]=function(a){var k=[],h=a.nil,f=a.const_get_relative,q=a.klass,l=a.truthy,w=a.send;return function(k,$super,r){k=q(k,$super,"Random");var m=[k].concat(r),d,b,c,y,A,x,u,I,H;k.$attr_reader("seed","state");a.def(k,"$initialize",d=function(a){null==a&&(a=f(m,"Random").$new_seed());this.state=a=f(m,"Opal")["$coerce_to!"](a,f(m,"Integer"),"to_int");return this.$reseed(a)},d.$$arity=-1);a.def(k,"$reseed",b=function(b){this.seed=b;return this.$rng=a.$$rand.reseed(b)},b.$$arity=
1);a.defs(k,"$new_seed",c=function(){return a.$$rand.new_seed()},c.$$arity=0);a.defs(k,"$rand",y=function(a){return f(m,"DEFAULT").$rand(a)},y.$$arity=-1);a.defs(k,"$srand",A=function(a){null==a&&(a=f(m,"Random").$new_seed());a=f(m,"Opal")["$coerce_to!"](a,f(m,"Integer"),"to_int");var b=f(m,"DEFAULT").$seed();f(m,"DEFAULT").$reseed(a);return b},A.$$arity=-1);a.def(k,"$==",x=function(a){return l(f(m,"Random")["$==="](a))?this.$seed()["$=="](a.$seed())?this.$state()["$=="](a.$state()):this.$seed()["$=="](a.$seed()):
!1},x.$$arity=1);a.def(k,"$bytes",u=function(a){var b;a=f(m,"Opal")["$coerce_to!"](a,f(m,"Integer"),"to_int");return w(f(m,"Array"),"new",[a],(b=function(){return(null==b.$$s?this:b.$$s).$rand(255).$chr()},b.$$s=this,b.$$arity=0,b)).$join().$encode("ASCII-8BIT")},u.$$arity=1);a.def(k,"$rand",I=function(b){function c(){e.state++;return a.$$rand.rand(e.$rng)}function d(){var a=b.begin,c=b.end;if(a===h||c===h)return h;var d=c-a;if(0>d)return h;if(0===d)return a;0!==c%1||0!==a%1||b.excl||d++;return e.$rand(d)+
a}var e=this;if(null==b)return c();if(b.$$is_range)return d();if(b.$$is_number)return 0>=b&&e.$raise(f(m,"ArgumentError"),"invalid argument - "+b),0===b%1?Math.floor(c()*b):c()*b;b=f(m,"Opal")["$coerce_to!"](b,f(m,"Integer"),"to_int");0>=b&&e.$raise(f(m,"ArgumentError"),"invalid argument - "+b);return Math.floor(c()*b)},I.$$arity=-1);return(a.defs(k,"$generator=",H=function(b){a.$$rand=b;return l(this["$const_defined?"]("DEFAULT"))?f(m,"DEFAULT").$reseed():this.$const_set("DEFAULT",this.$new(this.$new_seed()))},
H.$$arity=1),h)&&"generator="}(k[0],null,k)};
var MersenneTwister=function(){function a(a){if(0>=--a.left){var f=0,h=a.state,l;a.left=624;a.next=0;for(l=228;--l;f++)h[f]=h[f+397]^k(h[f+0],h[f+1]);for(l=397;--l;f++)h[f]=h[f+-227]^k(h[f+0],h[f+1]);h[f]=h[f+-227]^k(h[f+0],h[0])}a=a.state[a.next++];a^=a>>>11;a^=a<<7&2636928640;a^=a<<15&4022730752;return(a^a>>>18)>>>0}var k=function(a,f){return(a&2147483648|f&2147483647)>>>1^(f&1?2567483615:0)};return{genrand_real:function(h){var f=a(h);h=a(h);return 1.1102230246251565E-16*(67108864*(f>>>5)+(h>>>
6))},init:function(a){var f={left:0,next:624,state:Array(624)};f.state[0]=a>>>0;for(a=1;624>a;a++)f.state[a]=1812433253*(f.state[a-1]^f.state[a-1]>>30>>>0)+a,f.state[a]&=4294967295;f.left=1;f.next=624;return f}}}();Opal.loaded(["corelib/random/MersenneTwister.js"]);
Opal.modules["corelib/random/mersenne_twister"]=function(a){function k(a,f){return"number"===typeof a&&"number"===typeof f?a-f:a["$-"](f)}var h=[],f=a.nil,q=a.const_get_relative,l=a.klass,w=a.send;a.top.$require("corelib/random/MersenneTwister");return function(h,$super,r){h=l(h,$super,"Random");r=[h].concat(r);var m=f,d=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1;a.const_set(r[0],"MERSENNE_TWISTER_GENERATOR",{new_seed:function(){return Math.round(Math.random()*d)},reseed:function(a){return MersenneTwister.init(a)},
rand:function(a){return MersenneTwister.genrand_real(a)}});m=[q(r,"MERSENNE_TWISTER_GENERATOR")];w(h,"generator=",a.to_a(m));return m[k(m.length,1)]}(h[0],null,h)};
Opal.modules["corelib/unsupported"]=function(a){var k=[],h=a.nil,f=a.const_get_relative,q=a.klass,l=a.module;(function(k,$super,l){k=q(k,$super,"String");var r=[k].concat(l),p,d,b;a.def(k,"$<<",p=function(b){a.slice.call(arguments,0,arguments.length);return this.$raise(f(r,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("<<"))},p.$$arity=-1);a.def(k,"$reverse!",d=function(b){a.slice.call(arguments,0,arguments.length);return this.$raise(f(r,
"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("reverse!"))},d.$$arity=-1);a.def(k,"$[]=",b=function(b){a.slice.call(arguments,0,arguments.length);return this.$raise(f(r,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("[]="))},b.$$arity=-1);return h&&"unicode_normalize!"})(k[0],null,k);(function(a,f){[l(a,"Kernel")].concat(f)})(k[0],k);(function(a,f){[l(a,"Kernel")].concat(f)})(k[0],
k);(function(a,$super,f){[q(a,$super,"Module")].concat(f)})(k[0],null,k);(function(a,f){[l(a,"Kernel")].concat(f)})(k[0],k);(function(a,f){[l(a,"Kernel")].concat(f)})(k[0],k);return h&&"private"};
Opal.modules.opal=function(a){a=a.top;a.$require("opal/base");a.$require("opal/mini");a.$require("corelib/kernel/format");a.$require("corelib/string/encoding");a.$require("corelib/math");a.$require("corelib/complex");a.$require("corelib/rational");a.$require("corelib/time");a.$require("corelib/struct");a.$require("corelib/io");a.$require("corelib/main");a.$require("corelib/dir");a.$require("corelib/file");a.$require("corelib/process");a.$require("corelib/random");a.$require("corelib/random/mersenne_twister.js");
return a.$require("corelib/unsupported")};(function(a){a=a.top;a.$require("opal");return a.$puts("Hello world!")})(Opal);
