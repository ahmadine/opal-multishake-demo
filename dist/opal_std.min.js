'use strict';var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,p,r){a!=Array.prototype&&a!=Object.prototype&&(a[p]=r.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,p,r,e){if(p){r=$jscomp.global;a=a.split(".");for(e=0;e<a.length-1;e++){var h=a[e];h in r||(r[h]={});r=r[h]}a=a[a.length-1];e=r[a];p=p(e);p!=e&&null!=p&&$jscomp.defineProperty(r,a,{configurable:!0,writable:!0,value:p})}};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},p={};try{return p.__proto__=a,p.a}catch(r){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,p){a.__proto__=p;if(a.__proto__!==p)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.polyfill("Object.setPrototypeOf",function(a){return a||$jscomp.setPrototypeOf},"es6","es5");$jscomp.arrayIteratorImpl=function(a){var p=0;return function(){return p<a.length?{done:!1,value:a[p++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};
$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.SymbolClass=function(a,p){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:p})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};
$jscomp.Symbol=function(){function a(r){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(r||"")+"_"+p++,r)}var p=0;return a}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};
$jscomp.iteratorFromArray=function(a,p){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var r=0,e={next:function(){if(r<a.length){var h=r++;return{value:p(h,a[h]),done:!1}}e.next=function(){return{done:!0,value:void 0}};return e.next()}};e[Symbol.iterator]=function(){return e};return e};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
$jscomp.owns=function(a,p){return Object.prototype.hasOwnProperty.call(a,p)};$jscomp.assign="function"==typeof Object.assign?Object.assign:function(a,p){for(var r=1;r<arguments.length;r++){var e=arguments[r];if(e)for(var h in e)$jscomp.owns(e,h)&&(a[h]=e[h])}return a};$jscomp.polyfill("Object.assign",function(a){return a||$jscomp.assign},"es6","es3");$jscomp.polyfill("Number.EPSILON",function(a){return Math.pow(2,-52)},"es6","es3");
$jscomp.polyfill("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991},"es6","es3");$jscomp.checkStringArgs=function(a,p,r){if(null==a)throw new TypeError("The 'this' value for String.prototype."+r+" must not be null or undefined");if(p instanceof RegExp)throw new TypeError("First argument to String.prototype."+r+" must not be a regular expression");return a+""};
$jscomp.polyfill("String.prototype.codePointAt",function(a){return a?a:function(a){var p=$jscomp.checkStringArgs(this,null,"codePointAt"),e=p.length;a=Number(a)||0;if(0<=a&&a<e){a|=0;var h=p.charCodeAt(a);if(55296>h||56319<h||a+1===e)return h;a=p.charCodeAt(a+1);return 56320>a||57343<a?h:1024*(h-55296)+a+9216}}},"es6","es3");$jscomp.polyfill("String.prototype.trimLeft",function(a){function p(){return this.replace(/^[\s\xa0]+/,"")}return a||p},"es_2019","es3");
(function(){function a(a,c,b){"string"===typeof a?a[c]=b:Object.defineProperty(a,c,{value:b,enumerable:!1,configurable:!0,writable:!0})}function p(a,c){if(a)return a.$$const[c]}function r(a,b){var n;if(null!=a){var A=c.ancestors(a);a=0;for(n=A.length;a<n;a++)if(A[a].$$const&&m.call(A[a].$$const,b))return A[a].$$const[b]}}function e(a,c,b){if(!b)return(a||w).$const_missing(c)}function h(a){return a.hasOwnProperty("$$iclass")&&a.hasOwnProperty("$$root")}function k(a){var n=d(a);a.$$is_module&&a.$$iclasses.push(n);
return n}function d(n){var c={},b=n.$$prototype;b.hasOwnProperty("$$dummy")&&(b=b.$$define_methods_on);var d=Object.getOwnPropertyNames(b),f=d.length,g;for(g=0;g<f;g++){var l=d[g];a(c,l,b[l])}a(c,"$$iclass",!0);a(c,"$$module",n);return c}function f(n){var c=n.length,b=n[0];a(b,"$$root",!0);if(1===c)return{first:b,last:b};for(var d=1;d<c;d++){var g=n[d];t(b,g);b=g}return{first:n[0],last:n[c-1]}}function g(a){if(!a.hasOwnProperty("$$dummy")){if(a.hasOwnProperty("$$iclass"))return a.$$module;if(a.hasOwnProperty("$$class"))return a.$$class}}
function u(a){return"function"===typeof a&&!a.$$stub}function q(){var a=c.slice.call(arguments,0,arguments.length),b=q.$$p;q.$$p=null;return c.send(w,"define_method",a,b)}var b=this;"undefined"!==typeof global&&(b=global);"undefined"!==typeof window&&(b=window);var z="object"===typeof b.console?b.console:null==b.console?b.console={}:{};"log"in z||(z.log=function(){});"warn"in z||(z.warn=z.log);if("undefined"!==typeof b.Opal)return z.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),
b.Opal;var l,w,C,c=b.Opal={};c.global=b;b.Opal=c;c.config={missing_require_severity:"error",unsupported_features_severity:"warning",enable_stack_trace:!0};var m=Object.hasOwnProperty,y=Function.prototype.bind,t=Object.setPrototypeOf,v=Array.prototype.slice,H=Array.prototype.splice,R=4;c.uid=function(){return R+=2};c.id=function(n){if(n.$$is_number)return 2*n+1;if(null!=n.$$id)return n.$$id;a(n,"$$id",c.uid());return n.$$id};c.gvars={};c.exit=function(a){c.gvars.DEBUG&&z.log("Exited with status "+
a)};c.exceptions=[];c.pop_exception=function(){c.gvars["!"]=c.exceptions.pop()||D};c.inspect=function(a){return void 0===a?"undefined":null===a?"null":a.$$class?a.$inspect():a.toString()};c.defineProperty=a;c.slice=v;c.truthy=function(a){return a!==D&&null!=a&&(!a.$$is_boolean||1==a)};c.falsy=function(a){return a===D||null==a||a.$$is_boolean&&0==a};c.const_get_local=function(a,b,d){if(null!=a){"::"===a&&(a=w);if(!a.$$is_module&&!a.$$is_class)throw new c.TypeError(a.toString()+" is not a class/module");
var n=p(a,b);if(null!=n)return n;n=e(a,b,d);if(null!=n)return n}};c.const_get_qualified=function(n,b,d){var A,g=c.const_cache_version;if(null!=n){"::"===n&&(n=w);if(!n.$$is_module&&!n.$$is_class)throw new c.TypeError(n.toString()+" is not a class/module");null==(A=n.$$const_cache)&&(a(n,"$$const_cache",Object.create(null)),A=n.$$const_cache);var f=A[b];null==f||f[0]!==g?(null!=(f=p(n,b))||null!=(f=r(n,b)),A[b]=[g,f]):f=f[1];return null!=f?f:e(n,b,d)}};c.const_cache_version=1;c.const_get_relative=
function(n,b,d){var A=n[0],f=c.const_cache_version,g;null==(g=n.$$const_cache)&&(a(n,"$$const_cache",Object.create(null)),g=n.$$const_cache);var l=g[b];if(null==l||l[0]!==f){var u;if(!(u=null!=(l=p(A,b)))){a:{if(0!==n.length)for(l=0,u=n.length;l<u;l++){var m=n[l].$$const[b];if(null!=m){n=m;break a}}n=void 0}u=null!=(l=n)}u||null!=(l=r(A,b))||(n=null==A||A.$$is_module?r(w,b):void 0,null!=(l=n));g[b]=[f,l]}else l=l[1];return null!=l?l:e(A,b,d)};c.const_set=function(n,b,d){if(null==n||"::"===n)n=w;if(d.$$is_a_module){if(null==
d.$$name||d.$$name===D)d.$$name=b;null==d.$$base_module&&(d.$$base_module=n)}n.$$const=n.$$const||Object.create(null);n.$$const[b]=d;n.$$=n.$$const;c.const_cache_version++;n===w&&(c[b]=d);a(n,b,d);return d};c.constants=function(a,b){null==b&&(b=!0);var n=[a],d,A={},f;b&&(n=n.concat(c.ancestors(a)));b&&a.$$is_module&&(n=n.concat([c.Object]).concat(c.ancestors(c.Object)));var g=0;for(d=n.length;g<d;g++){b=n[g];if(a!==w&&b==w)break;for(f in b.$$const)A[f]=!0}return Object.keys(A)};c.const_remove=function(a,
b){c.const_cache_version++;if(null!=a.$$const[b]){var n=a.$$const[b];delete a.$$const[b];return n}if(null!=a.$$autoload&&null!=a.$$autoload[b])return delete a.$$autoload[b],D;throw c.NameError.$new("constant "+a+"::"+a.$name()+" not defined");};c.$$=c.const_get_relative;c.$$$=c.const_get_qualified;c.allocate_class=function(n,b){var d=null!=b&&b.$$bridge?function(){var a=v.call(arguments);a=new (y.apply(b.$$constructor,[null].concat(a)));t(a,A.$$prototype);return a}:function(){};n&&a(d,"displayName",
"::"+n);var A=d;a(A,"$$name",n);a(A,"$$constructor",d);a(A,"$$prototype",d.prototype);a(A,"$$const",{});a(A,"$$is_class",!0);a(A,"$$is_a_module",!0);a(A,"$$super",b);a(A,"$$cvars",{});a(A,"$$own_included_modules",[]);a(A,"$$own_prepended_modules",[]);a(A,"$$ancestors",[]);a(A,"$$ancestors_cache_version",null);a(A.$$prototype,"$$class",A);c.Class&&t(A,c.Class.prototype);null!=b&&(t(A.$$prototype,b.$$prototype),b.$$meta&&c.build_class_singleton_class(A));return A};c.klass=function(a,b,d){null==a?a=
w:a.$$is_class||a.$$is_module||(a=a.$$class);if(null!=b&&!b.hasOwnProperty("$$is_class")){var n=b;b=w}var A;if(A=p(a,d)){if(!A.$$is_class)throw c.TypeError.$new(d+" is not a class");}else A=void 0;if(A){if(b&&A.$$super!==b)throw c.TypeError.$new("superclass mismatch for class "+A.$$name);return A}null==b&&(b=w);A=c.allocate_class(d,b);c.const_set(a,d,A);b.$inherited&&b.$inherited(A);n&&c.bridge(n,A);return A};c.allocate_module=function(n){var b=function(){};n&&a(b,"displayName",n+".$$constructor");
n&&a(b,"displayName",n+".constructor");a(b,"$$name",n);a(b,"$$prototype",b.prototype);a(b,"$$const",{});a(b,"$$is_module",!0);a(b,"$$is_a_module",!0);a(b,"$$cvars",{});a(b,"$$iclasses",[]);a(b,"$$own_included_modules",[]);a(b,"$$own_prepended_modules",[]);a(b,"$$ancestors",[b]);a(b,"$$ancestors_cache_version",null);t(b,c.Module.prototype);return b};c.module=function(a,b){null==a?a=w:a.$$is_class||a.$$is_module||(a=a.$$class);var n=a;var d=p(n,b);null==d&&n===w&&(d=r(w,b));if(d&&!d.$$is_module&&d!==
w)throw c.TypeError.$new(b+" is not a module");if(n=d)return n;n=c.allocate_module(b);c.const_set(a,b,n);return n};c.get_singleton_class=function(a){return a.$$meta?a.$$meta:a.hasOwnProperty("$$is_class")?c.build_class_singleton_class(a):a.hasOwnProperty("$$is_module")?c.build_module_singletin_class(a):c.build_object_singleton_class(a)};c.build_class_singleton_class=function(n){if(n.$$meta)return n.$$meta;var b=n===l?C:c.get_singleton_class(n.$$super);b=c.allocate_class(null,b,function(){});a(b,"$$is_singleton",
!0);a(b,"$$singleton_of",n);a(n,"$$meta",b);t(n,b.$$prototype);a(n,"$$class",c.Class);return b};c.build_module_singletin_class=function(n){if(n.$$meta)return n.$$meta;var b=c.allocate_class(null,c.Module,function(){});a(b,"$$is_singleton",!0);a(b,"$$singleton_of",n);a(n,"$$meta",b);t(n,b.$$prototype);a(n,"$$class",c.Module);return b};c.build_object_singleton_class=function(n){var b=c.allocate_class(D,n.$$class,function(){});a(b,"$$is_singleton",!0);a(b,"$$singleton_of",n);delete b.$$prototype.$$class;
a(n,"$$meta",b);t(n,n.$$meta.$$prototype);return b};c.is_method=function(a){return"$"===a[0]&&"$"!==a[1]};c.instance_methods=function(a){var n=[],b=[];a=c.ancestors(a);for(var d=0,f=a.length;d<f;d++){var g=a[d].$$prototype;g.hasOwnProperty("$$dummy")&&(g=g.$$define_methods_on);for(var l=Object.getOwnPropertyNames(g),e=0,u=l.length;e<u;e++){var m=l[e];if(c.is_method(m)){var h=m.slice(1);m=g[m];m.$$stub&&-1===n.indexOf(h)&&n.push(h);m.$$stub||-1!==b.indexOf(h)||-1!==n.indexOf(h)||b.push(h)}}}return b};
c.own_instance_methods=function(a){var b=[];a=a.$$prototype;a.hasOwnProperty("$$dummy")&&(a=a.$$define_methods_on);for(var n=Object.getOwnPropertyNames(a),d=0,g=n.length;d<g;d++){var f=n[d];c.is_method(f)&&!a[f].$$stub&&(f=f.slice(1),b.push(f))}return b};c.methods=function(a){return c.instance_methods(c.get_singleton_class(a))};c.own_methods=function(a){return c.own_instance_methods(c.get_singleton_class(a))};c.receiver_methods=function(a){var b=c.get_singleton_class(a);a=c.own_instance_methods(b);
b=c.own_instance_methods(b.$$super);return a.concat(b)};c.class_variables=function(a){a=c.ancestors(a);var b,n={};for(b=a.length-1;0<=b;b--){var d=a[b],f;for(f in d.$$cvars)n[f]=d.$$cvars[f]}return n};c.class_variable_set=function(a,b,d){var n=c.ancestors(a),f;for(f=n.length-2;0<=f;f--){var g=n[f];if(m.call(g.$$cvars,b))return g.$$cvars[b]=d}return a.$$cvars[b]=d};c.append_features=function(b,d){var n=c.ancestors(b),l=[];if(-1!==n.indexOf(d))throw c.ArgumentError.$new("cyclic include detected");for(var A=
0,e=n.length;A<e;A++){var u=k(n[A]);a(u,"$$included",!0);l.push(u)}n=c.ancestors(d);l=f(l);if(-1===n.indexOf(b))b=d.$$prototype,n=Object.getPrototypeOf(d.$$prototype);else{n=d.$$prototype;for(A=Object.getPrototypeOf(n);null!=A&&(!h(A)||A.$$module!==b);)n=A,A=Object.getPrototypeOf(A);for(A=Object.getPrototypeOf(A);A.hasOwnProperty("$$iclass")&&!h(A);)A=Object.getPrototypeOf(A);b=n;n=A}t(b,l.first);t(l.last,n);b=[];for(n=Object.getPrototypeOf(d.$$prototype);n&&!n.hasOwnProperty("$$class");)(l=g(n))&&
b.push(l),n=Object.getPrototypeOf(n);d.$$own_included_modules=b;c.const_cache_version++};c.prepend_features=function(b,l){var n=c.ancestors(b),A=[];if(-1!==n.indexOf(l))throw c.ArgumentError.$new("cyclic prepend detected");for(var e=0,u=n.length;e<u;e++){var m=k(n[e]);a(m,"$$prepended",!0);A.push(m)}n=f(A);e=l.$$prototype;u=Object.getPrototypeOf(e);if(e.hasOwnProperty("$$dummy"))A=e.$$define_methods_on;else{A=d(l);m=l.$$prototype;for(var h=Object.getOwnPropertyNames(m),w=0;w<h.length;w++){var q=h[w];
c.is_method(q)&&delete m[q]}a(e,"$$dummy",!0);a(e,"$$define_methods_on",A);t(e,A);t(A,u)}if(-1===c.ancestors(l).indexOf(b))for(b=e,e=Object.getPrototypeOf(e);null!=e&&!e.hasOwnProperty("$$root")&&e!==A&&e.hasOwnProperty("$$iclass");)e=Object.getPrototypeOf(e);else throw c.RuntimeError.$new("Prepending a module multiple times is not supported");t(b,n.first);t(n.last,e);b=[];A=Object.getPrototypeOf(l.$$prototype);if(l.$$prototype.hasOwnProperty("$$dummy"))for(;A&&A!==l.$$prototype.$$define_methods_on;)(n=
g(A))&&b.push(n),A=Object.getPrototypeOf(A);l.$$own_prepended_modules=b;c.const_cache_version++};c.bridge=function(b,d){if(b.hasOwnProperty("$$bridge"))throw c.ArgumentError.$new("already bridged");a(b,"$$bridge",d);t(b.prototype,(d.$$super||c.Object).$$prototype);a(d,"$$prototype",b.prototype);a(d.$$prototype,"$$class",d);a(d,"$$constructor",b);a(d,"$$bridge",!0)};c.ancestors=function(a){if(!a)return[];if(a.$$ancestors_cache_version===c.const_cache_version)return a.$$ancestors;var b=[],n;var d=0;
var f=a.$$own_prepended_modules.concat([a]).concat(a.$$own_included_modules);for(n=f.length;d<n;d++)b.push(f[d]);if(a.$$super)for(d=0,f=c.ancestors(a.$$super),n=f.length;d<n;d++)b.push(f[d]);a.$$ancestors_cache_version=c.const_cache_version;return a.$$ancestors=b};c.included_modules=function(a){for(var b=[],c=Object.getPrototypeOf(a.$$prototype);c&&Object.getPrototypeOf(c);c=Object.getPrototypeOf(c))(a=g(c))&&a.$$is_module&&c.$$iclass&&c.$$included&&b.push(a);return b};c.add_stubs=function(a){for(var b=
c.BasicObject.$$prototype,n=0,d=a.length;n<d;n++){var f=a[n],l=b[f];(null==l||l.$$stub)&&c.add_stub_for(b,f)}};c.add_stub_for=function(b,d){var n=c.stub_for(d);a(b,d,n)};c.stub_for=function(a){function b(){this.$method_missing.$$p=b.$$p;b.$$p=null;for(var c=Array(arguments.length),n=0,d=c.length;n<d;n++)c[n]=arguments[n];return this.$method_missing.apply(this,[a.slice(1)].concat(c))}b.$$stub=!0;return b};c.ac=function(a,b,d,f){var n="";n=d.$$is_a_module?n+(d.$$name+"."):n+(d.$$class.$$name+"#");throw c.ArgumentError.$new("["+
(n+f)+"] wrong number of arguments("+a+" for "+b+")");};c.block_ac=function(a,b,d){throw c.ArgumentError.$new("`block in "+d+"': wrong number of arguments ("+a+" for "+b+")");};c.find_super_dispatcher=function(a,b,d,f,l){l="$"+b;var n;var g=a.hasOwnProperty("$$meta")?c.ancestors(a.$$meta):c.ancestors(a.$$class);for(d=g.indexOf(d.$$owner)+1;d<g.length;d++){var e=g[d].$$prototype;e.hasOwnProperty("$$dummy")&&(e=e.$$define_methods_on);if(e.hasOwnProperty(l)){l=e[l];l.$$stub||(n=l);break}}if(!f&&null==
n&&c.Kernel.$method_missing===a.$method_missing)throw c.NoMethodError.$new("super: no superclass method `"+b+"' for "+a,b);return n};c.find_iter_super_dispatcher=function(a,b,d,f,l){if(!d)throw c.RuntimeError.$new("super called outside of method");if(l&&d.$$define_meth)throw c.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");d.$$def&&(b=d.$$jsid);return c.find_super_dispatcher(a,b,d,f)};c.ret=function(a){c.returner.$v=
a;throw c.returner;};c.brk=function(a,b){b.$v=a;throw b;};c.new_brk=function(){return Error("unexpected break")};c.yield1=function(a,b){if("function"!==typeof a)throw c.LocalJumpError.$new("no block given");var n=a.$$has_top_level_mlhs_arg,d=a.$$has_trailing_comma_in_args;if(1<a.length||(n||d)&&1===a.length)b=c.to_ary(b);return(1<a.length||d&&1===a.length)&&b.$$is_array?a.apply(null,b):a(b)};c.yieldX=function(a,b){if("function"!==typeof a)throw c.LocalJumpError.$new("no block given");if(1<a.length&&
1===b.length&&b[0].$$is_array)return a.apply(null,b[0]);if(!b.$$is_array){for(var n=Array(b.length),d=0,f=n.length;d<f;d++)n[d]=b[d];return a.apply(null,n)}return a.apply(null,b)};c.rescue=function(a,b){for(var n=0;n<b.length;n++){var d=b[n];if(d.$$is_array){if(d=c.rescue(a,d))return d}else if(d===c.JS.Error||d["$==="](a))return d}return null};c.is_a=function(a,b){if(null!=b&&a.$$meta===b||a.$$class===b||a.$$is_number&&b.$$is_number_class)return!0;var n,d=c.ancestors(a.$$is_class?c.get_singleton_class(a):
a.$$meta||a.$$class);a=0;for(n=d.length;a<n;a++)if(d[a]===b)return!0;return!1};c.to_hash=function(a){if(a.$$is_hash)return a;if(a["$respond_to?"]("to_hash",!0)){var b=a.$to_hash();if(b.$$is_hash)return b;throw c.TypeError.$new("Can't convert "+a.$$class+" to Hash ("+a.$$class+"#to_hash gives "+b.$$class+")");}throw c.TypeError.$new("no implicit conversion of "+a.$$class+" into Hash");};c.to_ary=function(a){if(a.$$is_array)return a;if(a["$respond_to?"]("to_ary",!0)){var b=a.$to_ary();if(b===D)return[a];
if(b.$$is_array)return b;throw c.TypeError.$new("Can't convert "+a.$$class+" to Array ("+a.$$class+"#to_ary gives "+b.$$class+")");}return[a]};c.to_a=function(a){if(a.$$is_array)return a.slice();if(a["$respond_to?"]("to_a",!0)){var b=a.$to_a();if(b===D)return[a];if(b.$$is_array)return b;throw c.TypeError.$new("Can't convert "+a.$$class+" to Array ("+a.$$class+"#to_a gives "+b.$$class+")");}return[a]};c.extract_kwargs=function(a){var b=a[a.length-1];return null!=b&&b["$respond_to?"]("to_hash",!0)?
(H.call(a,a.length-1,1),b.$to_hash()):c.hash2([],{})};c.kwrestargs=function(a,b){var n=[],d={},f;a=a.$$smap;for(f in a)b[f]||(n.push(f),d[f]=a[f]);return c.hash2(n,d)};c.send=function(a,b,c,d){var n="string"===typeof b?a["$"+b]:b;return null!=n?("function"===typeof d&&(n.$$p=d),n.apply(a,c)):a.$method_missing.apply(a,[b].concat(c))};c.lambda=function(a){a.$$is_lambda=!0;return a};c.def=function(a,b,d){a===c.top?c.defn(c.Object,b,d):!a.$$eval&&a.$$is_a_module?c.defn(a,b,d):c.defs(a,b,d)};c.defn=function(b,
d,f){f.displayName=d;f.$$owner=b;var n=b.$$prototype;n.hasOwnProperty("$$dummy")&&(n=n.$$define_methods_on);a(n,d,f);if(b.$$is_module){b.$$module_function&&c.defs(b,d,f);n=0;for(var l=b.$$iclasses,g=l.length;n<g;n++)a(l[n],d,f)}f=b.$$singleton_of;!b.$method_added||b.$method_added.$$stub||f?f&&f.$singleton_method_added&&!f.$singleton_method_added.$$stub&&f.$singleton_method_added(d.substr(1)):b.$method_added(d.substr(1))};c.defs=function(a,b,d){if(a.$$is_string||a.$$is_number)throw c.TypeError.$new("can't define singleton");
c.defn(c.get_singleton_class(a),b,d)};c.rdef=function(a,b){if(!m.call(a.$$prototype,b))throw c.NameError.$new("method '"+b.substr(1)+"' not defined in "+a.$name());delete a.$$prototype[b];a.$$is_singleton?a.$$prototype.$singleton_method_removed&&!a.$$prototype.$singleton_method_removed.$$stub&&a.$$prototype.$singleton_method_removed(b.substr(1)):a.$method_removed&&!a.$method_removed.$$stub&&a.$method_removed(b.substr(1))};c.udef=function(a,b){if(!a.$$prototype[b]||a.$$prototype[b].$$stub)throw c.NameError.$new("method '"+
b.substr(1)+"' not defined in "+a.$name());c.add_stub_for(a.$$prototype,b);a.$$is_singleton?a.$$prototype.$singleton_method_undefined&&!a.$$prototype.$singleton_method_undefined.$$stub&&a.$$prototype.$singleton_method_undefined(b.substr(1)):a.$method_undefined&&!a.$method_undefined.$$stub&&a.$method_undefined(b.substr(1))};c.alias=function(a,b,d){var n="$"+b,f="$"+d,l=a.$$prototype["$"+d];if(a.$$eval)return c.alias(c.get_singleton_class(a),b,d);if(!u(l)){for(var g=a.$$super;"function"!==typeof l&&
g;)l=g[f],g=g.$$super;!u(l)&&a.$$is_module&&(l=c.Object.$$prototype[f]);if(!u(l))throw c.NameError.$new("undefined method `"+d+"' for class `"+a.$name()+"'");}l.$$alias_of&&(l=l.$$alias_of);var e=function(){var a=e.$$p,b;var d=Array(arguments.length);var n=0;for(b=arguments.length;n<b;n++)d[n]=arguments[n];null!=a&&(e.$$p=null);return c.send(this,l,d,a)};Object.defineProperty(e,"length",{value:l.length});e.displayName=b;e.$$arity=l.$$arity;e.$$parameters=l.$$parameters;e.$$source_location=l.$$source_location;
e.$$alias_of=l;e.$$alias_name=b;c.defn(a,n,e);return a};c.alias_native=function(a,b,d){b="$"+b;var n=a.$$prototype[d];if("function"!==typeof n||n.$$stub)throw c.NameError.$new("undefined native method `"+d+"' for class `"+a.$name()+"'");c.defn(a,b,n);return a};c.hash_init=function(a){a.$$smap=Object.create(null);a.$$map=Object.create(null);a.$$keys=[]};c.hash_clone=function(a,b){b.$$none=a.$$none;b.$$proc=a.$$proc;var d=0,n=a.$$keys;a=a.$$smap;for(var f=n.length,l,g;d<f;d++)l=n[d],l.$$is_string?g=
a[l]:(g=l.value,l=l.key),c.hash_put(b,l,g)};c.hash_put=function(a,b,d){if(b.$$is_string)m.call(a.$$smap,b)||a.$$keys.push(b),a.$$smap[b]=d;else{var n;var f=a.$$by_identity?c.id(b):b.$hash();if(m.call(a.$$map,f)){for(n=a.$$map[f];n;){if(b===n.key||b["$eql?"](n.key)){var l=void 0;n.value=d;break}l=n;n=n.next}l&&(n={key:b,key_hash:f,value:d},a.$$keys.push(n),l.next=n)}else n={key:b,key_hash:f,value:d},a.$$keys.push(n),a.$$map[f]=n}};c.hash_get=function(a,b){if(b.$$is_string){if(m.call(a.$$smap,b))return a.$$smap[b]}else{var d=
a.$$by_identity?c.id(b):b.$hash();if(m.call(a.$$map,d))for(a=a.$$map[d];a;){if(b===a.key||b["$eql?"](a.key))return a.value;a=a.next}}};c.hash_delete=function(a,b){var c,d=a.$$keys,n=d.length;if(b.$$is_string){if(!m.call(a.$$smap,b))return;for(c=0;c<n;c++)if(d[c]===b){d.splice(c,1);break}var f=a.$$smap[b];delete a.$$smap[b];return f}var l=b.$hash();if(m.call(a.$$map,l))for(var g=a.$$map[l],e;g;){if(b===g.key||b["$eql?"](g.key)){f=g.value;for(c=0;c<n;c++)if(d[c]===g){d.splice(c,1);break}e&&g.next?e.next=
g.next:e?delete e.next:g.next?a.$$map[l]=g.next:delete a.$$map[l];return f}e=g;g=g.next}};c.hash_rehash=function(a){for(var b=0,c=a.$$keys.length,d,n,f;b<c;b++)if(!a.$$keys[b].$$is_string&&(d=a.$$keys[b].key.$hash(),d!==a.$$keys[b].key_hash)){n=a.$$map[a.$$keys[b].key_hash];for(f=void 0;n;){if(n===a.$$keys[b]){f&&n.next?f.next=n.next:f?delete f.next:n.next?a.$$map[a.$$keys[b].key_hash]=n.next:delete a.$$map[a.$$keys[b].key_hash];break}f=n;n=n.next}a.$$keys[b].key_hash=d;if(m.call(a.$$map,d)){n=a.$$map[d];
for(f=void 0;n;){if(n===a.$$keys[b]){f=void 0;break}f=n;n=n.next}f&&(f.next=a.$$keys[b])}else a.$$map[d]=a.$$keys[b]}};c.hash=function(){var a=arguments.length,b;if(1===a&&arguments[0].$$is_hash)return arguments[0];var d=new c.Hash;c.hash_init(d);if(1===a&&arguments[0].$$is_array){a=arguments[0];var f=a.length;for(b=0;b<f;b++){if(2!==a[b].length)throw c.ArgumentError.$new("value not of length 2: "+a[b].$inspect());var l=a[b][0];var g=a[b][1];c.hash_put(d,l,g)}return d}if(1===a){a=arguments[0];for(l in a)m.call(a,
l)&&(g=a[l],c.hash_put(d,l,g));return d}if(0!==a%2)throw c.ArgumentError.$new("odd number of arguments for Hash");for(b=0;b<a;b+=2)l=arguments[b],g=arguments[b+1],c.hash_put(d,l,g);return d};c.hash2=function(a,b){var d=new c.Hash;d.$$smap=b;d.$$map=Object.create(null);d.$$keys=a;return d};c.range=function(a,b,d){var n=new c.Range;n.begin=a;n.end=b;n.excl=d;return n};c.ivar=function(a){return"constructor"===a||"displayName"===a||"__count__"===a||"__noSuchMethod__"===a||"__parent__"===a||"__proto__"===
a||"hasOwnProperty"===a||"valueOf"===a?a+"$":a};c.escape_regexp=function(a){return a.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")};c.global_regexp=function(a){if(a.global)return a;null==a.$$g?a.$$g=new RegExp(a.source,(a.multiline?"gm":"g")+(a.ignoreCase?"i":"")):a.$$g.lastIndex=null;return a.$$g};c.global_multiline_regexp=function(a){if(a.multiline){if(a.global)return a;a=null!=a.$$g?a.$$g:a.$$g=new RegExp(a.source,
"gm"+(a.ignoreCase?"i":""))}else a=null!=a.$$gm?a.$$gm:a.$$gm=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));a.lastIndex=null;return a};c.modules={};c.loaded_features=["corelib/runtime"];c.current_dir=".";c.require_table={"corelib/runtime":!0};c.normalize=function(a){var b=[];"."!==c.current_dir&&(a=c.current_dir.replace(/\/*$/,"/")+a);a=a.replace(/^\.\//,"");a=a.replace(/\.(rb|opal|js)$/,"");a=a.split("/");for(var d=0,f=a.length;d<f;d++){var n=a[d];""!==n&&(".."===n?b.pop():b.push(n))}return b.join("/")};
c.loaded=function(a){var b;var d=0;for(b=a.length;d<b;d++){var f=c.normalize(a[d]);c.require_table[f]||(c.loaded_features.push(f),c.require_table[f]=!0)}};c.load=function(a){a=c.normalize(a);c.loaded([a]);var b=c.modules[a];if(b)b(c);else{b=c.config.missing_require_severity;a="cannot load such file -- "+a;if("error"===b){if(c.LoadError)throw c.LoadError.$new(a);throw a;}"warning"===b&&z.warn("WARNING: LoadError: "+a)}return!0};c.require=function(a){a=c.normalize(a);return c.require_table[a]?!1:c.load(a)};
c.encodings=Object.create(null);c.set_encoding=function(a,b){if("string"===typeof a)throw c.FrozenError.$new("can't modify frozen String");b=c.encodings[b];if(b===a.encoding)return a;a.encoding=b;return a};c.enc=function(a,b){return c.set_encoding(new String(a),b)};c.BasicObject=l=c.allocate_class("BasicObject",null,function(){});c.Object=w=c.allocate_class("Object",c.BasicObject,function(){});c.Module=b=c.allocate_class("Module",c.Object,function(){});c.Class=C=c.allocate_class("Class",c.Module,
function(){});t(c.BasicObject,c.Class.$$prototype);t(c.Object,c.Class.$$prototype);t(c.Module,c.Class.$$prototype);t(c.Class,c.Class.$$prototype);l.$$const.BasicObject=l;c.const_set(w,"BasicObject",l);c.const_set(w,"Object",w);c.const_set(w,"Module",b);c.const_set(w,"Class",C);l.$$class=C;w.$$class=C;b.$$class=C;C.$$class=C;a(w.$$prototype,"toString",function(){var a=this.$to_s();return a.$$is_string&&"object"===typeof a?a.valueOf():a});a(w.$$prototype,"$require",c.require);c.top=new w;c.top.$to_s=
c.top.$inspect=function(){return"main"};c.top.$define_method=q;c.NilClass=c.allocate_class("NilClass",c.Object,function(){});c.const_set(w,"NilClass",c.NilClass);var D=c.nil=new c.NilClass;D.$$id=4;D.call=D.apply=function(){throw c.LocalJumpError.$new("no block given");};c.breaker=Error("unexpected break (old)");c.returner=Error("unexpected return");TypeError.$$super=Error}).call();Opal.loaded(["corelib/runtime.js"]);
Opal.modules["corelib/helpers"]=function(a){var p=[],r=a.nil,e=a.$$,h=a.module,k=a.truthy,d=a.send;a.add_stubs("$new $class $=== $respond_to? $raise $type_error $__send__ $coerce_to $nil? $<=> $coerce_to! $!= $[] $upcase".split(" "));return function(f,g){f=h(f,"Opal");var u=[f].concat(g),q,b,p,l,w,C,c,m,y,t,v,H,R,D;a.defs(f,"$bridge",q=function(b,c){return a.bridge(b,c)},q.$$arity=2);a.defs(f,"$type_error",b=function(a,b,c,d){var f;null==c&&(c=r);null==d&&(d=r);return k(k(f=c)?d:f)?e(u,"TypeError").$new("can't convert "+
a.$class()+" into "+b+" ("+a.$class()+"#"+c+" gives "+d.$class()+")"):e(u,"TypeError").$new("no implicit conversion of "+a.$class()+" into "+b)},b.$$arity=-3);a.defs(f,"$coerce_to",p=function(b,c,f,l){var g=a.slice.call(arguments,3,arguments.length);if(k(c["$==="](b)))return b;k(b["$respond_to?"](f))||this.$raise(this.$type_error(b,c));return d(b,"__send__",[f].concat(a.to_a(g)))},p.$$arity=-4);a.defs(f,"$coerce_to!",l=function(b,c,f,l){var g=a.slice.call(arguments,3,arguments.length);g=d(this,"coerce_to",
[b,c,f].concat(a.to_a(g)));k(c["$==="](g))||this.$raise(this.$type_error(b,c,f,g));return g},l.$$arity=-4);a.defs(f,"$coerce_to?",w=function(b,c,f,l){var g=a.slice.call(arguments,3,arguments.length);if(!k(b["$respond_to?"](f)))return r;g=d(this,"coerce_to",[b,c,f].concat(a.to_a(g)));if(k(g["$nil?"]()))return r;k(c["$==="](g))||this.$raise(this.$type_error(b,c,f,g));return g},w.$$arity=-4);a.defs(f,"$try_convert",C=function(a,b,c){return k(b["$==="](a))?a:k(a["$respond_to?"](c))?a.$__send__(c):r},
C.$$arity=3);a.defs(f,"$compare",c=function(a,b){var c=a["$<=>"](b);k(c===r)&&this.$raise(e(u,"ArgumentError"),"comparison of "+a.$class()+" with "+b.$class()+" failed");return c},c.$$arity=2);a.defs(f,"$destructure",m=function(a){if(1==a.length)return a[0];if(a.$$is_array)return a;for(var b=Array(a.length),c=0,d=b.length;c<d;c++)b[c]=a[c];return b},m.$$arity=1);a.defs(f,"$respond_to?",y=function(a,b,c){null==c&&(c=!1);return null!=a&&a.$$class?a["$respond_to?"](b,c):!1},y.$$arity=-3);a.defs(f,"$inspect_obj",
t=function(b){return a.inspect(b)},t.$$arity=1);a.defs(f,"$instance_variable_name!",v=function(a){a=e(u,"Opal")["$coerce_to!"](a,e(u,"String"),"to_str");k(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(a))||this.$raise(e(u,"NameError").$new("'"+a+"' is not allowed as an instance variable name",a));return a},v.$$arity=1);a.defs(f,"$class_variable_name!",H=function(a){a=e(u,"Opal")["$coerce_to!"](a,e(u,"String"),"to_str");k(3>a.length||"@@"!==a.slice(0,2))&&this.$raise(e(u,"NameError").$new("`"+a+"' is not allowed as a class variable name",
a));return a},H.$$arity=1);a.defs(f,"$const_name!",R=function(a){a=e(u,"Opal")["$coerce_to!"](a,e(u,"String"),"to_str");k(a["$[]"](0)["$!="](a["$[]"](0).$upcase()))&&this.$raise(e(u,"NameError"),"wrong constant name "+a);return a},R.$$arity=1);a.defs(f,"$pristine",D=function(b,c){var d=a.slice.call(arguments,1,arguments.length);for(var f,l=d.length-1;0<=l;l--)f=d[l],(f=b.$$prototype["$"+f])&&!f.$$stub&&(f.$$pristine=!0);return r},D.$$arity=-2)}(p[0],p)};
Opal.modules["corelib/module"]=function(a){function p(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var r=[],e=a.nil,h=a.$$$,k=a.$$,d=a.klass,f=a.send,g=a.truthy,u=a.hash2,q=a.lambda,b=a.range;a.add_stubs("$module_eval $to_proc $=== $raise $equal? $< $> $nil? $coerce_to $attr_reader $attr_writer $warn $attr_accessor $class_variable_name! $new $const_name! $=~ $inject $split $const_get $== $!~ $start_with? $bind $call $class $append_features $included $name $cover? $size $merge $compile $proc $any? $prepend_features $prepended $to_s $__id__ $constants $include? $copy_class_variables $copy_constants".split(" "));
return function(z,$super,w){z=d(z,$super,"Module");var r=[z].concat(w),c,m,y,t,v,H,R,D,n,A,J,E,L,I,x,B,G,M,O,F,P,Q,K,N,S,T,ia,U,ba,Y,V,ca,ma,ja,la,ka,Z,da,oa,na,ea,fa,ra,sa,aa,W,xa,va,pa,za,Aa,ta,Da,Ea,Ba,ua,ha,qa,X;a.defs(z,"$allocate",c=function(){var b=a.allocate_module(e,function(){});this!==a.Module&&Object.setPrototypeOf(b,this.$$prototype);return b},c.$$arity=0);a.def(z,"$initialize",m=function(){var a=m.$$p,b=a||e;a&&(m.$$p=null);a&&(m.$$p=null);return b!==e?f(this,"module_eval",[],b.$to_proc()):
e},m.$$arity=0);a.def(z,"$===",y=function(b){return g(null==b)?!1:a.is_a(b,this)},y.$$arity=1);a.def(z,"$<",t=function(b){g(k(r,"Module")["$==="](b))||this.$raise(k(r,"TypeError"),"compared with non class/module");var c;if(this===b)return!1;var d=0;var f=a.ancestors(this);for(c=f.length;d<c;d++)if(f[d]===b)return!0;d=0;f=a.ancestors(b);for(c=f.length;d<c;d++)if(f[d]===this)return!1;return e},t.$$arity=1);a.def(z,"$<=",v=function(a){var b;return g(b=this["$equal?"](a))?b:p(this,a)},v.$$arity=1);a.def(z,
"$>",H=function(a){g(k(r,"Module")["$==="](a))||this.$raise(k(r,"TypeError"),"compared with non class/module");return p(a,this)},H.$$arity=1);a.def(z,"$>=",R=function(a){var b;return g(b=this["$equal?"](a))?b:"number"===typeof this&&"number"===typeof a?this>a:this["$>"](a)},R.$$arity=1);a.def(z,"$<=>",D=function(a){if(this===a)return 0;if(!g(k(r,"Module")["$==="](a)))return e;a=p(this,a);return g(a["$nil?"]())?e:g(a)?-1:1},D.$$arity=1);a.def(z,"$alias_method",n=function(b,c){b=k(r,"Opal").$coerce_to(b,
k(r,"String"),"to_str");c=k(r,"Opal").$coerce_to(c,k(r,"String"),"to_str");a.alias(this,b,c);return this},n.$$arity=2);a.def(z,"$alias_native",A=function(b,c){null==c&&(c=b);a.alias_native(this,b,c);return this},A.$$arity=-2);a.def(z,"$ancestors",J=function(){return a.ancestors(this)},J.$$arity=0);a.def(z,"$append_features",E=function(b){a.append_features(this,b);return this},E.$$arity=1);a.def(z,"$attr_accessor",L=function(b){var c=a.slice.call(arguments,0,arguments.length);f(this,"attr_reader",
a.to_a(c));return f(this,"attr_writer",a.to_a(c))},L.$$arity=-1);a.def(z,"$attr",I=function(b){var c=a.slice.call(arguments,0,arguments.length);return 2!=c.length||!0!==c[1]&&!1!==c[1]?f(this,"attr_reader",a.to_a(c)):(this.$warn("optional boolean argument is obsoleted",u(["uplevel"],{uplevel:1})),c[1]?this.$attr_accessor(c[0]):this.$attr_reader(c[0]),e)},I.$$arity=-1);a.def(z,"$attr_reader",x=function(b){var c=a.slice.call(arguments,0,arguments.length);for(var d=this.$$prototype,f=c.length-1;0<=f;f--){var g=
c[f],n="$"+g;g=a.ivar(g);var u=function(a){return function(){return null==this[a]?e:this[a]}}(g);a.defineProperty(d,g,e);u.$$parameters=[];u.$$arity=0;a.defn(this,n,u)}return e},x.$$arity=-1);a.def(z,"$attr_writer",B=function(b){var c=a.slice.call(arguments,0,arguments.length);for(var d=this.$$prototype,f=c.length-1;0<=f;f--){var g=c[f],n="$"+g+"=";g=a.ivar(g);var u=function(a){return function(b){return this[a]=b}}(g);u.$$parameters=[["req"]];u.$$arity=1;a.defineProperty(d,g,e);a.defn(this,n,u)}return e},
B.$$arity=-1);a.def(z,"$autoload",G=function(b,c){null==this.$$autoload&&(this.$$autoload={});a.const_cache_version++;this.$$autoload[b]=c;return e},G.$$arity=2);a.def(z,"$class_variables",M=function(){return Object.keys(a.class_variables(this))},M.$$arity=0);a.def(z,"$class_variable_get",O=function(b){b=k(r,"Opal")["$class_variable_name!"](b);var c=a.class_variables(this)[b];null==c&&this.$raise(k(r,"NameError").$new("uninitialized class variable "+b+" in "+this,b));return c},O.$$arity=1);a.def(z,
"$class_variable_set",F=function(b,c){b=k(r,"Opal")["$class_variable_name!"](b);return a.class_variable_set(this,b,c)},F.$$arity=2);a.def(z,"$class_variable_defined?",P=function(b){b=k(r,"Opal")["$class_variable_name!"](b);return a.class_variables(this).hasOwnProperty(b)},P.$$arity=1);a.def(z,"$remove_class_variable",Q=function(b){b=k(r,"Opal")["$class_variable_name!"](b);if(a.hasOwnProperty.call(this.$$cvars,b)){var c=this.$$cvars[b];delete this.$$cvars[b];return c}this.$raise(k(r,"NameError"),"cannot remove "+
b+" for "+this)},Q.$$arity=1);a.def(z,"$constants",K=function(b){null==b&&(b=!0);return a.constants(this,b)},K.$$arity=-1);a.defs(z,"$constants",N=function(b){if(null==b){b=(this.$$nesting||[]).concat(a.Object);var c,d={},f;var g=0;for(f=b.length;g<f;g++)for(c in b[g].$$const)d[c]=!0;return Object.keys(d)}return a.constants(this,b)},N.$$arity=-1);a.defs(z,"$nesting",S=function(){return this.$$nesting||[]},S.$$arity=0);a.def(z,"$const_defined?",T=function(b,c){null==c&&(c=!0);b=k(r,"Opal")["$const_name!"](b);
g(b["$=~"](h(k(r,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(k(r,"NameError").$new("wrong constant name "+b,b));var d=[this],f;c&&(d=d.concat(a.ancestors(this)),this.$$is_module&&(d=d.concat([a.Object]).concat(a.ancestors(a.Object))));var e=0;for(f=d.length;e<f;e++)if(c=d[e],null!=c.$$const[b])return!0;return!1},T.$$arity=-2);a.def(z,"$const_get",ia=function(b,c){var d;null==c&&(c=!0);b=k(r,"Opal")["$const_name!"](b);0===b.indexOf("::")&&"::"!==b&&(b=b.slice(2));if(g(-1!=b.indexOf("::")&&"::"!=b))return f(b.$split("::"),
"inject",[this],(d=function(a,b){null==a&&(a=e);null==b&&(b=e);return a.$const_get(b)},d.$$s=this,d.$$arity=2,d));g(b["$=~"](h(k(r,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(k(r,"NameError").$new("wrong constant name "+b,b));return c?k([this],b):a.const_get_local(this,b)},ia.$$arity=-2);a.def(z,"$const_missing",U=function(a){var b;if(this.$$autoload&&(b=this.$$autoload[a]))return this.$require(b),this.$const_get(a);b=this["$=="](k(r,"Object"))?a:""+this+"::"+a;return this.$raise(k(r,"NameError").$new("uninitialized constant "+
b,a))},U.$$arity=1);a.def(z,"$const_set",ba=function(b,c){var d;b=k(r,"Opal")["$const_name!"](b);g(g(d=b["$!~"](h(k(r,"Opal"),"CONST_NAME_REGEXP")))?d:b["$start_with?"]("::"))&&this.$raise(k(r,"NameError").$new("wrong constant name "+b,b));a.const_set(this,b,c);return c},ba.$$arity=2);a.def(z,"$public_constant",Y=function(a){return e},Y.$$arity=1);a.def(z,"$define_method",V=function(b,c){var d=V.$$p,n=d||e,u,m,h=this,w=e;d&&(V.$$p=null);d&&(V.$$p=null);g(void 0===c&&n===e)&&h.$raise(k(r,"ArgumentError"),
"tried to create a Proc object without a block");n=g(u=n)?u:function(){w=c;return k(r,"Proc")["$==="](w)?c:k(r,"Method")["$==="](w)?c.$to_proc().$$unbound:k(r,"UnboundMethod")["$==="](w)?q((m=function(b){var d=null==m.$$s?this:m.$$s;var g=a.slice.call(arguments,0,arguments.length);d=c.$bind(d);return f(d,"call",a.to_a(g))},m.$$s=h,m.$$arity=-1,m)):h.$raise(k(r,"TypeError"),"wrong argument type "+n.$class()+" (expected Proc/Method)")}();n.$$jsid=b;n.$$s=null;n.$$def=n;n.$$define_meth=!0;a.defn(h,"$"+
b,n);return b},V.$$arity=-2);a.def(z,"$remove_method",ca=function(b){var c=a.slice.call(arguments,0,arguments.length);for(var d=0,f=c.length;d<f;d++)a.rdef(this,"$"+c[d]);return this},ca.$$arity=-1);a.def(z,"$singleton_class?",ma=function(){return!!this.$$is_singleton},ma.$$arity=0);a.def(z,"$include",ja=function(b){var c=a.slice.call(arguments,0,arguments.length);for(var d=c.length-1;0<=d;d--){var f=c[d];f.$$is_module||this.$raise(k(r,"TypeError"),"wrong argument type "+f.$class()+" (expected Module)");
f.$append_features(this);f.$included(this)}return this},ja.$$arity=-1);a.def(z,"$included_modules",la=function(){return a.included_modules(this)},la.$$arity=0);a.def(z,"$include?",ka=function(b){b.$$is_module||this.$raise(k(r,"TypeError"),"wrong argument type "+b.$class()+" (expected Module)");var c,d=a.ancestors(this);var f=0;for(c=d.length;f<c;f++){var g=d[f];if(g===b&&g!==this)return!0}return!1},ka.$$arity=1);a.def(z,"$instance_method",Z=function(a){var b=this.$$prototype["$"+a];b&&!b.$$stub||
this.$raise(k(r,"NameError").$new("undefined method `"+a+"' for class `"+this.$name()+"'",a));return k(r,"UnboundMethod").$new(this,b.$$owner||this,b,a)},Z.$$arity=1);a.def(z,"$instance_methods",da=function(b){null==b&&(b=!0);return g(b)?a.instance_methods(this):a.own_instance_methods(this)},da.$$arity=-1);a.def(z,"$included",oa=function(a){return e},oa.$$arity=1);a.def(z,"$extended",na=function(a){return e},na.$$arity=1);a.def(z,"$extend_object",ea=function(a){return e},ea.$$arity=1);a.def(z,"$method_added",
fa=function(b){a.slice.call(arguments,0,arguments.length);return e},fa.$$arity=-1);a.def(z,"$method_removed",ra=function(b){a.slice.call(arguments,0,arguments.length);return e},ra.$$arity=-1);a.def(z,"$method_undefined",sa=function(b){a.slice.call(arguments,0,arguments.length);return e},sa.$$arity=-1);a.def(z,"$module_eval",aa=function(c){var d=aa.$$p,n=d||e,m,h,w=e,t=e,q=t=t=e;d&&(aa.$$p=null);d&&(aa.$$p=null);d=a.slice.call(arguments,0,arguments.length);g(g(m=n["$nil?"]())?!!a.compile:m)?(g(b(1,
3,!1)["$cover?"](d.$size()))||k(r,"Kernel").$raise(k(r,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),m=[].concat(a.to_a(d)),w=null==m[0]?e:m[0],t=null==m[1]?e:m[1],m,t=u(["file","eval"],{file:g(m=t)?m:"(eval)",eval:!0}),t=a.hash({arity_check:!1}).$merge(t),q=k(r,"Opal").$compile(w,t),n=f(k(r,"Kernel"),"proc",[],(h=function(){return function(a){return eval(q)}(null==h.$$s?this:h.$$s)},h.$$s=this,h.$$arity=0,h))):g(d["$any?"]())&&k(r,"Kernel").$raise(k(r,"ArgumentError"),"wrong number of arguments ("+
d.$size()+" for 0)\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n");m=n.$$s;n.$$s=null;d=n.apply(this,[this]);n.$$s=m;return d},aa.$$arity=-1);a.alias(z,"class_eval","module_eval");a.def(z,"$module_exec",W=function(b){var c=W.$$p,d=c||e;c&&(W.$$p=null);c&&(W.$$p=null);var f=a.slice.call(arguments,0,arguments.length);d===e&&this.$raise(k(r,"LocalJumpError"),"no block given");c=d.$$s;d.$$s=null;f=d.apply(this,f);d.$$s=c;return f},W.$$arity=
-1);a.alias(z,"class_exec","module_exec");a.def(z,"$method_defined?",xa=function(a){a=this.$$prototype["$"+a];return!!a&&!a.$$stub},xa.$$arity=1);a.def(z,"$module_function",va=function(b){var c=a.slice.call(arguments,0,arguments.length);if(0===c.length)this.$$module_function=!0;else for(var d=0,f=c.length;d<f;d++){var g="$"+c[d];a.defs(this,g,this.$$prototype[g])}return this},va.$$arity=-1);a.def(z,"$name",pa=function(){if(this.$$full_name)return this.$$full_name;for(var b=[],c=this;c;){if(c.$$name===
e||null==c.$$name)return e;b.unshift(c.$$name);c=c.$$base_module;if(c===a.Object)break}return 0===b.length?e:this.$$full_name=b.join("::")},pa.$$arity=0);a.def(z,"$prepend",za=function(b){var c=a.slice.call(arguments,0,arguments.length);0===c.length&&this.$raise(k(r,"ArgumentError"),"wrong number of arguments (given 0, expected 1+)");for(var d=c.length-1;0<=d;d--){var f=c[d];f.$$is_module||this.$raise(k(r,"TypeError"),"wrong argument type "+f.$class()+" (expected Module)");f.$prepend_features(this);
f.$prepended(this)}return this},za.$$arity=-1);a.def(z,"$prepend_features",Aa=function(b){this.$$is_module||this.$raise(k(r,"TypeError"),"wrong argument type "+this.$class()+" (expected Module)");a.prepend_features(this,b);return this},Aa.$$arity=1);a.def(z,"$prepended",ta=function(a){return e},ta.$$arity=1);a.def(z,"$remove_const",Da=function(b){return a.const_remove(this,b)},Da.$$arity=1);a.def(z,"$to_s",Ea=function(){var b;return g(b=a.Module.$name.call(this))?b:"#<"+(this.$$is_module?"Module":
"Class")+":0x"+this.$__id__().$to_s(16)+">"},Ea.$$arity=0);a.def(z,"$undef_method",Ba=function(b){var c=a.slice.call(arguments,0,arguments.length);for(var d=0,f=c.length;d<f;d++)a.udef(this,"$"+c[d]);return this},Ba.$$arity=-1);a.def(z,"$instance_variables",ua=function(){var b=(a.Module.$$nesting=r,this.$constants());var c=[],d;for(d in this)this.hasOwnProperty(d)&&"$"!==d.charAt(0)&&"constructor"!==d&&!b["$include?"](d)&&c.push("@"+d);return c},ua.$$arity=0);a.def(z,"$dup",ha=function(){var b=ha.$$p,
c;b&&(ha.$$p=null);var d=0;var g=arguments.length;for(c=Array(g);d<g;d++)c[d]=arguments[d];b=f(this,a.find_super_dispatcher(this,"dup",ha,!1),c,b);b.$copy_class_variables(this);b.$copy_constants(this);return b},ha.$$arity=0);a.def(z,"$copy_class_variables",qa=function(a){for(var b in a.$$cvars)this.$$cvars[b]=a.$$cvars[b]},qa.$$arity=1);return(a.def(z,"$copy_constants",X=function(b){var c;b=b.$$const;for(c in b)a.const_set(this,c,b[c])},X.$$arity=1),e)&&"copy_constants"}(r[0],null,r)};
Opal.modules["corelib/class"]=function(a){var p=a.top,r=[],e=a.nil,h=a.$$,k=a.klass,d=a.send;a.add_stubs("$require $class_eval $to_proc $initialize_copy $allocate $name $to_s".split(" "));p.$require("corelib/module");return function(f,$super,u){f=k(f,$super,"Class");var q=[f].concat(u),b,p,l,w,r,c,m;a.defs(f,"$new",b=function(c){var f=b.$$p,l=f||e;f&&(b.$$p=null);f&&(b.$$p=null);null==c&&(c=h(q,"Object"));if(!c.$$is_class)throw a.TypeError.$new("superclass must be a Class");f=a.allocate_class(e,c);
c.$inherited(f);l!==e&&d(f,"class_eval",[],l.$to_proc());return f},b.$$arity=-1);a.def(f,"$allocate",p=function(){var b=new this.$$constructor;b.$$id=a.uid();return b},p.$$arity=0);a.def(f,"$inherited",l=function(a){return e},l.$$arity=1);a.def(f,"$initialize_dup",w=function(a){this.$initialize_copy(a);this.$$full_name=this.$$name=null},w.$$arity=1);a.def(f,"$new",r=function(b){var c=r.$$p,d=c||e;c&&(r.$$p=null);c&&(r.$$p=null);c=a.slice.call(arguments,0,arguments.length);var f=this.$allocate();a.send(f,
f.$initialize,c,d);return f},r.$$arity=-1);a.def(f,"$superclass",c=function(){return this.$$super||e},c.$$arity=0);return(a.def(f,"$to_s",m=function(){m.$$p&&(m.$$p=null);var b=this.$$singleton_of;return b&&b.$$is_a_module?"#<Class:"+b.$name()+">":b?"#<Class:#<"+b.$$class.$name()+":0x"+a.id(b).$to_s(16)+">>":d(this,a.find_super_dispatcher(this,"to_s",m,!1),[],null)},m.$$arity=0),e)&&"to_s"}(r[0],null,r)};
Opal.modules["corelib/basic_object"]=function(a){var p=[],r=a.nil,e=a.$$$,h=a.klass,k=a.truthy,d=a.range,f=a.hash2,g=a.send;a.add_stubs("$== $! $nil? $cover? $size $raise $merge $compile $proc $any? $inspect $new".split(" "));return function(u,$super,b){u=h(u,$super,"BasicObject");[u].concat(b);var p,l,w,C,c,m,y,t,v,H,R,D,n,A,J;a.def(u,"$initialize",p=function(b){a.slice.call(arguments,0,arguments.length);return r},p.$$arity=-1);a.def(u,"$==",l=function(a){return this===a},l.$$arity=1);a.def(u,"$eql?",
w=function(a){return this["$=="](a)},w.$$arity=1);a.alias(u,"equal?","==");a.def(u,"$__id__",C=function(){if(null!=this.$$id)return this.$$id;a.defineProperty(this,"$$id",a.uid());return this.$$id},C.$$arity=0);a.def(u,"$__send__",c=function(b,d){var f=c.$$p,g=f||r;f&&(c.$$p=null);f&&(c.$$p=null);f=a.slice.call(arguments,1,arguments.length);var l=this["$"+b];if(l)return g!==r&&(l.$$p=g),l.apply(this,f);g!==r&&(this.$method_missing.$$p=g);return this.$method_missing.apply(this,[b].concat(f))},c.$$arity=
-2);a.def(u,"$!",m=function(){return!1},m.$$arity=0);a.def(u,"$!=",y=function(a){return this["$=="](a)["$!"]()},y.$$arity=1);a.def(u,"$instance_eval",t=function(b){var c=t.$$p,l=c||r,n,m,u=r,h=r,w=h=h=r;c&&(t.$$p=null);c&&(t.$$p=null);c=a.slice.call(arguments,0,arguments.length);k(k(n=l["$nil?"]())?!!a.compile:n)?(k(d(1,3,!1)["$cover?"](c.$size()))||e("::","Kernel").$raise(e("::","ArgumentError"),"wrong number of arguments (0 for 1..3)"),n=[].concat(a.to_a(c)),u=null==n[0]?r:n[0],h=null==n[1]?r:n[1],
n,h=f(["file","eval"],{file:k(n=h)?n:"(eval)",eval:!0}),h=a.hash({arity_check:!1}).$merge(h),w=e("::","Opal").$compile(u,h),l=g(e("::","Kernel"),"proc",[],(m=function(){return function(a){return eval(w)}(null==m.$$s?this:m.$$s)},m.$$s=this,m.$$arity=0,m))):k(c["$any?"]())&&e("::","Kernel").$raise(e("::","ArgumentError"),"wrong number of arguments ("+c.$size()+" for 0)");n=l.$$s;l.$$s=null;if(this.$$is_a_module){this.$$eval=!0;try{var p=l.call(this,this)}finally{this.$$eval=!1}}else p=l.call(this,
this);l.$$s=n;return p},t.$$arity=-1);a.def(u,"$instance_exec",v=function(b){var c=v.$$p,d=c||r;c&&(v.$$p=null);c&&(v.$$p=null);c=a.slice.call(arguments,0,arguments.length);k(d)||e("::","Kernel").$raise(e("::","ArgumentError"),"no block given");var f=d.$$s;d.$$s=null;if(this.$$is_a_module){this.$$eval=!0;try{var g=d.apply(this,c)}finally{this.$$eval=!1}}else g=d.apply(this,c);d.$$s=f;return g},v.$$arity=-1);a.def(u,"$singleton_method_added",H=function(b){a.slice.call(arguments,0,arguments.length);
return r},H.$$arity=-1);a.def(u,"$singleton_method_removed",R=function(b){a.slice.call(arguments,0,arguments.length);return r},R.$$arity=-1);a.def(u,"$singleton_method_undefined",D=function(b){a.slice.call(arguments,0,arguments.length);return r},D.$$arity=-1);a.def(u,"$class",n=function(){return this.$$class},n.$$arity=0);a.def(u,"$method_missing",A=function(b,c){var d=A.$$p;d&&(A.$$p=null);d&&(A.$$p=null);a.slice.call(arguments,1,arguments.length);d=k(this.$inspect&&!this.$inspect.$$stub)?"undefined method `"+
b+"' for "+this.$inspect()+":"+this.$$class:"undefined method `"+b+"' for "+this.$$class;return e("::","Kernel").$raise(e("::","NoMethodError").$new(d,b))},A.$$arity=-2);return(a.def(u,"$respond_to_missing?",J=function(a,b){return!1},J.$$arity=-2),r)&&"respond_to_missing?"}(p[0],null,p)};
Opal.modules["corelib/kernel"]=function(a){function p(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}var r=[],e=a.nil,h=a.$$$,k=a.$$,d=a.module,f=a.truthy,g=a.gvars,u=a.hash2,q=a.send,b=a.klass;a.add_stubs("$raise $new $inspect $! $=~ $== $object_id $class $coerce_to? $<< $allocate $copy_instance_variables $copy_singleton_methods $initialize_clone $initialize_copy $define_method $singleton_class $to_proc $initialize_dup $for $empty? $pop $call $coerce_to $append_features $extend_object $extended $__id__ $to_s $instance_variable_name! $respond_to? $to_int $coerce_to! $Integer $nil? $=== $enum_for $result $any? $print $format $puts $each $<= $length $[] $< $map $caller $exception $is_a? $rand $respond_to_missing? $try_convert! $expand_path $join $start_with? $new_seed $srand $sym $arg $open $include".split(" "));
(function(b,l){b=d(b,"Kernel");var w=[b].concat(l),r,c,m,y,t,v,z,R,D,n,A,J,E,L,I,x,B,G,M,O,F,P,Q,K,N,S,T,ia,U,ba,Y,V,ca,ma,ja,la,ka,Z,da,oa,na,ea,fa,ra,sa,aa,W,xa,va,pa,za,Aa,ta,Da,Ea,Ba,ua,ha,qa,X,ya,wa,Fa,Ia,Ga;a.def(b,"$method_missing",r=function(b,c){var d=r.$$p;d&&(r.$$p=null);d&&(r.$$p=null);d=a.slice.call(arguments,1,arguments.length);return this.$raise(k(w,"NoMethodError").$new("undefined method `"+b+"' for "+this.$inspect(),b,d))},r.$$arity=-2);a.def(b,"$=~",c=function(a){return!1},c.$$arity=
1);a.def(b,"$!~",m=function(a){return this["$=~"](a)["$!"]()},m.$$arity=1);a.def(b,"$===",y=function(a){var b;return f(b=this.$object_id()["$=="](a.$object_id()))?b:this["$=="](a)},y.$$arity=1);a.def(b,"$<=>",t=function(a){this.$$comparable=!0;return(a=this["$=="](a))&&a!==e?0:e},t.$$arity=1);a.def(b,"$method",v=function(a){var b=this["$"+a];b&&!b.$$stub||this.$raise(k(w,"NameError").$new("undefined method `"+a+"' for class `"+this.$class()+"'",a));return k(w,"Method").$new(this,b.$$owner||this.$class(),
b,a)},v.$$arity=1);a.def(b,"$methods",z=function(b){null==b&&(b=!0);return f(b)?a.methods(this):a.own_methods(this)},z.$$arity=-1);a.def(b,"$public_methods",R=function(b){null==b&&(b=!0);return f(b)?a.methods(this):a.receiver_methods(this)},R.$$arity=-1);a.def(b,"$Array",D=function(a){if(a===e)return[];if(a.$$is_array)return a;var b=k(w,"Opal")["$coerce_to?"](a,k(w,"Array"),"to_ary");if(b!==e)return b;b=k(w,"Opal")["$coerce_to?"](a,k(w,"Array"),"to_a");return b!==e?b:[a]},D.$$arity=1);a.def(b,"$at_exit",
n=function(){var a=n.$$p,b=a||e,c;null==g.__at_exit__&&(g.__at_exit__=e);a&&(n.$$p=null);a&&(n.$$p=null);g.__at_exit__=f(c=g.__at_exit__)?c:[];return g.__at_exit__["$<<"](b)},n.$$arity=0);a.def(b,"$caller",A=function(b){a.slice.call(arguments,0,arguments.length);return[]},A.$$arity=-1);a.def(b,"$class",J=function(){return this.$$class},J.$$arity=0);a.def(b,"$copy_instance_variables",E=function(a){var b=Object.keys(a),c;var d=0;for(c=b.length;d<c;d++){var f=b[d];"$"!==f.charAt(0)&&a.hasOwnProperty(f)&&
(this[f]=a[f])}},E.$$arity=1);a.def(b,"$copy_singleton_methods",L=function(b){var c;if(b.hasOwnProperty("$$meta")){var d=a.get_singleton_class(b),f=a.get_singleton_class(this);var g=Object.getOwnPropertyNames(d.$$prototype);var l=0;for(c=g.length;l<c;l++){var e=g[l];a.is_method(e)&&(f.$$prototype[e]=d.$$prototype[e])}f.$$const=Object.assign({},d.$$const);Object.setPrototypeOf(f.$$prototype,Object.getPrototypeOf(d.$$prototype))}l=0;g=Object.getOwnPropertyNames(b);for(c=g.length;l<c;l++)e=g[l],"$"===
e.charAt(0)&&"$"!==e.charAt(1)&&b.hasOwnProperty(e)&&(this[e]=b[e])},L.$$arity=1);a.def(b,"$clone",I=function(b){if(null==b)u([],{});else if(!b.$$is_hash)throw a.ArgumentError.$new("expected kwargs");b=this.$class().$allocate();b.$copy_instance_variables(this);b.$copy_singleton_methods(this);b.$initialize_clone(this);return b},I.$$arity=-1);a.def(b,"$initialize_clone",x=function(a){return this.$initialize_copy(a)},x.$$arity=1);a.def(b,"$define_singleton_method",B=function(a,b){var c=B.$$p,d=c||e;
c&&(B.$$p=null);c&&(B.$$p=null);return q(this.$singleton_class(),"define_method",[a,b],d.$to_proc())},B.$$arity=-2);a.def(b,"$dup",G=function(){var a=this.$class().$allocate();a.$copy_instance_variables(this);a.$initialize_dup(this);return a},G.$$arity=0);a.def(b,"$initialize_dup",M=function(a){return this.$initialize_copy(a)},M.$$arity=1);a.def(b,"$enum_for",O=function(b,c){var d=O.$$p,f=d||e;d&&(O.$$p=null);d&&(O.$$p=null);d=a.slice.call(arguments,0,arguments.length);if(0<d.length){var g=d[0];d.splice(0,
1)}null==g&&(g="each");return q(k(w,"Enumerator"),"for",[this,g].concat(a.to_a(d)),f.$to_proc())},O.$$arity=-1);a.alias(b,"to_enum","enum_for");a.def(b,"$equal?",F=function(a){return this===a},F.$$arity=1);a.def(b,"$exit",P=function(b){var c;null==g.__at_exit__&&(g.__at_exit__=e);null==b&&(b=!0);for(g.__at_exit__=f(c=g.__at_exit__)?c:[];!f(g.__at_exit__["$empty?"]());)c=g.__at_exit__.$pop(),c.$call();b=b.$$is_boolean?b?0:1:k(w,"Opal").$coerce_to(b,k(w,"Integer"),"to_int");a.exit(b);return e},P.$$arity=
-1);a.def(b,"$extend",Q=function(b){var c=a.slice.call(arguments,0,arguments.length);for(var d=this.$singleton_class(),f=c.length-1;0<=f;f--){var g=c[f];g.$$is_module||this.$raise(k(w,"TypeError"),"wrong argument type "+g.$class()+" (expected Module)");g.$append_features(d);g.$extend_object(this);g.$extended(this)}return this},Q.$$arity=-1);a.def(b,"$hash",K=function(){return this.$__id__()},K.$$arity=0);a.def(b,"$initialize_copy",N=function(a){return e},N.$$arity=1);a.def(b,"$inspect",S=function(){return this.$to_s()},
S.$$arity=0);a.def(b,"$instance_of?",T=function(a){a.$$is_class||a.$$is_module||this.$raise(k(w,"TypeError"),"class or module required");return this.$$class===a},T.$$arity=1);a.def(b,"$instance_variable_defined?",ia=function(b){b=k(w,"Opal")["$instance_variable_name!"](b);return a.hasOwnProperty.call(this,b.substr(1))},ia.$$arity=1);a.def(b,"$instance_variable_get",U=function(b){b=k(w,"Opal")["$instance_variable_name!"](b);b=this[a.ivar(b.substr(1))];return null==b?e:b},U.$$arity=1);a.def(b,"$instance_variable_set",
ba=function(b,c){b=k(w,"Opal")["$instance_variable_name!"](b);return this[a.ivar(b.substr(1))]=c},ba.$$arity=2);a.def(b,"$remove_instance_variable",Y=function(b){b=k(w,"Opal")["$instance_variable_name!"](b);var c=a.ivar(b.substr(1));return this.hasOwnProperty(c)?(b=this[c],delete this[c],b):this.$raise(k(w,"NameError"),"instance variable "+b+" not defined")},Y.$$arity=1);a.def(b,"$instance_variables",V=function(){var a=[],b;for(b in this)if(this.hasOwnProperty(b)&&"$"!==b.charAt(0)){var c="$"===b.substr(-1)?
b.slice(0,b.length-1):b;a.push("@"+c)}return a},V.$$arity=0);a.def(b,"$Integer",ca=function(a,b){var c=this;if(!a.$$is_string){void 0!==b&&c.$raise(k(w,"ArgumentError"),"base specified for non string value");a===e&&c.$raise(k(w,"TypeError"),"can't convert nil into Integer");if(a.$$is_number)return(Infinity===a||-Infinity===a||isNaN(a))&&c.$raise(k(w,"FloatDomainError"),a),Math.floor(a);if(a["$respond_to?"]("to_int")){var d=a.$to_int();if(d!==e)return d}return k(w,"Opal")["$coerce_to!"](a,k(w,"Integer"),
"to_i")}if("0"===a)return 0;void 0===b?b=0:(b=k(w,"Opal").$coerce_to(b,k(w,"Integer"),"to_int"),(1===b||0>b||36<b)&&c.$raise(k(w,"ArgumentError"),"invalid radix "+b));d=a.toLowerCase();d=d.replace(/(\d)_(?=\d)/g,"$1");d=d.replace(/^(\s*[+-]?)(0[bodx]?)/,function(d,f,g){switch(g){case "0b":if(0===b||2===b)return b=2,f;case "0":case "0o":if(0===b||8===b)return b=8,f;case "0d":if(0===b||10===b)return b=10,f;case "0x":if(0===b||16===b)return b=16,f}c.$raise(k(w,"ArgumentError"),'invalid value for Integer(): "'+
a+'"')});b=0===b?10:b;var f="0-"+(10>=b?b-1:"9a-"+String.fromCharCode(97+(b-11)));(new RegExp("^\\s*[+-]?["+f+"]+\\s*$")).test(d)||c.$raise(k(w,"ArgumentError"),'invalid value for Integer(): "'+a+'"');d=parseInt(d,b);isNaN(d)&&c.$raise(k(w,"ArgumentError"),'invalid value for Integer(): "'+a+'"');return d},ca.$$arity=-2);a.def(b,"$Float",ma=function(a){a===e&&this.$raise(k(w,"TypeError"),"can't convert nil into Float");if(a.$$is_string){var b=a.toString();b=b.replace(/(\d)_(?=\d)/g,"$1");if(/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(b))return this.$Integer(b);
/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(b)||this.$raise(k(w,"ArgumentError"),'invalid value for Float(): "'+a+'"');return parseFloat(b)}return k(w,"Opal")["$coerce_to!"](a,k(w,"Float"),"to_f")},ma.$$arity=1);a.def(b,"$Hash",ja=function(a){var b;return f(f(b=a["$nil?"]())?b:a["$=="]([]))?u([],{}):f(k(w,"Hash")["$==="](a))?a:k(w,"Opal")["$coerce_to!"](a,k(w,"Hash"),"to_hash")},ja.$$arity=1);a.def(b,"$is_a?",la=function(b){b.$$is_class||b.$$is_module||this.$raise(k(w,"TypeError"),"class or module required");
return a.is_a(this,b)},la.$$arity=1);a.def(b,"$itself",ka=function(){return this},ka.$$arity=0);a.alias(b,"kind_of?","is_a?");a.def(b,"$lambda",Z=function(){var b=Z.$$p,c=b||e;b&&(Z.$$p=null);b&&(Z.$$p=null);return a.lambda(c)},Z.$$arity=0);a.def(b,"$load",da=function(b){b=k(w,"Opal")["$coerce_to!"](b,k(w,"String"),"to_str");return a.load(b)},da.$$arity=1);a.def(b,"$loop",oa=function(){var b,c=oa.$$p,d=c||e,g=e;c&&(oa.$$p=null);if(d===e)return q(this,"enum_for",["loop"],(b=function(){return h(k(w,
"Float"),"INFINITY")},b.$$s=this,b.$$arity=0,b));for(;f(!0);)try{a.yieldX(d,[])}catch(Ha){if(a.rescue(Ha,[k(w,"StopIteration")])){g=Ha;try{return g.$result()}finally{a.pop_exception()}}else throw Ha;}return this},oa.$$arity=0);a.def(b,"$nil?",na=function(){return!1},na.$$arity=0);a.alias(b,"object_id","__id__");a.def(b,"$printf",ea=function(b){var c=a.slice.call(arguments,0,arguments.length);f(c["$any?"]())&&this.$print(q(this,"format",a.to_a(c)));return e},ea.$$arity=-1);a.def(b,"$proc",fa=function(){var a=
fa.$$p,b=a||e;a&&(fa.$$p=null);a&&(fa.$$p=null);f(b)||this.$raise(k(w,"ArgumentError"),"tried to create Proc object without a block");b.$$is_lambda=!1;return b},fa.$$arity=0);a.def(b,"$puts",ra=function(b){null==g.stdout&&(g.stdout=e);var c=a.slice.call(arguments,0,arguments.length);return q(g.stdout,"puts",a.to_a(c))},ra.$$arity=-1);a.def(b,"$p",sa=function(b){var c;var d=a.slice.call(arguments,0,arguments.length);q(d,"each",[],(c=function(a){null==g.stdout&&(g.stdout=e);null==a&&(a=e);return g.stdout.$puts(a.$inspect())},
c.$$s=this,c.$$arity=1,c));return f(p(d.$length(),1))?d["$[]"](0):d},sa.$$arity=-1);a.def(b,"$print",aa=function(b){null==g.stdout&&(g.stdout=e);var c=a.slice.call(arguments,0,arguments.length);return q(g.stdout,"print",a.to_a(c))},aa.$$arity=-1);a.def(b,"$warn",W=function(b,c){var d,l;null==g.VERBOSE&&(g.VERBOSE=e);null==g.stderr&&(g.stderr=e);var n=a.slice.call(arguments,0,arguments.length);var m=a.extract_kwargs(n);if(null==m)m=u([],{});else if(!m.$$is_hash)throw a.ArgumentError.$new("expected kwargs");
m=m.$$smap.uplevel;null==m&&(m=e);f(m)&&(m=k(w,"Opal")["$coerce_to!"](m,k(w,"Integer"),"to_str"),f("number"===typeof m?0>m:m["$<"](0))&&this.$raise(k(w,"ArgumentError"),"negative level ("+m+")"),n=q(n,"map",[],(d=function(a){return"warning: "+(null==d.$$s?this:d.$$s).$caller()},d.$$s=this,d.$$arity=1,d)));return f(f(l=g.VERBOSE["$nil?"]())?l:n["$empty?"]())?e:q(g.stderr,"puts",a.to_a(n))},W.$$arity=-1);a.def(b,"$raise",xa=function(b,c,d){null==g["!"]&&(g["!"]=e);null==c&&(c=e);if(null==b&&g["!"]!==
e)throw g["!"];null==b?b=k(w,"RuntimeError").$new():b.$$is_string?b=k(w,"RuntimeError").$new(b):b.$$is_class&&b["$respond_to?"]("exception")?b=b.$exception(c):b["$is_a?"](k(w,"Exception"))||(b=k(w,"TypeError").$new("exception class/object expected"));g["!"]!==e&&a.exceptions.push(g["!"]);g["!"]=b;throw b;},xa.$$arity=-1);a.alias(b,"fail","raise");a.def(b,"$rand",va=function(a){if(void 0===a)return h(k(w,"Random"),"DEFAULT").$rand();a.$$is_number&&(0>a&&(a=Math.abs(a)),0!==a%1&&(a=a.$to_i()),0===a&&
(a=void 0));return h(k(w,"Random"),"DEFAULT").$rand(a)},va.$$arity=-1);a.def(b,"$respond_to?",pa=function(a,b){null==b&&(b=!1);if(f(this["$respond_to_missing?"](a,b)))return!0;a=this["$"+a];return"function"!==typeof a||a.$$stub?!1:!0},pa.$$arity=-2);a.def(b,"$respond_to_missing?",za=function(a,b){return!1},za.$$arity=-2);a.def(b,"$require",Aa=function(b){b=k(w,"Opal")["$coerce_to!"](b,k(w,"String"),"to_str");return a.require(b)},Aa.$$arity=1);a.def(b,"$require_relative",ta=function(b){k(w,"Opal")["$try_convert!"](b,
k(w,"String"),"to_str");b=k(w,"File").$expand_path(k(w,"File").$join(a.current_file,"..",b));return a.require(b)},ta.$$arity=1);a.def(b,"$require_tree",Da=function(b){var c=[];b=k(w,"File").$expand_path(b);b=a.normalize(b);"."===b&&(b="");for(var d in a.modules)d["$start_with?"](b)&&c.push([d,a.require(d)]);return c},Da.$$arity=1);a.alias(b,"send","__send__");a.alias(b,"public_send","__send__");a.def(b,"$singleton_class",Ea=function(){return a.get_singleton_class(this)},Ea.$$arity=0);a.def(b,"$sleep",
Ba=function(b){null==b&&(b=e);b===e&&this.$raise(k(w,"TypeError"),"can't convert NilClass into time interval");b.$$is_number||this.$raise(k(w,"TypeError"),"can't convert "+b.$class()+" into time interval");0>b&&this.$raise(k(w,"ArgumentError"),"time interval must be positive");for(var c=a.global.performance?function(){return performance.now()}:function(){return new Date},d=c();c()-d<=1E3*b;);return b},Ba.$$arity=-1);a.def(b,"$srand",ua=function(a){null==a&&(a=k(w,"Random").$new_seed());return k(w,
"Random").$srand(a)},ua.$$arity=-1);a.def(b,"$String",ha=function(a){var b;return f(b=k(w,"Opal")["$coerce_to?"](a,k(w,"String"),"to_str"))?b:k(w,"Opal")["$coerce_to!"](a,k(w,"String"),"to_s")},ha.$$arity=1);a.def(b,"$tap",qa=function(){var b=qa.$$p,c=b||e;b&&(qa.$$p=null);b&&(qa.$$p=null);a.yield1(c,this);return this},qa.$$arity=0);a.def(b,"$to_proc",X=function(){return this},X.$$arity=0);a.def(b,"$to_s",ya=function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+">"},ya.$$arity=0);a.def(b,
"$catch",wa=function(b){var c=wa.$$p,d=c||e;c&&(wa.$$p=null);try{return a.yieldX(d,[])}catch(Ca){if(a.rescue(Ca,[k(w,"UncaughtThrowError")])){c=Ca;try{return c.$sym()["$=="](b)?c.$arg():this.$raise()}finally{a.pop_exception()}}else throw Ca;}},wa.$$arity=1);a.def(b,"$throw",Fa=function(b){var c=a.slice.call(arguments,0,arguments.length);return this.$raise(k(w,"UncaughtThrowError"),c)},Fa.$$arity=-1);a.def(b,"$open",Ia=function(b){var c=Ia.$$p,d=c||e;c&&(Ia.$$p=null);c&&(Ia.$$p=null);c=a.slice.call(arguments,
0,arguments.length);return q(k(w,"File"),"open",a.to_a(c),d.$to_proc())},Ia.$$arity=-1);a.def(b,"$yield_self",Ga=function(){var b,c=Ga.$$p,d=c||e;c&&(Ga.$$p=null);return d===e?q(this,"enum_for",["yield_self"],(b=function(){return 1},b.$$s=this,b.$$arity=0,b)):a.yield1(d,this)},Ga.$$arity=0)})(r[0],r);return function(a,$super,d){a=b(a,$super,"Object");d=[a].concat(d);return a.$include(k(d,"Kernel"))}(r[0],null,r)};
Opal.modules["corelib/error"]=function(a){var p=[],r=a.nil,e=a.$$,h=a.klass,k=a.send,d=a.truthy,f=a.module,g=a.hash2;a.add_stubs("$new $clone $to_s $empty? $class $raise $+ $attr_reader $[] $> $length $inspect".split(" "));(function(f,$super,b){f=h(f,$super,"Exception");var g=[f].concat(b),l,u,p,c,m,y,t,v,H;f.$$prototype.message=r;a.defs(f,"$new",l=function(b){var c=a.slice.call(arguments,0,arguments.length);var d=0<c.length?c[0]:r,f=new this.$$constructor(d);f.name=this.$$name;f.message=d;a.send(f,
f.$initialize,c);a.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(f,R);return f},l.$$arity=-1);var R=f.$new;a.defs(f,"$exception",u=function(b){var c=a.slice.call(arguments,0,arguments.length);return k(this,"new",a.to_a(c))},u.$$arity=-1);a.def(f,"$initialize",p=function(b){var c=a.slice.call(arguments,0,arguments.length);return this.message=0<c.length?c[0]:r},p.$$arity=-1);a.def(f,"$backtrace",c=function(){if(this.backtrace)return this.backtrace;var a=this.stack;return"string"===
typeof a?a.split("\n").slice(0,15):a?a.slice(0,15):[]},c.$$arity=0);a.def(f,"$exception",m=function(a){null==a&&(a=r);if(a===r||this===a)return this;var b=this.$clone();b.message=a;b.stack=this.stack;return b},m.$$arity=-1);a.def(f,"$message",y=function(){return this.$to_s()},y.$$arity=0);a.def(f,"$inspect",t=function(){var a=this.$to_s();return d(a["$empty?"]())?this.$class().$to_s():"#<"+this.$class().$to_s()+": "+this.$to_s()+">"},t.$$arity=0);a.def(f,"$set_backtrace",v=function(a){var b=!0,c;
if(a===r)this.backtrace=r,this.stack="";else if(a.$$is_string)this.backtrace=[a],this.stack=a;else{if(a.$$is_array){var d=0;for(c=a.length;d<c;d++)if(!a[d].$$is_string){b=!1;break}}else b=!1;!1===b&&this.$raise(e(g,"TypeError"),"backtrace must be Array of String");this.backtrace=a;this.stack=a.join("\n")}return a},v.$$arity=1);return(a.def(f,"$to_s",H=function(){var a,b;return d(a=d(b=this.message)?this.message.$to_s():b)?a:this.$class().$to_s()},H.$$arity=0),r)&&"to_s"})(p[0],Error,p);(function(a,
$super,b){[h(a,$super,"ScriptError")].concat(b);return r})(p[0],e(p,"Exception"),p);(function(a,$super,b){[h(a,$super,"SyntaxError")].concat(b);return r})(p[0],e(p,"ScriptError"),p);(function(a,$super,b){[h(a,$super,"LoadError")].concat(b);return r})(p[0],e(p,"ScriptError"),p);(function(a,$super,b){[h(a,$super,"NotImplementedError")].concat(b);return r})(p[0],e(p,"ScriptError"),p);(function(a,$super,b){[h(a,$super,"SystemExit")].concat(b);return r})(p[0],e(p,"Exception"),p);(function(a,$super,b){[h(a,
$super,"NoMemoryError")].concat(b);return r})(p[0],e(p,"Exception"),p);(function(a,$super,b){[h(a,$super,"SignalException")].concat(b);return r})(p[0],e(p,"Exception"),p);(function(a,$super,b){[h(a,$super,"Interrupt")].concat(b);return r})(p[0],e(p,"Exception"),p);(function(a,$super,b){[h(a,$super,"SecurityError")].concat(b);return r})(p[0],e(p,"Exception"),p);(function(a,$super,b){[h(a,$super,"StandardError")].concat(b);return r})(p[0],e(p,"Exception"),p);(function(a,$super,b){[h(a,$super,"EncodingError")].concat(b);
return r})(p[0],e(p,"StandardError"),p);(function(a,$super,b){[h(a,$super,"ZeroDivisionError")].concat(b);return r})(p[0],e(p,"StandardError"),p);(function(a,$super,b){[h(a,$super,"NameError")].concat(b);return r})(p[0],e(p,"StandardError"),p);(function(a,$super,b){[h(a,$super,"NoMethodError")].concat(b);return r})(p[0],e(p,"NameError"),p);(function(a,$super,b){[h(a,$super,"RuntimeError")].concat(b);return r})(p[0],e(p,"StandardError"),p);(function(a,$super,b){[h(a,$super,"FrozenError")].concat(b);
return r})(p[0],e(p,"RuntimeError"),p);(function(a,$super,b){[h(a,$super,"LocalJumpError")].concat(b);return r})(p[0],e(p,"StandardError"),p);(function(a,$super,b){[h(a,$super,"TypeError")].concat(b);return r})(p[0],e(p,"StandardError"),p);(function(a,$super,b){[h(a,$super,"ArgumentError")].concat(b);return r})(p[0],e(p,"StandardError"),p);(function(a,$super,b){[h(a,$super,"IndexError")].concat(b);return r})(p[0],e(p,"StandardError"),p);(function(a,$super,b){[h(a,$super,"StopIteration")].concat(b);
return r})(p[0],e(p,"IndexError"),p);(function(a,$super,b){[h(a,$super,"KeyError")].concat(b);return r})(p[0],e(p,"IndexError"),p);(function(a,$super,b){[h(a,$super,"RangeError")].concat(b);return r})(p[0],e(p,"StandardError"),p);(function(a,$super,b){[h(a,$super,"FloatDomainError")].concat(b);return r})(p[0],e(p,"RangeError"),p);(function(a,$super,b){[h(a,$super,"IOError")].concat(b);return r})(p[0],e(p,"StandardError"),p);(function(a,$super,b){[h(a,$super,"SystemCallError")].concat(b);return r})(p[0],
e(p,"StandardError"),p);(function(g,q){g=[f(g,"Errno")].concat(q);(function(b,$super,f){b=h(b,$super,"EINVAL");[b].concat(f);var g;return(a.defs(b,"$new",g=function(b){g.$$p&&(g.$$p=null);null==b&&(b=r);var c="Invalid argument";d(b)&&(b=" - "+b,c="number"===typeof c&&"number"===typeof b?c+b:c["$+"](b));return k(this,a.find_super_dispatcher(this,"new",g,!1,this.$$class.$$prototype),[c],null)},g.$$arity=-1),r)&&"new"})(g[0],e(g,"SystemCallError"),g)})(p[0],p);(function(f,$super,b){f=h(f,$super,"UncaughtThrowError");
[f].concat(b);var g;f.$$prototype.sym=r;f.$attr_reader("sym","arg");return(a.def(f,"$initialize",g=function(b){g.$$p&&(g.$$p=null);this.sym=b["$[]"](0);var f=b.$length();f="number"===typeof f?1<f:f["$>"](1);d(f)&&(this.arg=b["$[]"](1));return k(this,a.find_super_dispatcher(this,"initialize",g,!1),["uncaught throw "+this.sym.$inspect()],null)},g.$$arity=1),r)&&"initialize"})(p[0],e(p,"ArgumentError"),p);(function(d,$super,b){d=h(d,$super,"NameError");[d].concat(b);var f;d.$attr_reader("name");return(a.def(d,
"$initialize",f=function(b,d){f.$$p&&(f.$$p=null);null==d&&(d=r);k(this,a.find_super_dispatcher(this,"initialize",f,!1),[b],null);return this.name=d},f.$$arity=-2),r)&&"initialize"})(p[0],null,p);(function(d,$super,b){d=h(d,$super,"NoMethodError");[d].concat(b);var f;d.$attr_reader("args");return(a.def(d,"$initialize",f=function(b,d,g){f.$$p&&(f.$$p=null);null==d&&(d=r);null==g&&(g=[]);k(this,a.find_super_dispatcher(this,"initialize",f,!1),[b,d],null);return this.args=g},f.$$arity=-2),r)&&"initialize"})(p[0],
null,p);(function(a,$super,b){a=h(a,$super,"StopIteration");[a].concat(b);return a.$attr_reader("result")})(p[0],null,p);(function(f,$super,b){f=h(f,$super,"KeyError");var u=[f].concat(b),l,w,p;f.$$prototype.receiver=f.$$prototype.key=r;a.def(f,"$initialize",l=function(b,d){l.$$p&&(l.$$p=null);if(null==d)d=g([],{});else if(!d.$$is_hash)throw a.ArgumentError.$new("expected kwargs");var c=d.$$smap.receiver;null==c&&(c=r);d=d.$$smap.key;null==d&&(d=r);k(this,a.find_super_dispatcher(this,"initialize",
l,!1),[b],null);this.receiver=c;return this.key=d},l.$$arity=-2);a.def(f,"$receiver",w=function(){var a;return d(a=this.receiver)?a:this.$raise(e(u,"ArgumentError"),"no receiver is available")},w.$$arity=0);return(a.def(f,"$key",p=function(){var a;return d(a=this.key)?a:this.$raise(e(u,"ArgumentError"),"no key is available")},p.$$arity=0),r)&&"key"})(p[0],null,p);return function(a,d){a=[f(a,"JS")].concat(d);[h(a[0],null,"Error")].concat(a)}(p[0],p)};
Opal.modules["corelib/constants"]=function(a){var p=[],r=a.$$;a.const_set(p[0],"RUBY_PLATFORM","opal");a.const_set(p[0],"RUBY_ENGINE","opal");a.const_set(p[0],"RUBY_VERSION","2.5.3");a.const_set(p[0],"RUBY_ENGINE_VERSION","1.0.0");a.const_set(p[0],"RUBY_RELEASE_DATE","2019-05-12");a.const_set(p[0],"RUBY_PATCHLEVEL",0);a.const_set(p[0],"RUBY_REVISION",0);a.const_set(p[0],"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2019 Adam Beynon and the Opal contributors");return a.const_set(p[0],"RUBY_DESCRIPTION",
"opal "+r(p,"RUBY_ENGINE_VERSION")+" ("+r(p,"RUBY_RELEASE_DATE")+" revision "+r(p,"RUBY_REVISION")+")")};Opal.modules["opal/base"]=function(a){var p=a.top;a.add_stubs(["$require"]);p.$require("corelib/runtime");p.$require("corelib/helpers");p.$require("corelib/module");p.$require("corelib/class");p.$require("corelib/basic_object");p.$require("corelib/kernel");p.$require("corelib/error");return p.$require("corelib/constants")};
Opal.modules["corelib/nil"]=function(a){var p=[],r=a.nil,e=a.$$,h=a.klass,k=a.hash2,d=a.truthy;a.add_stubs("$raise $name $new $> $length $Rational".split(" "));(function(f,$super,u){f=h(f,$super,"NilClass");var q=[f].concat(u),b,p,l,w,C,c,m,y,t,v,H,R,D,n,A,J,E,L;f.$$prototype.$$meta=f;(function(b,c){var d=[b].concat(c),f;a.def(b,"$allocate",f=function(){return this.$raise(e(d,"TypeError"),"allocator undefined for "+this.$name())},f.$$arity=0);a.udef(b,"$new");return r})(a.get_singleton_class(f),q);
a.def(f,"$!",b=function(){return!0},b.$$arity=0);a.def(f,"$&",p=function(a){return!1},p.$$arity=1);a.def(f,"$|",l=function(a){return!1!==a&&a!==r},l.$$arity=1);a.def(f,"$^",w=function(a){return!1!==a&&a!==r},w.$$arity=1);a.def(f,"$==",C=function(a){return a===r},C.$$arity=1);a.def(f,"$dup",c=function(){return r},c.$$arity=0);a.def(f,"$clone",m=function(b){if(null==b)k([],{});else if(!b.$$is_hash)throw a.ArgumentError.$new("expected kwargs");return r},m.$$arity=-1);a.def(f,"$inspect",y=function(){return"nil"},
y.$$arity=0);a.def(f,"$nil?",t=function(){return!0},t.$$arity=0);a.def(f,"$singleton_class",v=function(){return e(q,"NilClass")},v.$$arity=0);a.def(f,"$to_a",H=function(){return[]},H.$$arity=0);a.def(f,"$to_h",R=function(){return a.hash()},R.$$arity=0);a.def(f,"$to_i",D=function(){return 0},D.$$arity=0);a.alias(f,"to_f","to_i");a.def(f,"$to_s",n=function(){return""},n.$$arity=0);a.def(f,"$to_c",A=function(){return e(q,"Complex").$new(0,0)},A.$$arity=0);a.def(f,"$rationalize",J=function(b){var c=a.slice.call(arguments,
0,arguments.length).$length();c="number"===typeof c?1<c:c["$>"](1);d(c)&&this.$raise(e(q,"ArgumentError"));return this.$Rational(0,1)},J.$$arity=-1);a.def(f,"$to_r",E=function(){return this.$Rational(0,1)},E.$$arity=0);return(a.def(f,"$instance_variables",L=function(){return[]},L.$$arity=0),r)&&"instance_variables"})(p[0],null,p);return a.const_set(p[0],"NIL",r)};
Opal.modules["corelib/boolean"]=function(a){var p=[],r=a.nil,e=a.$$,h=a.klass,k=a.hash2;a.add_stubs(["$raise","$name"]);(function(d,$super,g){d=h(d,$super,"Boolean");var u=[d].concat(g),q,b,p,l,w,C,c,m,y,t;a.defineProperty(d.$$prototype,"$$is_boolean",!0);a.defineProperty(d.$$prototype,"$$meta",d);(function(b,c){var d=[b].concat(c),g;a.def(b,"$allocate",g=function(){return this.$raise(e(d,"TypeError"),"allocator undefined for "+this.$name())},g.$$arity=0);a.udef(b,"$new");return r})(a.get_singleton_class(d),
u);a.def(d,"$__id__",q=function(){return this.valueOf()?2:0},q.$$arity=0);a.alias(d,"object_id","__id__");a.def(d,"$!",b=function(){return 1!=this},b.$$arity=0);a.def(d,"$&",p=function(a){return 1==this?!1!==a&&a!==r:!1},p.$$arity=1);a.def(d,"$|",l=function(a){return 1==this?!0:!1!==a&&a!==r},l.$$arity=1);a.def(d,"$^",w=function(a){return 1==this?!1===a||a===r:!1!==a&&a!==r},w.$$arity=1);a.def(d,"$==",C=function(a){return 1==this===a.valueOf()},C.$$arity=1);a.alias(d,"equal?","==");a.alias(d,"eql?",
"==");a.def(d,"$singleton_class",c=function(){return e(u,"Boolean")},c.$$arity=0);a.def(d,"$to_s",m=function(){return 1==this?"true":"false"},m.$$arity=0);a.def(d,"$dup",y=function(){return this},y.$$arity=0);return(a.def(d,"$clone",t=function(b){if(null==b)k([],{});else if(!b.$$is_hash)throw a.ArgumentError.$new("expected kwargs");return this},t.$$arity=-1),r)&&"clone"})(p[0],Boolean,p);a.const_set(p[0],"TrueClass",e(p,"Boolean"));a.const_set(p[0],"FalseClass",e(p,"Boolean"));a.const_set(p[0],"TRUE",
!0);return a.const_set(p[0],"FALSE",!1)};
Opal.modules["corelib/comparable"]=function(a){function p(a,d){return"number"===typeof a&&"number"===typeof d?a>d:a["$>"](d)}function r(a,d){return"number"===typeof a&&"number"===typeof d?a<d:a["$<"](d)}var e=[],h=a.nil,k=a.$$,d=a.module,f=a.truthy;a.add_stubs("$> $< $=== $raise $class $equal? $<=>".split(" "));return function(g,e){function q(b){return a.is_a(b,a.Integer)?b:p(b,0)?1:r(b,0)?-1:0}function b(a,b){H=b;b=h["$==="](H)||(!0)["$==="](H)||(!1)["$==="](H)||k(l,"Integer")["$==="](H)||k(l,"Float")["$==="](H)?
b.$inspect():b.$$class;u.$raise(k(l,"ArgumentError"),"comparison of "+a.$class()+" with "+b+" failed")}var u=d(g,"Comparable"),l=[u].concat(e),w,C,c,m,y,t,v,H=h;a.def(u,"$==",w=function(b){var c;return f(this["$equal?"](b))?!0:this["$<=>"]==a.Kernel["$<=>"]?!1:this.$$comparable?(delete this.$$comparable,!1):f(c=this["$<=>"](b))?0==q(c):!1},w.$$arity=1);a.def(u,"$>",C=function(a){var c;f(c=this["$<=>"](a))||b(this,a);return 0<q(c)},C.$$arity=1);a.def(u,"$>=",c=function(a){var c;f(c=this["$<=>"](a))||
b(this,a);return 0<=q(c)},c.$$arity=1);a.def(u,"$<",m=function(a){var c;f(c=this["$<=>"](a))||b(this,a);return 0>q(c)},m.$$arity=1);a.def(u,"$<=",y=function(a){var c;f(c=this["$<=>"](a))||b(this,a);return 0>=q(c)},y.$$arity=1);a.def(u,"$between?",t=function(a,b){return r(this,a)||p(this,b)?!1:!0},t.$$arity=2);a.def(u,"$clamp",v=function(a,c){var d=a["$<=>"](c);f(d)||b(a,c);f(0<q(d))&&this.$raise(k(l,"ArgumentError"),"min argument must be smaller than max argument");return f(0>q(this["$<=>"](a)))?
a:f(0<q(this["$<=>"](c)))?c:this},v.$$arity=2)}(e[0],e)};
Opal.modules["corelib/regexp"]=function(a){var p=[],r=a.nil,e=a.$$,h=a.klass,k=a.send,d=a.truthy,f=a.gvars;a.add_stubs("$nil? $[] $raise $escape $options $to_str $new $join $coerce_to! $! $match $coerce_to? $begin $coerce_to $=~ $attr_reader $=== $inspect $to_a".split(" "));(function(a,$super,d){[h(a,$super,"RegexpError")].concat(d);return r})(p[0],e(p,"StandardError"),p);(function(g,$super,q){g=h(g,$super,"Regexp");var b=[g].concat(q),p,l,w,C,c,m,y,t,v,H;a.const_set(b[0],"IGNORECASE",1);a.const_set(b[0],
"EXTENDED",2);a.const_set(b[0],"MULTILINE",4);a.defineProperty(g.$$prototype,"$$is_regexp",!0);(function(b,c){var g=[b].concat(c),l,m,h,q,t;a.def(b,"$allocate",l=function(){var b=l.$$p,c;b&&(l.$$p=null);var d=0;var f=arguments.length;for(c=Array(f);d<f;d++)c[d]=arguments[d];b=k(this,a.find_super_dispatcher(this,"allocate",l,!1),c,b);b.uninitialized=!0;return b},l.$$arity=0);a.def(b,"$escape",m=function(b){return a.escape_regexp(b)},m.$$arity=1);a.def(b,"$last_match",h=function(a){null==f["~"]&&(f["~"]=
r);null==a&&(a=r);return d(a["$nil?"]())?f["~"]:f["~"]["$[]"](a)},h.$$arity=-1);a.alias(b,"quote","escape");a.def(b,"$union",q=function(b){var c=a.slice.call(arguments,0,arguments.length);if(0==c.length)return/(?!)/;if(1==c.length&&c[0].$$is_regexp)return c[0];var d=c[0].$$is_array;1<c.length&&d&&this.$raise(e(g,"TypeError"),"no implicit conversion of Array into String");d&&(c=c[0]);var f=void 0;d=[];for(var l=0;l<c.length;l++){var m=c[l];if(m.$$is_string)d.push(this.$escape(m));else if(m.$$is_regexp){var n=
m.$options();void 0!=f&&f!=n&&this.$raise(e(g,"TypeError"),"All expressions must use the same options");f=n;d.push("("+m.source+")")}else d.push(this.$escape(m.$to_str()))}return this.$new(d.$join("|"),f)},q.$$arity=-1);return(a.def(b,"$new",t=function(a,b){if(a.$$is_regexp)return new RegExp(a);a=e(g,"Opal")["$coerce_to!"](a,e(g,"String"),"to_str");"\\"===a.charAt(a.length-1)&&"\\"!==a.charAt(a.length-2)&&this.$raise(e(g,"RegexpError"),"too short escape sequence: /"+a+"/");if(void 0===b||b["$!"]())return new RegExp(a);
if(b.$$is_number){var c="";e(g,"IGNORECASE")&b&&(c+="i");e(g,"MULTILINE")&b&&(c+="m");b=c}else b="i";return new RegExp(a,b)},t.$$arity=-2),r)&&"new"})(a.get_singleton_class(g),b);a.def(g,"$==",p=function(a){return a instanceof RegExp&&this.toString()===a.toString()},p.$$arity=1);a.def(g,"$===",l=function(a){return this.$match(e(b,"Opal")["$coerce_to?"](a,e(b,"String"),"to_str"))!==r},l.$$arity=1);a.def(g,"$=~",w=function(a){var b;null==f["~"]&&(f["~"]=r);return d(b=this.$match(a))?f["~"].$begin(0):
b},w.$$arity=1);a.alias(g,"eql?","==");a.def(g,"$inspect",C=function(){var a=this.toString(),b=/^\/(.*)\/([^\/]*)$/.exec(a);if(b){a=b[2];b=b[1].split("");for(var c=b.length,d=!1,f="",g=0;g<c;g++){var l=b[g];d||"/"!=l||(f=f.concat("\\"));f=f.concat(l);d="\\"==l?d?!1:!0:!1}return"/"+f+"/"+a}return a},C.$$arity=0);a.def(g,"$match",c=function(d,g){var l=c.$$p,m=l||r;null==f["~"]&&(f["~"]=r);l&&(c.$$p=null);l&&(c.$$p=null);this.uninitialized&&this.$raise(e(b,"TypeError"),"uninitialized Regexp");if(void 0===
g)return d===r?f["~"]=r:(d=this.exec(e(b,"Opal").$coerce_to(d,e(b,"String"),"to_str")))?(f["~"]=e(b,"MatchData").$new(this,d),m===r?f["~"]:a.yield1(m,f["~"])):f["~"]=r;g=e(b,"Opal").$coerce_to(g,e(b,"Integer"),"to_int");if(d===r)return f["~"]=r;d=e(b,"Opal").$coerce_to(d,e(b,"String"),"to_str");if(0>g&&(g+=d.length,0>g))return f["~"]=r;for(var h=a.global_regexp(this);;){l=h.exec(d);if(null===l)return f["~"]=r;if(l.index>=g)return f["~"]=e(b,"MatchData").$new(h,l),m===r?f["~"]:a.yield1(m,f["~"]);h.lastIndex=
l.index+1}},c.$$arity=-2);a.def(g,"$match?",m=function(c,d){this.uninitialized&&this.$raise(e(b,"TypeError"),"uninitialized Regexp");if(void 0===d)return c===r?!1:this.test(e(b,"Opal").$coerce_to(c,e(b,"String"),"to_str"));d=e(b,"Opal").$coerce_to(d,e(b,"Integer"),"to_int");if(c===r)return!1;c=e(b,"Opal").$coerce_to(c,e(b,"String"),"to_str");if(0>d&&(d+=c.length,0>d))return!1;c=a.global_regexp(this).exec(c);return null===c||c.index<d?!1:!0},m.$$arity=-2);a.def(g,"$~",y=function(){null==f._&&(f._=
r);return this["$=~"](f._)},y.$$arity=0);a.def(g,"$source",t=function(){return this.source},t.$$arity=0);a.def(g,"$options",v=function(){this.uninitialized&&this.$raise(e(b,"TypeError"),"uninitialized Regexp");var a=0;this.multiline&&(a|=e(b,"MULTILINE"));this.ignoreCase&&(a|=e(b,"IGNORECASE"));return a},v.$$arity=0);a.def(g,"$casefold?",H=function(){return this.ignoreCase},H.$$arity=0);return a.alias(g,"to_s","source")})(p[0],RegExp,p);return function(g,$super,q){g=h(g,$super,"MatchData");var b=
[g].concat(q),p,l,w,C,c,m,y,t,v,H,R,D;g.$$prototype.matches=r;g.$attr_reader("post_match","pre_match","regexp","string");a.def(g,"$initialize",p=function(a,b){f["~"]=this;this.regexp=a;this.begin=b.index;this.string=b.input;this.pre_match=b.input.slice(0,b.index);this.post_match=b.input.slice(b.index+b[0].length);this.matches=[];a=0;for(var c=b.length;a<c;a++){var d=b[a];null==d?this.matches.push(r):this.matches.push(d)}},p.$$arity=2);a.def(g,"$[]",l=function(b){var c=a.slice.call(arguments,0,arguments.length);
return k(this.matches,"[]",a.to_a(c))},l.$$arity=-1);a.def(g,"$offset",w=function(a){0!==a&&this.$raise(e(b,"ArgumentError"),"MatchData#offset only supports 0th element");return[this.begin,this.begin+this.matches[a].length]},w.$$arity=1);a.def(g,"$==",C=function(a){var c,f,g,l;return d(e(b,"MatchData")["$==="](a))?d(c=d(f=d(g=d(l=this.string==a.string)?this.regexp.toString()==a.regexp.toString():l)?this.pre_match==a.pre_match:g)?this.post_match==a.post_match:f)?this.begin==a.begin:c:!1},C.$$arity=
1);a.alias(g,"eql?","==");a.def(g,"$begin",c=function(a){0!==a&&this.$raise(e(b,"ArgumentError"),"MatchData#begin only supports 0th element");return this.begin},c.$$arity=1);a.def(g,"$end",m=function(a){0!==a&&this.$raise(e(b,"ArgumentError"),"MatchData#end only supports 0th element");return this.begin+this.matches[a].length},m.$$arity=1);a.def(g,"$captures",y=function(){return this.matches.slice(1)},y.$$arity=0);a.def(g,"$inspect",t=function(){for(var a="#<MatchData "+this.matches[0].$inspect(),
b=1,c=this.matches.length;b<c;b++)a+=" "+b+":"+this.matches[b].$inspect();return a+">"},t.$$arity=0);a.def(g,"$length",v=function(){return this.matches.length},v.$$arity=0);a.alias(g,"size","length");a.def(g,"$to_a",H=function(){return this.matches},H.$$arity=0);a.def(g,"$to_s",R=function(){return this.matches[0]},R.$$arity=0);return(a.def(g,"$values_at",D=function(c){var d=a.slice.call(arguments,0,arguments.length);var f,g=[];for(f=0;f<d.length;f++){if(d[f].$$is_range){var l=d[f].$to_a();l.unshift(f,
1);Array.prototype.splice.apply(d,l)}l=e(b,"Opal")["$coerce_to!"](d[f],e(b,"Integer"),"to_int");if(0>l&&(l+=this.matches.length,0>l)){g.push(r);continue}g.push(this.matches[l])}return g},D.$$arity=-1),r)&&"values_at"}(p[0],null,p)};
Opal.modules["corelib/string"]=function(a){function p(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var e=a.top,h=[],k=a.nil,d=a.$$$,f=a.$$,g=a.klass,u=a.truthy,q=a.send,b=a.gvars;a.add_stubs("$require $include $coerce_to? $coerce_to $raise $=== $format $to_s $respond_to? $to_str $<=> $== $=~ $new $force_encoding $casecmp $empty? $ljust $ceil $/ $+ $rjust $floor $to_a $each_char $to_proc $coerce_to! $copy_singleton_methods $initialize_clone $initialize_dup $enum_for $size $chomp $[] $to_i $each_line $encoding $class $match $match? $captures $proc $succ $escape".split(" "));
e.$require("corelib/comparable");e.$require("corelib/regexp");(function(e,$super,h){function w(a){function b(a){var b="",d,g=a.length;for(d=0;d<g;d++){var e=a.charAt(d);if("-"===e&&0<d&&d<g-1&&!h){var h=a.charCodeAt(d-1);e=a.charCodeAt(d+1);h>e&&c.$raise(f(m,"ArgumentError"),'invalid range "'+h+"-"+e+'" in string transliteration');for(h+=1;h<e+1;h++)b+=String.fromCharCode(h);h=!0;d++}else h="\\"===e,b+=e}return b}function d(a,b){if(0===a.length)return b;var c="",d,f=a.length;for(d=0;d<f;d++){var g=
a.charAt(d);-1!==b.indexOf(g)&&(c+=g)}return c}var g,e="",h="";var n=0;for(g=a.length;n<g;n++){var La=f(m,"Opal").$coerce_to(a[n],f(m,"String"),"to_str");var k="^"===La.charAt(0)&&1<La.length;La=b(k?La.slice(1):La);k?h=d(h,La):e=d(e,La)}if(0<e.length&&0<h.length){La="";n=0;for(g=e.length;n<g;n++)a=e.charAt(n),-1===h.indexOf(a)&&(La+=a);e=La;h=""}return 0<e.length?"["+f(m,"Regexp").$escape(e)+"]":0<h.length?"[^"+f(m,"Regexp").$escape(h)+"]":null}var c=g(e,$super,"String"),m=[c].concat(h),y,t,v,H,z,
D,n,A,J,E,L,I,x,B,G,M,O,F,P,Q,K,N,S,T,ia,U,ba,Y,V,ca,ma,ja,la,ka,Z,da,oa,na,ea,fa,ra,sa,aa,W,xa,va,pa,za,Aa,ta,Da,Ea,Ba,ua,ha,qa,X,ya,wa,Fa,Ia,Ga,Oa,Pa,Ka,Ca,Ha,Qa,Ra,Ja,Ma,Sa,Ta,Ua,Va,Na;c.$include(f(m,"Comparable"));a.defineProperty(c.$$prototype,"$$is_string",!0);a.defineProperty(c.$$prototype,"$$cast",function(a){var b=this.$$class;return b.$$constructor===String?a:new b.$$constructor(a)});a.def(c,"$__id__",y=function(){return this.toString()},y.$$arity=0);a.alias(c,"object_id","__id__");a.defs(c,
"$try_convert",t=function(a){return f(m,"Opal")["$coerce_to?"](a,f(m,"String"),"to_str")},t.$$arity=1);a.defs(c,"$new",v=function(a){null==a&&(a="");a=f(m,"Opal").$coerce_to(a,f(m,"String"),"to_str");return new this.$$constructor(a)},v.$$arity=-1);a.def(c,"$initialize",H=function(a){return void 0===a?this:this.$raise(f(m,"NotImplementedError"),"Mutable strings are not supported in Opal.")},H.$$arity=-1);a.def(c,"$%",z=function(b){return u(f(m,"Array")["$==="](b))?q(this,"format",[this].concat(a.to_a(b))):
this.$format(this,b)},z.$$arity=1);a.def(c,"$*",D=function(a){a=f(m,"Opal").$coerce_to(a,f(m,"Integer"),"to_int");0>a&&this.$raise(f(m,"ArgumentError"),"negative argument");if(0===a)return this.$$cast("");var b="",c=this.toString();for(268435456<=c.length*a&&this.$raise(f(m,"RangeError"),"multiply count must not overflow maximum string size");;){1===(a&1)&&(b+=c);a>>>=1;if(0===a)break;c+=c}return this.$$cast(b)},D.$$arity=1);a.def(c,"$+",n=function(a){a=f(m,"Opal").$coerce_to(a,f(m,"String"),"to_str");
return this+a.$to_s()},n.$$arity=1);a.def(c,"$<=>",A=function(a){if(u(a["$respond_to?"]("to_str")))return a=a.$to_str().$to_s(),this>a?1:this<a?-1:0;a=a["$<=>"](this);return a===k?k:0<a?-1:0>a?1:0},A.$$arity=1);a.def(c,"$==",J=function(a){return a.$$is_string?this.toString()===a.toString():f(m,"Opal")["$respond_to?"](a,"to_str")?a["$=="](this):!1},J.$$arity=1);a.alias(c,"eql?","==");a.alias(c,"===","==");a.def(c,"$=~",E=function(a){a.$$is_string&&this.$raise(f(m,"TypeError"),"type mismatch: String given");
return a["$=~"](this)},E.$$arity=1);a.def(c,"$[]",L=function(a,c){var d=this.length;if(a.$$is_range){var g=a.excl;c=f(m,"Opal").$coerce_to(a.end,f(m,"Integer"),"to_int");a=f(m,"Opal").$coerce_to(a.begin,f(m,"Integer"),"to_int");if(Math.abs(a)>d)return k;0>a&&(a+=d);0>c&&(c+=d);g||(c+=1);c-=a;0>c&&(c=0);return this.$$cast(this.substr(a,c))}if(a.$$is_string)return null!=c&&this.$raise(f(m,"TypeError")),-1!==this.indexOf(a)?this.$$cast(a):k;if(a.$$is_regexp){d=this.match(a);if(null===d)return b["~"]=
k;b["~"]=f(m,"MatchData").$new(a,d);if(null==c)return this.$$cast(d[0]);c=f(m,"Opal").$coerce_to(c,f(m,"Integer"),"to_int");return 0>c&&-c<d.length?this.$$cast(d[c+d.length]):0<=c&&c<d.length?this.$$cast(d[c]):k}a=f(m,"Opal").$coerce_to(a,f(m,"Integer"),"to_int");0>a&&(a+=d);if(null==c)return a>=d||0>a?k:this.$$cast(this.substr(a,1));c=f(m,"Opal").$coerce_to(c,f(m,"Integer"),"to_int");return 0>c||a>d||0>a?k:this.$$cast(this.substr(a,c))},L.$$arity=-2);a.alias(c,"byteslice","[]");a.def(c,"$b",I=function(){return this.$force_encoding("binary")},
I.$$arity=0);a.def(c,"$capitalize",x=function(){return this.$$cast(this.charAt(0).toUpperCase()+this.substr(1).toLowerCase())},x.$$arity=0);a.def(c,"$casecmp",B=function(a){var b=this;if(!u(a["$respond_to?"]("to_str")))return k;a=f(m,"Opal").$coerce_to(a,f(m,"String"),"to_str").$to_s();var c=/^[\x00-\x7F]*$/;c.test(b)&&c.test(a)&&(b=b.toLowerCase(),a=a.toLowerCase());return b["$<=>"](a)},B.$$arity=1);a.def(c,"$casecmp?",G=function(a){a=this.$casecmp(a);return a===k?k:0===a},G.$$arity=1);a.def(c,"$center",
M=function(a,b){null==b&&(b=" ");a=f(m,"Opal").$coerce_to(a,f(m,"Integer"),"to_int");b=f(m,"Opal").$coerce_to(b,f(m,"String"),"to_str").$to_s();u(b["$empty?"]())&&this.$raise(f(m,"ArgumentError"),"zero width padding");if(u(a<=this.length))return this;var c=this.$ljust(p(r(a,this.length),2).$ceil(),b);a=this.$rjust(p(r(a,this.length),2).$floor(),b);return this.$$cast(a+c.slice(this.length))},M.$$arity=-2);a.def(c,"$chars",O=function(){var a=O.$$p,b=a||k;a&&(O.$$p=null);a&&(O.$$p=null);return u(b)?
q(this,"each_char",[],b.$to_proc()):this.$each_char().$to_a()},O.$$arity=0);a.def(c,"$chomp",F=function(a){null==b["/"]&&(b["/"]=k);null==a&&(a=b["/"]);if(u(a===k||0===this.length))return this;a=f(m,"Opal")["$coerce_to!"](a,f(m,"String"),"to_str").$to_s();var c;"\n"===a?c=this.replace(/\r?\n?$/,""):""===a?c=this.replace(/(\r?\n)+$/,""):this.length>=a.length&&this.substr(this.length-a.length,a.length)===a&&(c=this.substr(0,this.length-a.length));return null!=c?this.$$cast(c):this},F.$$arity=-1);a.def(c,
"$chop",P=function(){var a=this.length;a=1>=a?"":"\n"===this.charAt(a-1)&&"\r"===this.charAt(a-2)?this.substr(0,a-2):this.substr(0,a-1);return this.$$cast(a)},P.$$arity=0);a.def(c,"$chr",Q=function(){return this.charAt(0)},Q.$$arity=0);a.def(c,"$clone",K=function(){var a=new String(this);a.$copy_singleton_methods(this);a.$initialize_clone(this);return a},K.$$arity=0);a.def(c,"$dup",N=function(){var a=new String(this);a.$initialize_dup(this);return a},N.$$arity=0);a.def(c,"$count",S=function(b){var c=
a.slice.call(arguments,0,arguments.length);0===c.length&&this.$raise(f(m,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");c=w(c);return null===c?0:this.length-this.replace(new RegExp(c,"g"),"").length},S.$$arity=-1);a.def(c,"$delete",T=function(b){var c=a.slice.call(arguments,0,arguments.length);0===c.length&&this.$raise(f(m,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");c=w(c);return null===c?this:this.$$cast(this.replace(new RegExp(c,"g"),""))},T.$$arity=
-1);a.def(c,"$delete_prefix",ia=function(a){a.$$is_string||(a=f(m,"Opal").$coerce_to(a,f(m,"String"),"to_str"));return this.slice(0,a.length)===a?this.$$cast(this.slice(a.length)):this},ia.$$arity=1);a.def(c,"$delete_suffix",U=function(a){a.$$is_string||(a=f(m,"Opal").$coerce_to(a,f(m,"String"),"to_str"));return this.slice(this.length-a.length)===a?this.$$cast(this.slice(0,this.length-a.length)):this},U.$$arity=1);a.def(c,"$downcase",ba=function(){return this.$$cast(this.toLowerCase())},ba.$$arity=
0);a.def(c,"$each_char",Y=function(){var b=Y.$$p,c=b||k,d;b&&(Y.$$p=null);b&&(Y.$$p=null);if(c===k)return q(this,"enum_for",["each_char"],(d=function(){return(null==d.$$s?this:d.$$s).$size()},d.$$s=this,d.$$arity=0,d));b=0;for(var f=this.length;b<f;b++)a.yield1(c,this.charAt(b));return this},Y.$$arity=0);a.def(c,"$each_line",V=function(c){var d=V.$$p,g=d||k;null==b["/"]&&(b["/"]=k);d&&(V.$$p=null);d&&(V.$$p=null);null==c&&(c=b["/"]);if(g===k)return this.$enum_for("each_line",c);if(c===k)return a.yield1(g,
this),this;c=f(m,"Opal").$coerce_to(c,f(m,"String"),"to_str");var e,h;if(0===c.length){c=this.split(/(\n{2,})/);d=0;for(e=c.length;d<e;d+=2)(c[d]||c[d+1])&&a.yield1(g,this.$$cast((c[d]||"")+(c[d+1]||"")));return this}d=this.$chomp(c);e=this.length!=d.length;var n=d.split(c);d=0;for(h=n.length;d<h;d++)d<h-1||e?a.yield1(g,this.$$cast(n[d]+c)):a.yield1(g,this.$$cast(n[d]));return this},V.$$arity=-1);a.def(c,"$empty?",ca=function(){return 0===this.length},ca.$$arity=0);a.def(c,"$end_with?",ma=function(b){var c=
a.slice.call(arguments,0,arguments.length);for(var d=0,g=c.length;d<g;d++){var e=f(m,"Opal").$coerce_to(c[d],f(m,"String"),"to_str").$to_s();if(this.length>=e.length&&this.substr(this.length-e.length,e.length)==e)return!0}return!1},ma.$$arity=-1);a.alias(c,"equal?","===");a.def(c,"$gsub",ja=function(c,d){var g=ja.$$p,e=g||k,h=this;g&&(ja.$$p=null);g&&(ja.$$p=null);if(void 0===d&&e===k)return h.$enum_for("gsub",c);g="";var n=k,q=0;c.$$is_regexp?c=a.global_multiline_regexp(c):(c=f(m,"Opal").$coerce_to(c,
f(m,"String"),"to_str"),c=new RegExp(c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(var t;;){var w=c.exec(h);if(null===w){b["~"]=k;g+=h.slice(q);break}n=f(m,"MatchData").$new(c,w);if(void 0===d){t=c.lastIndex;var p=e(w[0]);c.lastIndex=t}else d.$$is_hash?p=d["$[]"](w[0]).$to_s():(d.$$is_string||(d=f(m,"Opal").$coerce_to(d,f(m,"String"),"to_str")),p=d.replace(/([\\]+)([0-9+&`'])/g,function(a,b,c){if(0===b.length%2)return a;switch(c){case "+":for(a=w.length-1;0<a;a--)if(void 0!==w[a])return b.slice(1)+
w[a];return"";case "&":return b.slice(1)+w[0];case "`":return b.slice(1)+h.slice(0,w.index);case "'":return b.slice(1)+h.slice(w.index+w[0].length);default:return b.slice(1)+(w[c]||"")}}).replace(/\\\\/g,"\\"));c.lastIndex===w.index?(g+=p+h.slice(q,w.index+1),c.lastIndex+=1):g+=h.slice(q,w.index)+p;q=c.lastIndex}b["~"]=n;return h.$$cast(g)},ja.$$arity=-2);a.def(c,"$hash",la=function(){return this.toString()},la.$$arity=0);a.def(c,"$hex",ka=function(){return this.$to_i(16)},ka.$$arity=0);a.def(c,"$include?",
Z=function(a){a.$$is_string||(a=f(m,"Opal").$coerce_to(a,f(m,"String"),"to_str"));return-1!==this.indexOf(a)},Z.$$arity=1);a.def(c,"$index",da=function(c,d){var g;if(void 0===d)d=0;else if(d=f(m,"Opal").$coerce_to(d,f(m,"Integer"),"to_int"),0>d&&(d+=this.length,0>d))return k;if(c.$$is_regexp)for(g=a.global_multiline_regexp(c);;){c=g.exec(this);if(null===c){b["~"]=k;d=-1;break}if(c.index>=d){b["~"]=f(m,"MatchData").$new(g,c);d=c.index;break}g.lastIndex=c.index+1}else c=f(m,"Opal").$coerce_to(c,f(m,
"String"),"to_str"),d=0===c.length&&d>this.length?-1:this.indexOf(c,d);return-1===d?k:d},da.$$arity=-2);a.def(c,"$inspect",oa=function(){var a={"\u0007":"\\a","\u001b":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\x0B":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(b){return a[b]||"\\u"+("0000"+b.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/#[\$@\{]/g,
"\\$&")+'"'},oa.$$arity=0);a.def(c,"$intern",na=function(){return this.toString()},na.$$arity=0);a.def(c,"$lines",ea=function(a){var c=ea.$$p,d=c||k;null==b["/"]&&(b["/"]=k);c&&(ea.$$p=null);c&&(ea.$$p=null);null==a&&(a=b["/"]);a=q(this,"each_line",[a],d.$to_proc());return u(d)?this:a.$to_a()},ea.$$arity=-1);a.def(c,"$length",fa=function(){return this.length},fa.$$arity=0);a.def(c,"$ljust",ra=function(a,b){null==b&&(b=" ");a=f(m,"Opal").$coerce_to(a,f(m,"Integer"),"to_int");b=f(m,"Opal").$coerce_to(b,
f(m,"String"),"to_str").$to_s();u(b["$empty?"]())&&this.$raise(f(m,"ArgumentError"),"zero width padding");if(u(a<=this.length))return this;var c=-1,d="";for(a-=this.length;++c<a;)d+=b;return this.$$cast(this+d.slice(0,a))},ra.$$arity=-2);a.def(c,"$lstrip",sa=function(){return this.replace(/^\s*/,"")},sa.$$arity=0);a.def(c,"$ascii_only?",aa=function(){return this.$encoding()["$=="](d(f(m,"Encoding"),"UTF_16BE"))?!1:/^[\x00-\x7F]*$/.test(this)},aa.$$arity=0);a.def(c,"$match",W=function(a,b){var c=W.$$p,
d=c||k,g;c&&(W.$$p=null);c&&(W.$$p=null);u(u(g=f(m,"String")["$==="](a))?g:a["$respond_to?"]("to_str"))&&(a=f(m,"Regexp").$new(a.$to_str()));u(f(m,"Regexp")["$==="](a))||this.$raise(f(m,"TypeError"),"wrong argument type "+a.$class()+" (expected Regexp)");return q(a,"match",[this,b],d.$to_proc())},W.$$arity=-2);a.def(c,"$match?",xa=function(a,b){var c;u(u(c=f(m,"String")["$==="](a))?c:a["$respond_to?"]("to_str"))&&(a=f(m,"Regexp").$new(a.$to_str()));u(f(m,"Regexp")["$==="](a))||this.$raise(f(m,"TypeError"),
"wrong argument type "+a.$class()+" (expected Regexp)");return a["$match?"](this,b)},xa.$$arity=-2);a.def(c,"$next",va=function(){var a=this.length;if(0===a)return this.$$cast("");for(var b=this,c=this.search(/[a-zA-Z0-9]/),d,f;a--;){f=this.charCodeAt(a);if(48<=f&&57>=f||65<=f&&90>=f||97<=f&&122>=f)switch(f){case 57:d=!0;f=48;break;case 90:d=!0;f=65;break;case 122:d=!0;f=97;break;default:d=!1,f+=1}else-1===c?255===f?(d=!0,f=0):(d=!1,f+=1):d=!0;b=b.slice(0,a)+String.fromCharCode(f)+b.slice(a+1);if(d&&
(0===a||a===c)){switch(f){case 65:break;case 97:break;default:f+=1}b=0===a?String.fromCharCode(f)+b:b.slice(0,a)+String.fromCharCode(f)+b.slice(a);d=!1}if(!d)break}return this.$$cast(b)},va.$$arity=0);a.def(c,"$oct",pa=function(){var a=this;var b=8;if(/^\s*_/.test(a))return 0;a=a.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(a,c,d,f){switch(f.charAt(0)){case "+":case "-":return a;case "0":if("x"===f.charAt(1)&&"0x"===d)return a}switch(d){case "0b":b=2;break;case "0":case "0o":b=8;break;case "0d":b=
10;break;case "0x":b=16}return c+f});a=parseInt(a.replace(/_(?!_)/g,""),b);return isNaN(a)?0:a},pa.$$arity=0);a.def(c,"$ord",za=function(){return this.charCodeAt(0)},za.$$arity=0);a.def(c,"$partition",Aa=function(a){if(a.$$is_regexp){var b=a.exec(this);null===b?b=-1:(f(m,"MatchData").$new(a,b),a=b[0],b=b.index)}else a=f(m,"Opal").$coerce_to(a,f(m,"String"),"to_str"),b=this.indexOf(a);return-1===b?[this,"",""]:[this.slice(0,b),this.slice(b,b+a.length),this.slice(b+a.length)]},Aa.$$arity=1);a.def(c,
"$reverse",ta=function(){return this.split("").reverse().join("")},ta.$$arity=0);a.def(c,"$rindex",Da=function(c,d){if(void 0===d)d=this.length;else if(d=f(m,"Opal").$coerce_to(d,f(m,"Integer"),"to_int"),0>d&&(d+=this.length,0>d))return k;if(c.$$is_regexp){var g=null;for(c=a.global_multiline_regexp(c);;){var e=c.exec(this);if(null===e||e.index>d)break;g=e;c.lastIndex=g.index+1}null===g?(b["~"]=k,d=-1):(f(m,"MatchData").$new(c,g),d=g.index)}else c=f(m,"Opal").$coerce_to(c,f(m,"String"),"to_str"),d=
this.lastIndexOf(c,d);return-1===d?k:d},Da.$$arity=-2);a.def(c,"$rjust",Ea=function(a,b){null==b&&(b=" ");a=f(m,"Opal").$coerce_to(a,f(m,"Integer"),"to_int");b=f(m,"Opal").$coerce_to(b,f(m,"String"),"to_str").$to_s();u(b["$empty?"]())&&this.$raise(f(m,"ArgumentError"),"zero width padding");if(u(a<=this.length))return this;a=Math.floor(a-this.length);var c=Array(Math.floor(a/b.length)+1).join(b);return this.$$cast(c+b.slice(0,a-c.length)+this)},Ea.$$arity=-2);a.def(c,"$rpartition",Ba=function(b){var c;
if(b.$$is_regexp){var d=null;for(c=a.global_multiline_regexp(b);;){var g=c.exec(this);if(null===g)break;d=g;c.lastIndex=d.index+1}null===d?d=-1:(f(m,"MatchData").$new(c,d),b=d[0],d=d.index)}else b=f(m,"Opal").$coerce_to(b,f(m,"String"),"to_str"),d=this.lastIndexOf(b);return-1===d?["","",this]:[this.slice(0,d),this.slice(d,d+b.length),this.slice(d+b.length)]},Ba.$$arity=1);a.def(c,"$rstrip",ua=function(){return this.replace(/[\s\u0000]*$/,"")},ua.$$arity=0);a.def(c,"$scan",ha=function(c){var d=ha.$$p,
g=d||k;d&&(ha.$$p=null);d&&(ha.$$p=null);d=[];var e=k,h;c.$$is_regexp?c=a.global_multiline_regexp(c):(c=f(m,"Opal").$coerce_to(c,f(m,"String"),"to_str"),c=new RegExp(c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;null!=(h=c.exec(this));)e=f(m,"MatchData").$new(c,h),g===k?1==h.length?d.push(h[0]):d.push(e.$captures()):1==h.length?g(h[0]):g.call(this,e.$captures()),c.lastIndex===h.index&&(c.lastIndex+=1);b["~"]=e;return g!==k?this:d},ha.$$arity=1);a.alias(c,"size","length");a.alias(c,"slice","[]");
a.def(c,"$split",qa=function(c,d){function g(){for(q=0;q<n.length;q++)n[q]=h.$$cast(n[q])}var e,h=this;null==b[";"]&&(b[";"]=k);if(0===h.length)return[];if(void 0===d)d=0;else if(d=f(m,"Opal")["$coerce_to!"](d,f(m,"Integer"),"to_int"),1===d)return[h];if(void 0===c||c===k)c=u(e=b[";"])?e:" ";var n=[];e=h.toString();var w=0,q;c.$$is_regexp?c=a.global_multiline_regexp(c):(c=f(m,"Opal").$coerce_to(c,f(m,"String"),"to_str").$to_s()," "===c?(c=/\s+/gm,e=e.replace(/^\s+/,"")):c=new RegExp(c.replace(/[.*+?^${}()|[\]\\]/g,
"\\$&"),"gm"));n=e.split(c);if(1===n.length&&n[0]===e)return[h.$$cast(n[0])];for(;-1!==(q=n.indexOf(void 0));)n.splice(q,1);if(0===d){for(;""===n[n.length-1];)--n.length;g();return n}var t=c.exec(e);if(0>d){if(null!==t&&""===t[0]&&-1===c.source.indexOf("(?="))for(q=0,c=t.length;q<c;q++)n.push("");g();return n}if(null!==t&&""===t[0])return n.splice(d-1,n.length-1,n.slice(d-1).join("")),g(),n;if(d>=n.length)return g(),n;for(q=0;null!==t;){q++;w=c.lastIndex;if(q+1===d)break;t=c.exec(e)}n.splice(d-1,
n.length-1,e.slice(w));g();return n},qa.$$arity=-1);a.def(c,"$squeeze",X=function(b){var c=a.slice.call(arguments,0,arguments.length);if(0===c.length)return this.$$cast(this.replace(/(.)\1+/g,"$1"));c=w(c);return null===c?this:this.$$cast(this.replace(new RegExp("("+c+")\\1+","g"),"$1"))},X.$$arity=-1);a.def(c,"$start_with?",ya=function(b){var c=a.slice.call(arguments,0,arguments.length);for(var d=0,g=c.length;d<g;d++){var e=f(m,"Opal").$coerce_to(c[d],f(m,"String"),"to_str").$to_s();if(0===this.indexOf(e))return!0}return!1},
ya.$$arity=-1);a.def(c,"$strip",wa=function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},wa.$$arity=0);a.def(c,"$sub",Fa=function(a,c){var d=Fa.$$p,g=d||k,e=this;d&&(Fa.$$p=null);d&&(Fa.$$p=null);a.$$is_regexp||(a=f(m,"Opal").$coerce_to(a,f(m,"String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var h=a.exec(e);null===h?(b["~"]=k,a=e.toString()):(f(m,"MatchData").$new(a,h),void 0===c?(g===k&&e.$raise(f(m,"ArgumentError"),"wrong number of arguments (1 for 2)"),
a=e.slice(0,h.index)+g(h[0])+e.slice(h.index+h[0].length)):c.$$is_hash?a=e.slice(0,h.index)+c["$[]"](h[0]).$to_s()+e.slice(h.index+h[0].length):(c=f(m,"Opal").$coerce_to(c,f(m,"String"),"to_str"),c=c.replace(/([\\]+)([0-9+&`'])/g,function(a,b,c){if(0===b.length%2)return a;switch(c){case "+":for(a=h.length-1;0<a;a--)if(void 0!==h[a])return b.slice(1)+h[a];return"";case "&":return b.slice(1)+h[0];case "`":return b.slice(1)+e.slice(0,h.index);case "'":return b.slice(1)+e.slice(h.index+h[0].length);default:return b.slice(1)+
(h[c]||"")}}).replace(/\\\\/g,"\\"),a=e.slice(0,h.index)+c+e.slice(h.index+h[0].length)));return e.$$cast(a)},Fa.$$arity=-2);a.alias(c,"succ","next");a.def(c,"$sum",Ia=function(a){null==a&&(a=16);a=f(m,"Opal").$coerce_to(a,f(m,"Integer"),"to_int");for(var b=0,c=this.length,d=0;d<c;d++)b+=this.charCodeAt(d);return 0>=a?b:b&Math.pow(2,a)-1},Ia.$$arity=-1);a.def(c,"$swapcase",Ga=function(){var a=this.replace(/([a-z]+)|([A-Z]+)/g,function(a,b,c){return b?a.toUpperCase():a.toLowerCase()});return this.constructor===
String?a:this.$class().$new(a)},Ga.$$arity=0);a.def(c,"$to_f",Oa=function(){if("_"===this.charAt(0))return 0;var a=parseFloat(this.replace(/_/g,""));return isNaN(a)||Infinity==a||-Infinity==a?0:a},Oa.$$arity=0);a.def(c,"$to_i",Pa=function(a){null==a&&(a=10);var b=this.toLowerCase(),c=f(m,"Opal").$coerce_to(a,f(m,"Integer"),"to_int");(1===c||0>c||36<c)&&this.$raise(f(m,"ArgumentError"),"invalid radix "+c);if(/^\s*_/.test(b))return 0;b=b.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(a,b,d,f){switch(f.charAt(0)){case "+":case "-":return a;
case "0":if("x"===f.charAt(1)&&"0x"===d&&(0===c||16===c))return a}switch(d){case "0b":if(0===c||2===c)return c=2,b+f;break;case "0":case "0o":if(0===c||8===c)return c=8,b+f;break;case "0d":if(0===c||10===c)return c=10,b+f;break;case "0x":if(0===c||16===c)return c=16,b+f}return a});a=parseInt(b.replace(/_(?!_)/g,""),c);return isNaN(a)?0:a},Pa.$$arity=-1);a.def(c,"$to_proc",Ka=function(){var b,c=k;Ka.$$p&&(Ka.$$p=null);c=r("$",this.valueOf());return q(this,"proc",[],(b=function(d){var g=null==b.$$s?
this:b.$$s,e=b.$$p,h=e||k;e&&(b.$$p=null);e=a.slice.call(arguments,0,arguments.length);0===e.length&&g.$raise(f(m,"ArgumentError"),"no receiver given");g=e[0];null==g&&(g=k);var n=g[c];if(!n)return g.$method_missing.apply(g,e);"function"===typeof h&&(n.$$p=h);return 1===e.length?n.call(g):n.apply(g,e.slice(1))},b.$$s=this,b.$$arity=-1,b))},Ka.$$arity=0);a.def(c,"$to_s",Ca=function(){return this.toString()},Ca.$$arity=0);a.alias(c,"to_str","to_s");a.alias(c,"to_sym","intern");a.def(c,"$tr",Ha=function(a,
b){a=f(m,"Opal").$coerce_to(a,f(m,"String"),"to_str").$to_s();b=f(m,"Opal").$coerce_to(b,f(m,"String"),"to_str").$to_s();if(0==a.length||a===b)return this;var c={};var d=a.split("");var g=d.length,e=b.split(""),h=e.length;a=!1;var n=null;"^"===d[0]&&1<d.length&&(a=!0,d.shift(),n=e[h-1],--g);var q=[];var t=null;var w=!1;for(b=0;b<g;b++){var k=d[b];if(null==t)t=k,q.push(k);else if("-"===k)"-"===t?(q.push("-"),q.push("-")):b==g-1?q.push("-"):w=!0;else if(w){t=t.charCodeAt(0);w=k.charCodeAt(0);t>w&&this.$raise(f(m,
"ArgumentError"),'invalid range "'+String.fromCharCode(t)+"-"+String.fromCharCode(w)+'" in string transliteration');for(t+=1;t<w;t++)q.push(String.fromCharCode(t));q.push(k);t=w=null}else q.push(k)}d=q;g=d.length;if(a)for(b=0;b<g;b++)c[d[b]]=!0;else{if(0<h){q=[];t=null;w=!1;for(b=0;b<h;b++)if(k=e[b],null==t)t=k,q.push(k);else if("-"===k)"-"===t?(q.push("-"),q.push("-")):b==h-1?q.push("-"):w=!0;else if(w){t=t.charCodeAt(0);w=k.charCodeAt(0);t>w&&this.$raise(f(m,"ArgumentError"),'invalid range "'+String.fromCharCode(t)+
"-"+String.fromCharCode(w)+'" in string transliteration');for(t+=1;t<w;t++)q.push(String.fromCharCode(t));q.push(k);t=w=null}else q.push(k);e=q;h=e.length}k=g-h;if(0<k)for(h=0<h?e[h-1]:"",b=0;b<k;b++)e.push(h);for(b=0;b<g;b++)c[d[b]]=e[b]}g="";b=0;for(d=this.length;b<d;b++)k=this.charAt(b),e=c[k],g=a?g+(null==e?n:k):g+(null!=e?e:k);return this.$$cast(g)},Ha.$$arity=2);a.def(c,"$tr_s",Qa=function(a,b){a=f(m,"Opal").$coerce_to(a,f(m,"String"),"to_str").$to_s();b=f(m,"Opal").$coerce_to(b,f(m,"String"),
"to_str").$to_s();if(0==a.length)return this;var c={};var d=a.split("");var g=d.length,e=b.split(""),h=e.length;a=!1;var n=null;"^"===d[0]&&1<d.length&&(a=!0,d.shift(),n=e[h-1],--g);var q=[];var t=null;var k=!1;for(b=0;b<g;b++){var w=d[b];if(null==t)t=w,q.push(w);else if("-"===w)"-"===t?(q.push("-"),q.push("-")):b==g-1?q.push("-"):k=!0;else if(k){t=t.charCodeAt(0);k=w.charCodeAt(0);t>k&&this.$raise(f(m,"ArgumentError"),'invalid range "'+String.fromCharCode(t)+"-"+String.fromCharCode(k)+'" in string transliteration');
for(t+=1;t<k;t++)q.push(String.fromCharCode(t));q.push(w);t=k=null}else q.push(w)}d=q;g=d.length;if(a)for(b=0;b<g;b++)c[d[b]]=!0;else{if(0<h){q=[];k=!1;for(b=0;b<h;b++)if(w=e[b],null==t)t=w,q.push(w);else if("-"===w)b==h-1?q.push("-"):k=!0;else if(k){t=t.charCodeAt(0);k=w.charCodeAt(0);t>k&&this.$raise(f(m,"ArgumentError"),'invalid range "'+String.fromCharCode(t)+"-"+String.fromCharCode(k)+'" in string transliteration');for(t+=1;t<k;t++)q.push(String.fromCharCode(t));q.push(w);t=k=null}else q.push(w);
e=q;h=e.length}w=g-h;if(0<w)for(h=0<h?e[h-1]:"",b=0;b<w;b++)e.push(h);for(b=0;b<g;b++)c[d[b]]=e[b]}g="";e=null;b=0;for(d=this.length;b<d;b++)if(w=this.charAt(b),h=c[w],a)null==h?null==e&&(g+=n,e=!0):(g+=w,e=null);else if(null!=h){if(null==e||e!==h)g+=h,e=h}else g+=w,e=null;return this.$$cast(g)},Qa.$$arity=2);a.def(c,"$upcase",Ra=function(){return this.$$cast(this.toUpperCase())},Ra.$$arity=0);a.def(c,"$upto",Ja=function(a,b){var c=Ja.$$p,d=c||k;c&&(Ja.$$p=null);c&&(Ja.$$p=null);null==b&&(b=!1);if(d===
k)return this.$enum_for("upto",a,b);a=f(m,"Opal").$coerce_to(a,f(m,"String"),"to_str");c=this.toString();if(1===c.length&&1===a.length)for(c=c.charCodeAt(0),a=a.charCodeAt(0);c<=a&&(!b||c!==a);)d(String.fromCharCode(c)),c+=1;else if(parseInt(c,10).toString()===c&&parseInt(a,10).toString()===a)for(c=parseInt(c,10),a=parseInt(a,10);c<=a&&(!b||c!==a);)d(c.toString()),c+=1;else for(;c.length<=a.length&&c<=a&&(!b||c!==a);)d(c),c=c.$succ();return this},Ja.$$arity=-2);a.def(c,"$instance_variables",Ma=function(){return[]},
Ma.$$arity=0);a.defs(c,"$_load",Sa=function(b){var c=a.slice.call(arguments,0,arguments.length);return q(this,"new",a.to_a(c))},Sa.$$arity=-1);a.def(c,"$unicode_normalize",Ta=function(a){return this.toString()},Ta.$$arity=-1);a.def(c,"$unicode_normalized?",Ua=function(a){return!0},Ua.$$arity=-1);a.def(c,"$unpack",Va=function(a){return this.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")},Va.$$arity=1);return(a.def(c,"$unpack1",Na=function(a){return this.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")},
Na.$$arity=1),k)&&"unpack1"})(h[0],String,h);return a.const_set(h[0],"Symbol",f(h,"String"))};
Opal.modules["corelib/enumerable"]=function(a){function p(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}var k=[],d=a.nil,f=a.$$$,g=a.$$,u=a.module,q=a.truthy,b=a.send,z=a.falsy,l=a.hash2,w=a.lambda;a.add_stubs("$each $public_send $destructure $to_enum $enumerator_size $new $yield $raise $slice_when $! $enum_for $flatten $map $warn $proc $== $nil? $respond_to? $coerce_to! $> $* $coerce_to $try_convert $< $+ $- $ceil $/ $size $__send__ $length $<= $[] $push $<< $[]= $=== $inspect $<=> $first $reverse $sort $to_proc $take $sort_by $compare $call $dup $to_a $sort! $map! $key? $values $coerce_to? $class $zip".split(" "));
return function(k,c){function m(a){0===a.length&&(a=[d]);1<a.length&&(a=[a]);return a}k=u(k,"Enumerable");var y=[k].concat(c),t,v,H,R,D,n,A,C,E,L,I,x,B,G,M,O,F,P,Q,K,N,S,T,ia,U,ba,Y,V,ca,ma,ja,la,ka,Z,da,oa,na,ea,fa,ra,sa,aa,W,xa,va,pa,za,Aa,ta;a.def(k,"$all?",t=function(c){try{var f=t.$$p,e=f||d,l,h,k;f&&(t.$$p=null);f&&(t.$$p=null);q(void 0!==c)?b(this,"each",[],(l=function(f){var g=a.slice.call(arguments,0,arguments.length);g=m(g);if(q(b(c,"public_send",["==="].concat(a.to_a(g)))))return d;a.ret(!1)},
l.$$s=this,l.$$arity=-1,l)):e!==d?b(this,"each",[],(h=function(b){var c=a.slice.call(arguments,0,arguments.length);if(q(a.yieldX(e,a.to_a(c))))return d;a.ret(!1)},h.$$s=this,h.$$arity=-1,h)):b(this,"each",[],(k=function(b){var c=a.slice.call(arguments,0,arguments.length);if(q(g(y,"Opal").$destructure(c)))return d;a.ret(!1)},k.$$s=this,k.$$arity=-1,k));return!0}catch(X){if(X===a.returner)return X.$v;throw X;}},t.$$arity=-1);a.def(k,"$any?",v=function(c){try{var f=v.$$p,e=f||d,l,h,k;f&&(v.$$p=null);
f&&(v.$$p=null);q(void 0!==c)?b(this,"each",[],(l=function(f){var g=a.slice.call(arguments,0,arguments.length);g=m(g);if(q(b(c,"public_send",["==="].concat(a.to_a(g)))))a.ret(!0);else return d},l.$$s=this,l.$$arity=-1,l)):e!==d?b(this,"each",[],(h=function(b){var c=a.slice.call(arguments,0,arguments.length);if(q(a.yieldX(e,a.to_a(c))))a.ret(!0);else return d},h.$$s=this,h.$$arity=-1,h)):b(this,"each",[],(k=function(b){var c=a.slice.call(arguments,0,arguments.length);if(q(g(y,"Opal").$destructure(c)))a.ret(!0);
else return d},k.$$s=this,k.$$arity=-1,k));return!1}catch(X){if(X===a.returner)return X.$v;throw X;}},v.$$arity=-1);a.def(k,"$chunk",H=function(){var c=H.$$p,g=c||d,e,l;c&&(H.$$p=null);c&&(H.$$p=null);return g===d?b(this,"to_enum",["chunk"],(e=function(){return(null==e.$$s?this:e.$$s).$enumerator_size()},e.$$s=this,e.$$arity=0,e)):b(f("::","Enumerator"),"new",[],(l=function(b){function c(){0<h.length&&b.$yield(e,h)}var f=null==l.$$s?this:l.$$s;null==b&&(b=d);var e=d,h=[];f.$each.$$p=function(b){var f=
a.yield1(g,b);f===d?(c(),h=[],e=d):(e===d||e===f?h.push(b):(c(),h=[b]),e=f)};f.$each();c()},l.$$s=this,l.$$arity=1,l))},H.$$arity=0);a.def(k,"$chunk_while",R=function(){var c=R.$$p,f=c||d,e;c&&(R.$$p=null);c&&(R.$$p=null);f===d&&this.$raise(g(y,"ArgumentError"),"no block given");return b(this,"slice_when",[],(e=function(b,c){null==b&&(b=d);null==c&&(c=d);return a.yieldX(f,[b,c])["$!"]()},e.$$s=this,e.$$arity=2,e))},R.$$arity=0);a.def(k,"$collect",D=function(){var c=D.$$p,f=c||d,g;c&&(D.$$p=null);
c&&(D.$$p=null);if(f===d)return b(this,"enum_for",["collect"],(g=function(){return(null==g.$$s?this:g.$$s).$enumerator_size()},g.$$s=this,g.$$arity=0,g));var e=[];this.$each.$$p=function(){var b=a.yieldX(f,arguments);e.push(b)};this.$each();return e},D.$$arity=0);a.def(k,"$collect_concat",n=function(){var c=n.$$p,f=c||d,g,e;c&&(n.$$p=null);c&&(n.$$p=null);return f===d?b(this,"enum_for",["collect_concat"],(g=function(){return(null==g.$$s?this:g.$$s).$enumerator_size()},g.$$s=this,g.$$arity=0,g)):b(this,
"map",[],(e=function(b){null==b&&(b=d);return a.yield1(f,b)},e.$$s=this,e.$$arity=1,e)).$flatten(1)},n.$$arity=0);a.def(k,"$count",A=function(c){var f=A.$$p,e=f||d,l,h,k,m=d;f&&(A.$$p=null);f&&(A.$$p=null);m=0;null!=c&&e!==d&&this.$warn("warning: given block not used");q(null!=c)?e=b(this,"proc",[],(l=function(b){var d=a.slice.call(arguments,0,arguments.length);return g(y,"Opal").$destructure(d)["$=="](c)},l.$$s=this,l.$$arity=-1,l)):q(e["$nil?"]())&&(e=b(this,"proc",[],(h=function(){return!0},h.$$s=
this,h.$$arity=0,h)));b(this,"each",[],(k=function(b){var c=a.slice.call(arguments,0,arguments.length);return q(a.yieldX(e,c))?m++:d},k.$$s=this,k.$$arity=-1,k));return m},A.$$arity=-1);a.def(k,"$cycle",C=function(c){var e=C.$$p,l=e||d,h;e&&(C.$$p=null);e&&(C.$$p=null);null==c&&(c=d);if(l===d)return b(this,"enum_for",["cycle",c],(h=function(){var a=null==h.$$s?this:h.$$s;if(q(c["$nil?"]()))return q(a["$respond_to?"]("size"))?f(g(y,"Float"),"INFINITY"):d;c=g(y,"Opal")["$coerce_to!"](c,g(y,"Integer"),
"to_int");return q(p(c,0))?(a=a.$enumerator_size(),"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)):0},h.$$s=this,h.$$arity=0,h));if(!q(c["$nil?"]())&&(c=g(y,"Opal")["$coerce_to!"](c,g(y,"Integer"),"to_int"),q(0>=c)))return d;var k=[],m;this.$each.$$p=function(){var b=g(y,"Opal").$destructure(arguments);a.yield1(l,b);k.push(b)};this.$each();if(0===k.length)return d;if(c===d)for(;;)for(e=0,m=k.length;e<m;e++)a.yield1(l,k[e]);else for(;1<c;){e=0;for(m=k.length;e<m;e++)a.yield1(l,k[e]);c--}},
C.$$arity=-1);a.def(k,"$detect",E=function(c){try{var f=E.$$p,e=f||d,l;f&&(E.$$p=null);f&&(E.$$p=null);if(e===d)return this.$enum_for("detect",c);b(this,"each",[],(l=function(b){var c=a.slice.call(arguments,0,arguments.length);c=g(y,"Opal").$destructure(c);if(q(a.yield1(e,c)))a.ret(c);else return d},l.$$s=this,l.$$arity=-1,l));return void 0!==c?"function"===typeof c?c():c:d}catch(ha){if(ha===a.returner)return ha.$v;throw ha;}},E.$$arity=-1);a.def(k,"$drop",L=function(a){a=g(y,"Opal").$coerce_to(a,
g(y,"Integer"),"to_int");q(0>a)&&this.$raise(g(y,"ArgumentError"),"attempt to drop negative size");var b=[],c=0;this.$each.$$p=function(){a<=c&&b.push(g(y,"Opal").$destructure(arguments));c++};this.$each();return b},L.$$arity=1);a.def(k,"$drop_while",I=function(){var b=I.$$p,c=b||d;b&&(I.$$p=null);b&&(I.$$p=null);if(c===d)return this.$enum_for("drop_while");var f=[],e=!0;this.$each.$$p=function(){var b=g(y,"Opal").$destructure(arguments);if(e){var d=a.yield1(c,b);z(d)&&(e=!1,f.push(b))}else f.push(b)};
this.$each();return f},I.$$arity=0);a.def(k,"$each_cons",x=function(c){var f=x.$$p,l=f||d,h;f&&(x.$$p=null);f&&(x.$$p=null);q(1!=arguments.length)&&this.$raise(g(y,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)");c=g(y,"Opal").$try_convert(c,g(y,"Integer"),"to_int");q(0>=c)&&this.$raise(g(y,"ArgumentError"),"invalid size");if(l===d)return b(this,"enum_for",["each_cons",c],(h=function(){var a;var b=(null==h.$$s?this:h.$$s).$enumerator_size();return q(b["$nil?"]())?d:q(q(a=
b["$=="](0))?a:"number"===typeof b&&"number"===typeof c?b<c:b["$<"](c))?0:r(e(b,c),1)},h.$$s=this,h.$$arity=0,h));var k=[];this.$each.$$p=function(){var b=g(y,"Opal").$destructure(arguments);k.push(b);k.length>c&&k.shift();k.length==c&&a.yield1(l,k.slice(0,c))};this.$each();return d},x.$$arity=1);a.def(k,"$each_entry",B=function(c){var f=B.$$p,e=f||d,l;f&&(B.$$p=null);f&&(B.$$p=null);f=a.slice.call(arguments,0,arguments.length);if(e===d)return b(this,"to_enum",["each_entry"].concat(a.to_a(f)),(l=
function(){return(null==l.$$s?this:l.$$s).$enumerator_size()},l.$$s=this,l.$$arity=0,l));this.$each.$$p=function(){var b=g(y,"Opal").$destructure(arguments);a.yield1(e,b)};this.$each.apply(this,f);return this},B.$$arity=-1);a.def(k,"$each_slice",G=function(c){var f=G.$$p,e=f||d,l;f&&(G.$$p=null);f&&(G.$$p=null);c=g(y,"Opal").$coerce_to(c,g(y,"Integer"),"to_int");q(0>=c)&&this.$raise(g(y,"ArgumentError"),"invalid slice size");if(e===d)return b(this,"enum_for",["each_slice",c],(l=function(){var a=null==
l.$$s?this:l.$$s;return q(a["$respond_to?"]("size"))?(a=a.$size(),("number"===typeof a&&"number"===typeof c?a/c:a["$/"](c)).$ceil()):d},l.$$s=this,l.$$arity=0,l));var h=[];this.$each.$$p=function(){var b=g(y,"Opal").$destructure(arguments);h.push(b);h.length===c&&(a.yield1(e,h),h=[])};this.$each();0<h.length&&a.yield1(e,h);return d},G.$$arity=1);a.def(k,"$each_with_index",M=function(c){var f=M.$$p,e=f||d,l;f&&(M.$$p=null);f&&(M.$$p=null);f=a.slice.call(arguments,0,arguments.length);if(e===d)return b(this,
"enum_for",["each_with_index"].concat(a.to_a(f)),(l=function(){return(null==l.$$s?this:l.$$s).$enumerator_size()},l.$$s=this,l.$$arity=0,l));var h=0;this.$each.$$p=function(){var a=g(y,"Opal").$destructure(arguments);e(a,h);h++};this.$each.apply(this,f);return this},M.$$arity=-1);a.def(k,"$each_with_object",O=function(a){var c=O.$$p,f=c||d,e;c&&(O.$$p=null);c&&(O.$$p=null);if(f===d)return b(this,"enum_for",["each_with_object",a],(e=function(){return(null==e.$$s?this:e.$$s).$enumerator_size()},e.$$s=
this,e.$$arity=0,e));this.$each.$$p=function(){var b=g(y,"Opal").$destructure(arguments);f(b,a)};this.$each();return a},O.$$arity=1);a.def(k,"$entries",F=function(b){var c=a.slice.call(arguments,0,arguments.length);var d=[];this.$each.$$p=function(){d.push(g(y,"Opal").$destructure(arguments))};this.$each.apply(this,c);return d},F.$$arity=-1);a.alias(k,"find","detect");a.def(k,"$find_all",P=function(){var c=P.$$p,f=c||d,e;c&&(P.$$p=null);c&&(P.$$p=null);if(f===d)return b(this,"enum_for",["find_all"],
(e=function(){return(null==e.$$s?this:e.$$s).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var l=[];this.$each.$$p=function(){var b=g(y,"Opal").$destructure(arguments),c=a.yield1(f,b);q(c)&&l.push(b)};this.$each();return l},P.$$arity=0);a.def(k,"$find_index",Q=function(c){try{var f=Q.$$p,e=f||d,l,h,k=d;f&&(Q.$$p=null);f&&(Q.$$p=null);if(q(void 0===c&&e===d))return this.$enum_for("find_index");null!=c&&e!==d&&this.$warn("warning: given block not used");k=0;q(null!=c)?b(this,"each",[],(l=function(b){var d=
a.slice.call(arguments,0,arguments.length);g(y,"Opal").$destructure(d)["$=="](c)&&a.ret(k);return k+=1},l.$$s=this,l.$$arity=-1,l)):b(this,"each",[],(h=function(b){var c=a.slice.call(arguments,0,arguments.length);q(a.yieldX(e,a.to_a(c)))&&a.ret(k);return k+=1},h.$$s=this,h.$$arity=-1,h));return d}catch(X){if(X===a.returner)return X.$v;throw X;}},Q.$$arity=-1);a.def(k,"$first",K=function(c){try{var f,e,l=d,h=d;if(q(void 0===c))return b(this,"each",[],(f=function(b){null==b&&(b=d);a.ret(b)},f.$$s=this,
f.$$arity=1,f));l=[];c=g(y,"Opal").$coerce_to(c,g(y,"Integer"),"to_int");q(0>c)&&this.$raise(g(y,"ArgumentError"),"attempt to take negative size");if(q(0==c))return[];h=0;b(this,"each",[],(e=function(b){var f=a.slice.call(arguments,0,arguments.length);l.push(g(y,"Opal").$destructure(f));if(q(c<=++h))a.ret(l);else return d},e.$$s=this,e.$$arity=-1,e));return l}catch(qa){if(qa===a.returner)return qa.$v;throw qa;}},K.$$arity=-1);a.alias(k,"flat_map","collect_concat");a.def(k,"$grep",N=function(c){var f=
N.$$p,g=f||d,e,l=d;f&&(N.$$p=null);f&&(N.$$p=null);l=[];b(this,"each",[],(e=function(f){var e=a.slice.call(arguments,0,arguments.length);var k=m(e);if(!q(b(c,"__send__",["==="].concat(a.to_a(k)))))return d;g!==d?(q(p(e.$length(),1))&&(e=[e]),e=a.yieldX(g,a.to_a(e))):q(h(e.$length(),1))&&(e=e["$[]"](0));return l.$push(e)},e.$$s=this,e.$$arity=-1,e));return l},N.$$arity=1);a.def(k,"$grep_v",S=function(c){var f=S.$$p,g=f||d,e,l=d;f&&(S.$$p=null);f&&(S.$$p=null);l=[];b(this,"each",[],(e=function(f){var e=
a.slice.call(arguments,0,arguments.length);var k=m(e);if(q(b(c,"__send__",["==="].concat(a.to_a(k)))))return d;g!==d?(q(p(e.$length(),1))&&(e=[e]),e=a.yieldX(g,a.to_a(e))):q(h(e.$length(),1))&&(e=e["$[]"](0));return l.$push(e)},e.$$s=this,e.$$arity=-1,e));return l},S.$$arity=1);a.def(k,"$group_by",T=function(){var c=T.$$p,f=c||d,h,k,m=d,n=d;c&&(T.$$p=null);c&&(T.$$p=null);if(f===d)return b(this,"enum_for",["group_by"],(h=function(){return(null==h.$$s?this:h.$$s).$enumerator_size()},h.$$s=this,h.$$arity=
0,h));m=l([],{});this.$each.$$p=function(){var c=g(y,"Opal").$destructure(arguments),d=a.yield1(f,c);(q(k=m["$[]"](d))?k:(n=[d,[]],b(m,"[]=",a.to_a(n)),n[e(n.length,1)]))["$<<"](c)};this.$each();return m},T.$$arity=0);a.def(k,"$include?",ia=function(c){try{var f;b(this,"each",[],(f=function(b){var f=a.slice.call(arguments,0,arguments.length);if(g(y,"Opal").$destructure(f)["$=="](c))a.ret(!0);else return d},f.$$s=this,f.$$arity=-1,f));return!1}catch(Ba){if(Ba===a.returner)return Ba.$v;throw Ba;}},
ia.$$arity=1);a.def(k,"$inject",U=function(b,c){var f=U.$$p,e=f||d;f&&(U.$$p=null);f&&(U.$$p=null);var l=b;e!==d&&void 0===c?this.$each.$$p=function(){var b=g(y,"Opal").$destructure(arguments);void 0!==l&&(b=a.yieldX(e,[l,b]));l=b}:(void 0===c&&(g(y,"Symbol")["$==="](b)||this.$raise(g(y,"TypeError"),""+b.$inspect()+" is not a Symbol"),c=b,l=void 0),this.$each.$$p=function(){var a=g(y,"Opal").$destructure(arguments);l=void 0===l?a:l.$__send__(c,a)});this.$each();return void 0==l?d:l},U.$$arity=-1);
a.def(k,"$lazy",ba=function(){var c;return b(f(g(y,"Enumerator"),"Lazy"),"new",[this,this.$enumerator_size()],(c=function(c,f){null==c&&(c=d);var g=a.slice.call(arguments,1,arguments.length);return b(c,"yield",a.to_a(g))},c.$$s=this,c.$$arity=-2,c))},ba.$$arity=0);a.def(k,"$enumerator_size",Y=function(){return q(this["$respond_to?"]("size"))?this.$size():d},Y.$$arity=0);a.alias(k,"map","collect");a.def(k,"$max",V=function(c){var f=V.$$p,e=f||d,l=this;f&&(V.$$p=null);f&&(V.$$p=null);if(void 0===c||
c===d){var h,k;l.$each.$$p=function(){var b=g(y,"Opal").$destructure(arguments);void 0===h?h=b:(k=e!==d?a.yieldX(e,[b,h]):b["$<=>"](h),k===d&&l.$raise(g(y,"ArgumentError"),"comparison failed"),0<k&&(h=b))};l.$each();return void 0===h?d:h}c=g(y,"Opal").$coerce_to(c,g(y,"Integer"),"to_int");return b(l,"sort",[],e.$to_proc()).$reverse().$first(c)},V.$$arity=-1);a.def(k,"$max_by",ca=function(c){var f=ca.$$p,e=f||d,l;f&&(ca.$$p=null);f&&(ca.$$p=null);null==c&&(c=d);if(!q(e))return b(this,"enum_for",["max_by",
c],(l=function(){return(null==l.$$s?this:l.$$s).$enumerator_size()},l.$$s=this,l.$$arity=0,l));if(!q(c["$nil?"]()))return b(this,"sort_by",[],e.$to_proc()).$reverse().$take(c);var h,k;this.$each.$$p=function(){var b=g(y,"Opal").$destructure(arguments),c=a.yield1(e,b);void 0===h?(h=b,k=c):0<c["$<=>"](k)&&(h=b,k=c)};this.$each();return void 0===h?d:h},ca.$$arity=-1);a.alias(k,"member?","include?");a.def(k,"$min",ma=function(c){var f=ma.$$p,e=f||d,l,h=this;f&&(ma.$$p=null);f&&(ma.$$p=null);null==c&&
(c=d);if(!q(c["$nil?"]()))return e!==d?b(h,"sort",[],(l=function(b,c){null==b&&(b=d);null==c&&(c=d);return a.yieldX(e,[b,c])},l.$$s=h,l.$$arity=2,l)).$take(c):h.$sort().$take(c);var k;h.$each.$$p=e!==d?function(){var a=g(y,"Opal").$destructure(arguments);if(void 0===k)k=a;else{var b=e(a,k);b===d&&h.$raise(g(y,"ArgumentError"),"comparison failed");0>b&&(k=a)}}:function(){var a=g(y,"Opal").$destructure(arguments);void 0===k?k=a:0>g(y,"Opal").$compare(a,k)&&(k=a)};h.$each();return void 0===k?d:k},ma.$$arity=
-1);a.def(k,"$min_by",ja=function(c){var f=ja.$$p,e=f||d,l;f&&(ja.$$p=null);f&&(ja.$$p=null);null==c&&(c=d);if(!q(e))return b(this,"enum_for",["min_by",c],(l=function(){return(null==l.$$s?this:l.$$s).$enumerator_size()},l.$$s=this,l.$$arity=0,l));if(!q(c["$nil?"]()))return b(this,"sort_by",[],e.$to_proc()).$take(c);var h,k;this.$each.$$p=function(){var b=g(y,"Opal").$destructure(arguments),c=a.yield1(e,b);void 0===h?(h=b,k=c):0>c["$<=>"](k)&&(h=b,k=c)};this.$each();return void 0===h?d:h},ja.$$arity=
-1);a.def(k,"$minmax",la=function(){var a=la.$$p,c=a||d,f,e,l=this;a&&(la.$$p=null);a&&(la.$$p=null);c=q(f=c)?f:b(l,"proc",[],(e=function(a,b){null==a&&(a=d);null==b&&(b=d);return a["$<=>"](b)},e.$$s=l,e.$$arity=2,e));var h=d,k=d,m=!0;l.$each.$$p=function(){var a=g(y,"Opal").$destructure(arguments);if(m)h=k=a,m=!1;else{var b=c.$call(h,a);b===d?l.$raise(g(y,"ArgumentError"),"comparison failed"):0<b&&(h=a);b=c.$call(k,a);b===d?l.$raise(g(y,"ArgumentError"),"comparison failed"):0>b&&(k=a)}};l.$each();
return[h,k]},la.$$arity=0);a.def(k,"$minmax_by",ka=function(){var c=ka.$$p,f=c||d,e;c&&(ka.$$p=null);c&&(ka.$$p=null);if(!q(f))return b(this,"enum_for",["minmax_by"],(e=function(){return(null==e.$$s?this:e.$$s).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var l=d,h=d,k,m;this.$each.$$p=function(){var b=g(y,"Opal").$destructure(arguments),c=a.yield1(f,b);if(void 0===k||0>c["$<=>"](k))l=b,k=c;if(void 0===m||0<c["$<=>"](m))h=b,m=c};this.$each();return[l,h]},ka.$$arity=0);a.def(k,"$none?",Z=function(c){try{var f=
Z.$$p,e=f||d,l,h,k;f&&(Z.$$p=null);f&&(Z.$$p=null);q(void 0!==c)?b(this,"each",[],(l=function(f){var e=a.slice.call(arguments,0,arguments.length);e=m(e);if(q(b(c,"public_send",["==="].concat(a.to_a(e)))))a.ret(!1);else return d},l.$$s=this,l.$$arity=-1,l)):e!==d?b(this,"each",[],(h=function(b){var c=a.slice.call(arguments,0,arguments.length);if(q(a.yieldX(e,a.to_a(c))))a.ret(!1);else return d},h.$$s=this,h.$$arity=-1,h)):b(this,"each",[],(k=function(b){var c=a.slice.call(arguments,0,arguments.length);
c=g(y,"Opal").$destructure(c);if(q(c))a.ret(!1);else return d},k.$$s=this,k.$$arity=-1,k));return!0}catch(X){if(X===a.returner)return X.$v;throw X;}},Z.$$arity=-1);a.def(k,"$one?",da=function(c){try{var f=da.$$p,e=f||d,l,h,k,n=d;f&&(da.$$p=null);f&&(da.$$p=null);n=0;q(void 0!==c)?b(this,"each",[],(l=function(f){var e=a.slice.call(arguments,0,arguments.length);e=m(e);if(q(b(c,"public_send",["==="].concat(a.to_a(e)))))if(n=r(n,1),q(p(n,1)))a.ret(!1);else return d;else return d},l.$$s=this,l.$$arity=
-1,l)):e!==d?b(this,"each",[],(h=function(b){var c=a.slice.call(arguments,0,arguments.length);if(!q(a.yieldX(e,a.to_a(c))))return d;n=r(n,1);if(q(p(n,1)))a.ret(!1);else return d},h.$$s=this,h.$$arity=-1,h)):b(this,"each",[],(k=function(b){var c=a.slice.call(arguments,0,arguments.length);if(!q(g(y,"Opal").$destructure(c)))return d;n=r(n,1);if(q(p(n,1)))a.ret(!1);else return d},k.$$s=this,k.$$arity=-1,k));return n["$=="](1)}catch(ya){if(ya===a.returner)return ya.$v;throw ya;}},da.$$arity=-1);a.def(k,
"$partition",oa=function(){var c=oa.$$p,f=c||d,e;c&&(oa.$$p=null);c&&(oa.$$p=null);if(f===d)return b(this,"enum_for",["partition"],(e=function(){return(null==e.$$s?this:e.$$s).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var l=[],h=[];this.$each.$$p=function(){var b=g(y,"Opal").$destructure(arguments),c=a.yield1(f,b);q(c)?l.push(b):h.push(b)};this.$each();return[l,h]},oa.$$arity=0);a.alias(k,"reduce","inject");a.def(k,"$reject",na=function(){var c=na.$$p,f=c||d,e;c&&(na.$$p=null);c&&(na.$$p=null);
if(f===d)return b(this,"enum_for",["reject"],(e=function(){return(null==e.$$s?this:e.$$s).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var l=[];this.$each.$$p=function(){var b=g(y,"Opal").$destructure(arguments),c=a.yield1(f,b);z(c)&&l.push(b)};this.$each();return l},na.$$arity=0);a.def(k,"$reverse_each",ea=function(){var c=ea.$$p,f=c||d,e;c&&(ea.$$p=null);c&&(ea.$$p=null);if(f===d)return b(this,"enum_for",["reverse_each"],(e=function(){return(null==e.$$s?this:e.$$s).$enumerator_size()},e.$$s=this,
e.$$arity=0,e));var g=[];this.$each.$$p=function(){g.push(arguments)};this.$each();for(c=g.length-1;0<=c;c--)a.yieldX(f,g[c]);return g},ea.$$arity=0);a.alias(k,"select","find_all");a.def(k,"$slice_before",fa=function(c){var f=fa.$$p,e=f||d,l;f&&(fa.$$p=null);f&&(fa.$$p=null);q(void 0===c&&e===d)&&this.$raise(g(y,"ArgumentError"),"both pattern and block are given");q(void 0!==c&&e!==d||1<arguments.length)&&this.$raise(g(y,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)");
return b(g(y,"Enumerator"),"new",[],(l=function(b){var f=null==l.$$s?this:l.$$s;null==b&&(b=d);var h=[];f.$each.$$p=e!==d?void 0===c?function(){var c=g(y,"Opal").$destructure(arguments),d=a.yield1(e,c);q(d)&&0<h.length&&(b["$<<"](h),h=[]);h.push(c)}:function(){var a=g(y,"Opal").$destructure(arguments),d=e(a,c.$dup());q(d)&&0<h.length&&(b["$<<"](h),h=[]);h.push(a)}:function(){var a=g(y,"Opal").$destructure(arguments),d=c["$==="](a);q(d)&&0<h.length&&(b["$<<"](h),h=[]);h.push(a)};f.$each();if(0<h.length)b["$<<"](h)},
l.$$s=this,l.$$arity=1,l))},fa.$$arity=-1);a.def(k,"$slice_after",ra=function(c){var f=ra.$$p,e=f||d,l,h;f&&(ra.$$p=null);f&&(ra.$$p=null);q(void 0===c&&e===d)&&this.$raise(g(y,"ArgumentError"),"both pattern and block are given");q(void 0!==c&&e!==d||1<arguments.length)&&this.$raise(g(y,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)");q(void 0!==c)&&(e=b(this,"proc",[],(l=function(a){null==a&&(a=d);return c["$==="](a)},l.$$s=this,l.$$arity=1,l)));return b(g(y,"Enumerator"),
"new",[],(h=function(b){var c=null==h.$$s?this:h.$$s;null==b&&(b=d);var f;c.$each.$$p=function(){var c=g(y,"Opal").$destructure(arguments),d=a.yield1(e,c);null==f&&(f=[]);q(d)?(f.push(c),b.$yield(f),f=null):f.push(c)};c.$each();null!=f&&b.$yield(f)},h.$$s=this,h.$$arity=1,h))},ra.$$arity=-1);a.def(k,"$slice_when",sa=function(){var c=sa.$$p,f=c||d,e;c&&(sa.$$p=null);c&&(sa.$$p=null);f===d&&this.$raise(g(y,"ArgumentError"),"wrong number of arguments (0 for 1)");return b(g(y,"Enumerator"),"new",[],(e=
function(b){var c=null==e.$$s?this:e.$$s;null==b&&(b=d);var l=d,h=d;c.$each_cons.$$p=function(){var c=g(y,"Opal").$destructure(arguments),e=c[0];c=c[1];var k=a.yieldX(f,[e,c]);h=c;l===d&&(l=[]);q(k)?(l.push(e),b.$yield(l),l=[]):l.push(e)};c.$each_cons(2);l!==d&&(l.push(h),b.$yield(l))},e.$$s=this,e.$$arity=1,e))},sa.$$arity=0);a.def(k,"$sort",aa=function(){var a=aa.$$p,c=a||d,f,e=d;a&&(aa.$$p=null);a&&(aa.$$p=null);e=this.$to_a();c===d&&(c=w((f=function(a,b){null==a&&(a=d);null==b&&(b=d);return a["$<=>"](b)},
f.$$s=this,f.$$arity=2,f)));return b(e,"sort",[],c.$to_proc())},aa.$$arity=0);a.def(k,"$sort_by",W=function(){var c=W.$$p,f=c||d,e,l,h,k,m=d;c&&(W.$$p=null);c&&(W.$$p=null);if(f===d)return b(this,"enum_for",["sort_by"],(e=function(){return(null==e.$$s?this:e.$$s).$enumerator_size()},e.$$s=this,e.$$arity=0,e));m=b(this,"map",[],(l=function(){var b=g(y,"Opal").$destructure(arguments);return[a.yield1(f,b),b]},l.$$s=this,l.$$arity=0,l));b(m,"sort!",[],(h=function(a,b){null==a&&(a=d);null==b&&(b=d);return a[0]["$<=>"](b[0])},
h.$$s=this,h.$$arity=2,h));return b(m,"map!",[],(k=function(a){null==a&&(a=d);return a[1]},k.$$s=this,k.$$arity=1,k))},W.$$arity=0);a.def(k,"$sum",xa=function(c){var f,e=xa.$$p,l=e||d,h=d;e&&(xa.$$p=null);null==c&&(c=0);h=c;b(this,"each",[],(f=function(b){var c=a.slice.call(arguments,0,arguments.length);c=l!==d?a.yieldX(l,a.to_a(c)):g(y,"Opal").$destructure(c);return h=r(h,c)},f.$$s=this,f.$$arity=-1,f));return h},xa.$$arity=-1);a.def(k,"$take",va=function(a){return this.$first(a)},va.$$arity=1);
a.def(k,"$take_while",pa=function(){try{var c=pa.$$p,f=c||d,e,l=d;c&&(pa.$$p=null);c&&(pa.$$p=null);if(!q(f))return this.$enum_for("take_while");l=[];return b(this,"each",[],(e=function(b){var c=a.slice.call(arguments,0,arguments.length);c=g(y,"Opal").$destructure(c);q(a.yield1(f,c))||a.ret(l);return l.push(c)},e.$$s=this,e.$$arity=-1,e))}catch(ha){if(ha===a.returner)return ha.$v;throw ha;}},pa.$$arity=0);a.def(k,"$uniq",za=function(){var c=za.$$p,f=c||d,h,k=d;c&&(za.$$p=null);c&&(za.$$p=null);k=
l([],{});b(this,"each",[],(h=function(c){var l=a.slice.call(arguments,0,arguments.length);l=g(y,"Opal").$destructure(l);var h=f!==d?a.yield1(f,l):l;if(q(k["$key?"](h)))return d;l=[h,l];b(k,"[]=",a.to_a(l));return l[e(l.length,1)]},h.$$s=this,h.$$arity=-1,h));return k.$values()},za.$$arity=0);a.alias(k,"to_a","entries");a.def(k,"$to_h",Aa=function(b){var c=this;var d=a.slice.call(arguments,0,arguments.length);var f=l([],{});c.$each.$$p=function(){var b=g(y,"Opal").$destructure(arguments);b=g(y,"Opal")["$coerce_to?"](b,
g(y,"Array"),"to_ary");b.$$is_array||c.$raise(g(y,"TypeError"),"wrong element type "+b.$class()+" (expected array)");2!==b.length&&c.$raise(g(y,"ArgumentError"),"wrong array length (expected 2, was "+b.$length()+")");a.hash_put(f,b[0],b[1])};c.$each.apply(c,d);return f},Aa.$$arity=-1);a.def(k,"$zip",ta=function(c){var d=ta.$$p;d&&(ta.$$p=null);d&&(ta.$$p=null);d=a.slice.call(arguments,0,arguments.length);return b(this.$to_a(),"zip",a.to_a(d))},ta.$$arity=-1)}(k[0],k)};
Opal.modules["corelib/enumerator"]=function(a){function p(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var e=a.top,h=[],k=a.nil,d=a.$$,f=a.breaker,g=a.slice,u=a.klass,q=a.truthy,b=a.send,z=a.falsy;a.add_stubs("$require $include $allocate $new $to_proc $! $respond_to? $coerce_to $nil? $empty? $+ $class $__send__ $call $enum_for $size $destructure $inspect $any? $[] $raise $yield $each $enumerator_size $try_convert $< $=== $for".split(" "));
e.$require("corelib/enumerable");return function(e,$super,h){e=u(e,$super,"Enumerator");var c=[e].concat(h),l,y,t,v,H,C,D;e.$$prototype.size=e.$$prototype.args=e.$$prototype.object=e.$$prototype.method=k;e.$include(d(c,"Enumerable"));e.$$prototype.$$is_enumerator=!0;a.defs(e,"$for",l=function(b,c,d){var f=l.$$p,e=f||k;f&&(l.$$p=null);f&&(l.$$p=null);f=a.slice.call(arguments,1,arguments.length);if(0<f.length){var g=f[0];f.splice(0,1)}null==g&&(g="each");var h=this.$allocate();h.object=b;h.size=e;h.method=
g;h.args=f;return h},l.$$arity=-2);a.def(e,"$initialize",y=function(f){var e=y.$$p,l=e||k,h;e&&(y.$$p=null);e&&(y.$$p=null);a.slice.call(arguments,0,arguments.length);if(q(l))return this.object=b(d(c,"Generator"),"new",[],l.$to_proc()),this.method="each",this.args=[],this.size=arguments[0]||k,q(q(h=this.size)?this.size["$respond_to?"]("call")["$!"]():h)?this.size=d(c,"Opal").$coerce_to(this.size,d(c,"Integer"),"to_int"):k;this.object=arguments[0];this.method=arguments[1]||"each";this.args=g.call(arguments,
2);return this.size=k},y.$$arity=-1);a.def(e,"$each",t=function(c){var d=t.$$p,f=d||k,e;d&&(t.$$p=null);d&&(t.$$p=null);d=a.slice.call(arguments,0,arguments.length);if(q(q(e=f["$nil?"]())?d["$empty?"]():e))return this;d=p(this.args,d);return q(f["$nil?"]())?b(this.$class(),"new",[this.object,this.method].concat(a.to_a(d))):b(this.object,"__send__",[this.method].concat(a.to_a(d)),f.$to_proc())},t.$$arity=-1);a.def(e,"$size",v=function(){return q(this.size["$respond_to?"]("call"))?b(this.size,"call",
a.to_a(this.args)):this.size},v.$$arity=0);a.def(e,"$with_index",H=function(a){var f=H.$$p,e=f||k,g;f&&(H.$$p=null);f&&(H.$$p=null);null==a&&(a=0);a=q(a)?d(c,"Opal").$coerce_to(a,d(c,"Integer"),"to_int"):0;if(!q(e))return b(this,"enum_for",["with_index",a],(g=function(){return(null==g.$$s?this:g.$$s).$size()},g.$$s=this,g.$$arity=0,g));var l=a;this.$each.$$p=function(){var a=d(c,"Opal").$destructure(arguments);a=e(a,l);l++;return a};return this.$each()},H.$$arity=-1);a.alias(e,"with_object","each_with_object");
a.def(e,"$each_with_index",C=function(){var c=C.$$p,d=c||k,f,e=k,g=k,l=k;c&&(C.$$p=null);g=0;l=arguments.length;for(e=Array(l);g<l;g++)e[g]=arguments[g];c&&(C.$$p=null);if(d===k)return b(this,"enum_for",["each_with_index"],(f=function(){return(null==f.$$s?this:f.$$s).$size()},f.$$s=this,f.$$arity=0,f));b(this,a.find_super_dispatcher(this,"each_with_index",C,!1),e,c);return this.object},C.$$arity=0);a.def(e,"$inspect",D=function(){var a="#<"+this.$class()+": "+this.object.$inspect()+":"+this.method;
q(this.args["$any?"]())&&(a=p(a,"("+this.args.$inspect()["$[]"](d(c,"Range").$new(1,-2))+")"));return p(a,">")},D.$$arity=0);(function(c,$super,e){c=u(c,$super,"Generator");var g=[c].concat(e),l,h;c.$$prototype.block=k;c.$include(d(g,"Enumerable"));a.def(c,"$initialize",l=function(){var a=l.$$p,b=a||k;a&&(l.$$p=null);a&&(l.$$p=null);q(b)||this.$raise(d(g,"LocalJumpError"),"no block given");return this.block=b},l.$$arity=0);return(a.def(c,"$each",h=function(c){var e=h.$$p,l=e||k;e&&(h.$$p=null);e&&
(h.$$p=null);e=a.slice.call(arguments,0,arguments.length);l=b(d(g,"Yielder"),"new",[],l.$to_proc());try{e.unshift(l),a.yieldX(this.block,e)}catch(M){if(M===f)return f.$v;throw M;}return this},h.$$arity=-1),k)&&"each"})(c[0],null,c);(function(c,$super,d){c=u(c,$super,"Yielder");[c].concat(d);var e,g,l;c.$$prototype.block=k;a.def(c,"$initialize",e=function(){var a=e.$$p,b=a||k;a&&(e.$$p=null);a&&(e.$$p=null);return this.block=b},e.$$arity=0);a.def(c,"$yield",g=function(b){var c=a.slice.call(arguments,
0,arguments.length);c=a.yieldX(this.block,c);if(c===f)throw f;return c},g.$$arity=-1);return(a.def(c,"$<<",l=function(c){var d=a.slice.call(arguments,0,arguments.length);b(this,"yield",a.to_a(d));return this},l.$$arity=-1),k)&&"<<"})(c[0],null,c);return function(c,$super,f){c=u(c,$super,"Lazy");var e=[c].concat(f),g,l,h,m,t,n,v,y,H,C,K,N,D;c.$$prototype.enumerator=k;(function(a,$super,b){[u(a,$super,"StopLazyError")].concat(b);return k})(e[0],d(e,"Exception"),e);a.def(c,"$initialize",g=function(c,
f){var l=g.$$p,h=l||k,m;l&&(g.$$p=null);l&&(g.$$p=null);null==f&&(f=k);h===k&&this.$raise(d(e,"ArgumentError"),"tried to call lazy new without a block");this.enumerator=c;return b(this,a.find_super_dispatcher(this,"initialize",g,!1),[f],(m=function(f,g){var l=null==m.$$s?this:m.$$s,t;null==f&&(f=k);var n=a.slice.call(arguments,1,arguments.length);try{return b(c,"each",a.to_a(n),(t=function(b){var c=a.slice.call(arguments,0,arguments.length);c.unshift(f);a.yieldX(h,c)},t.$$s=l,t.$$arity=-1,t))}catch(ka){if(a.rescue(ka,
[d(e,"Exception")]))try{return k}finally{a.pop_exception()}else throw ka;}},m.$$s=this,m.$$arity=-2,m))},g.$$arity=-2);a.alias(c,"force","to_a");a.def(c,"$lazy",l=function(){return this},l.$$arity=0);a.def(c,"$collect",h=function(){var c=h.$$p,f=c||k,g;c&&(h.$$p=null);c&&(h.$$p=null);q(f)||this.$raise(d(e,"ArgumentError"),"tried to call lazy map without a block");return b(d(e,"Lazy"),"new",[this,this.$enumerator_size()],(g=function(b,c){null==b&&(b=k);var d=a.slice.call(arguments,1,arguments.length);
d=a.yieldX(f,d);b.$yield(d)},g.$$s=this,g.$$arity=-2,g))},h.$$arity=0);a.def(c,"$collect_concat",m=function(){var c=m.$$p,f=c||k,g;c&&(m.$$p=null);c&&(m.$$p=null);q(f)||this.$raise(d(e,"ArgumentError"),"tried to call lazy map without a block");return b(d(e,"Lazy"),"new",[this,k],(g=function(c,l){var h=null==g.$$s?this:g.$$s,m,t;null==c&&(c=k);var n=a.slice.call(arguments,1,arguments.length);n=a.yieldX(f,n);n["$respond_to?"]("force")&&n["$respond_to?"]("each")?b(n,"each",[],(m=function(a){null==a&&
(a=k);return c.$yield(a)},m.$$s=h,m.$$arity=1,m)):d(e,"Opal").$try_convert(n,d(e,"Array"),"to_ary")===k?c.$yield(n):b(n,"each",[],(t=function(a){null==a&&(a=k);return c.$yield(a)},t.$$s=h,t.$$arity=1,t))},g.$$s=this,g.$$arity=-2,g))},m.$$arity=0);a.def(c,"$drop",t=function(c){var f,g=k,l=g=k;c=d(e,"Opal").$coerce_to(c,d(e,"Integer"),"to_int");q(r(c,0))&&this.$raise(d(e,"ArgumentError"),"attempt to drop negative size");g=this.$enumerator_size();g=q(d(e,"Integer")["$==="](g))?q(r(c,g))?c:g:g;l=0;return b(d(e,
"Lazy"),"new",[this,g],(f=function(d,f){null==d&&(d=k);var e=a.slice.call(arguments,1,arguments.length);return q(r(l,c))?l=p(l,1):b(d,"yield",a.to_a(e))},f.$$s=this,f.$$arity=-2,f))},t.$$arity=1);a.def(c,"$drop_while",n=function(){var c=n.$$p,f=c||k,g,l=k;c&&(n.$$p=null);c&&(n.$$p=null);q(f)||this.$raise(d(e,"ArgumentError"),"tried to call lazy drop_while without a block");l=!0;return b(d(e,"Lazy"),"new",[this,k],(g=function(c,d){null==c&&(c=k);var e=a.slice.call(arguments,1,arguments.length);if(q(l)){var g=
a.yieldX(f,e);z(g)&&(l=!1,b(c,"yield",a.to_a(e)))}else return b(c,"yield",a.to_a(e))},g.$$s=this,g.$$arity=-2,g))},n.$$arity=0);a.def(c,"$enum_for",v=function(c,d){var f=v.$$p,e=f||k;f&&(v.$$p=null);f&&(v.$$p=null);f=a.slice.call(arguments,0,arguments.length);if(0<f.length){var g=f[0];f.splice(0,1)}null==g&&(g="each");return b(this.$class(),"for",[this,g].concat(a.to_a(f)),e.$to_proc())},v.$$arity=-1);a.def(c,"$find_all",y=function(){var c=y.$$p,f=c||k,g;c&&(y.$$p=null);c&&(y.$$p=null);q(f)||this.$raise(d(e,
"ArgumentError"),"tried to call lazy select without a block");return b(d(e,"Lazy"),"new",[this,k],(g=function(c,d){null==c&&(c=k);var e=a.slice.call(arguments,1,arguments.length);var g=a.yieldX(f,e);q(g)&&b(c,"yield",a.to_a(e))},g.$$s=this,g.$$arity=-2,g))},y.$$arity=0);a.alias(c,"flat_map","collect_concat");a.def(c,"$grep",H=function(c){var f=H.$$p,g=f||k,l,h;f&&(H.$$p=null);f&&(H.$$p=null);return q(g)?b(d(e,"Lazy"),"new",[this,k],(l=function(b,f){null==b&&(b=k);var l=a.slice.call(arguments,1,arguments.length);
l=d(e,"Opal").$destructure(l);var h=c["$==="](l);q(h)&&(a.yield1(g,l),b.$yield(a.yield1(g,l)))},l.$$s=this,l.$$arity=-2,l)):b(d(e,"Lazy"),"new",[this,k],(h=function(b,f){null==b&&(b=k);var g=a.slice.call(arguments,1,arguments.length);g=d(e,"Opal").$destructure(g);var l=c["$==="](g);q(l)&&b.$yield(g)},h.$$s=this,h.$$arity=-2,h))},H.$$arity=1);a.alias(c,"map","collect");a.alias(c,"select","find_all");a.def(c,"$reject",C=function(){var c=C.$$p,f=c||k,g;c&&(C.$$p=null);c&&(C.$$p=null);q(f)||this.$raise(d(e,
"ArgumentError"),"tried to call lazy reject without a block");return b(d(e,"Lazy"),"new",[this,k],(g=function(c,d){null==c&&(c=k);var e=a.slice.call(arguments,1,arguments.length);var g=a.yieldX(f,e);z(g)&&b(c,"yield",a.to_a(e))},g.$$s=this,g.$$arity=-2,g))},C.$$arity=0);a.def(c,"$take",K=function(c){var f,g=k,l=g=k;c=d(e,"Opal").$coerce_to(c,d(e,"Integer"),"to_int");q(r(c,0))&&this.$raise(d(e,"ArgumentError"),"attempt to take negative size");g=this.$enumerator_size();g=q(d(e,"Integer")["$==="](g))?
q(r(c,g))?c:g:g;l=0;return b(d(e,"Lazy"),"new",[this,g],(f=function(g,h){var m=null==f.$$s?this:f.$$s;null==g&&(g=k);var t=a.slice.call(arguments,1,arguments.length);return q(r(l,c))?(b(g,"yield",a.to_a(t)),l=p(l,1)):m.$raise(d(e,"StopLazyError"))},f.$$s=this,f.$$arity=-2,f))},K.$$arity=1);a.def(c,"$take_while",N=function(){var c=N.$$p,f=c||k,g;c&&(N.$$p=null);c&&(N.$$p=null);q(f)||this.$raise(d(e,"ArgumentError"),"tried to call lazy take_while without a block");return b(d(e,"Lazy"),"new",[this,k],
(g=function(c,l){var h=null==g.$$s?this:g.$$s;null==c&&(c=k);var m=a.slice.call(arguments,1,arguments.length);var t=a.yieldX(f,m);q(t)?b(c,"yield",a.to_a(m)):h.$raise(d(e,"StopLazyError"))},g.$$s=this,g.$$arity=-2,g))},N.$$arity=0);a.alias(c,"to_enum","enum_for");return(a.def(c,"$inspect",D=function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"},D.$$arity=0),k)&&"inspect"}(c[0],e,c)}(h[0],null,h)};
Opal.modules["corelib/numeric"]=function(a){function p(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}var k=a.top,d=[],f=a.nil,g=a.$$$,u=a.$$,q=a.klass,b=a.truthy,z=a.hash2;a.add_stubs("$require $include $instance_of? $class $Float $respond_to? $coerce $__send__ $=== $raise $equal? $- $* $div $< $-@ $ceil $to_f $denominator $to_r $== $floor $/ $% $Complex $zero? $numerator $abs $arg $coerce_to! $round $to_i $truncate $>".split(" "));
k.$require("corelib/comparable");return function(d,$super,k){d=q(d,$super,"Numeric");var c=[d].concat(k),l,y,t,v,H,C,D,n,A,J,E,L,I,x,B,G,M,O,F,P,Q,K,N,S,T,ia,U,ba,Y,V,ca,ma,ja,la,ka,Z,da;d.$include(u(c,"Comparable"));a.def(d,"$coerce",l=function(a){return b(a["$instance_of?"](this.$class()))?[a,this]:[this.$Float(a),this.$Float(this)]},l.$$arity=1);a.def(d,"$__coerced__",y=function(d,e){if(b(e["$respond_to?"]("coerce"))){e=e.$coerce(this);var g=a.to_ary(e);var l=null==g[0]?f:g[0];g=null==g[1]?f:g[1];
e;return l.$__send__(d,g)}return"+"["$==="](d)||"-"["$==="](d)||"*"["$==="](d)||"/"["$==="](d)||"%"["$==="](d)||"&"["$==="](d)||"|"["$==="](d)||"^"["$==="](d)||"**"["$==="](d)?this.$raise(u(c,"TypeError"),""+e.$class()+" can't be coerced into Numeric"):">"["$==="](d)||">="["$==="](d)||"<"["$==="](d)||"<="["$==="](d)||"<=>"["$==="](d)?this.$raise(u(c,"ArgumentError"),"comparison of "+this.$class()+" with "+e.$class()+" failed"):f},y.$$arity=2);a.def(d,"$<=>",t=function(a){return b(this["$equal?"](a))?
0:f},t.$$arity=1);a.def(d,"$+@",v=function(){return this},v.$$arity=0);a.def(d,"$-@",H=function(){return p(0,this)},H.$$arity=0);a.def(d,"$%",C=function(a){return p(this,r(a,this.$div(a)))},C.$$arity=1);a.def(d,"$abs",D=function(){return e(this,0)?this["$-@"]():this},D.$$arity=0);a.def(d,"$abs2",n=function(){return r(this,this)},n.$$arity=0);a.def(d,"$angle",A=function(){return e(this,0)?g(u(c,"Math"),"PI"):0},A.$$arity=0);a.alias(d,"arg","angle");a.def(d,"$ceil",J=function(a){null==a&&(a=0);return this.$to_f().$ceil(a)},
J.$$arity=-1);a.def(d,"$conj",E=function(){return this},E.$$arity=0);a.alias(d,"conjugate","conj");a.def(d,"$denominator",L=function(){return this.$to_r().$denominator()},L.$$arity=0);a.def(d,"$div",I=function(a){a["$=="](0)&&this.$raise(u(c,"ZeroDivisionError"),"divided by o");return h(this,a).$floor()},I.$$arity=1);a.def(d,"$divmod",x=function(a){return[this.$div(a),this["$%"](a)]},x.$$arity=1);a.def(d,"$fdiv",B=function(a){return h(this.$to_f(),a)},B.$$arity=1);a.def(d,"$floor",G=function(a){null==
a&&(a=0);return this.$to_f().$floor(a)},G.$$arity=-1);a.def(d,"$i",M=function(){return this.$Complex(0,this)},M.$$arity=0);a.def(d,"$imag",O=function(){return 0},O.$$arity=0);a.alias(d,"imaginary","imag");a.def(d,"$integer?",F=function(){return!1},F.$$arity=0);a.alias(d,"magnitude","abs");a.alias(d,"modulo","%");a.def(d,"$nonzero?",P=function(){return b(this["$zero?"]())?f:this},P.$$arity=0);a.def(d,"$numerator",Q=function(){return this.$to_r().$numerator()},Q.$$arity=0);a.alias(d,"phase","arg");
a.def(d,"$polar",K=function(){return[this.$abs(),this.$arg()]},K.$$arity=0);a.def(d,"$quo",N=function(a){return h(u(c,"Opal")["$coerce_to!"](this,u(c,"Rational"),"to_r"),a)},N.$$arity=1);a.def(d,"$real",S=function(){return this},S.$$arity=0);a.def(d,"$real?",T=function(){return!0},T.$$arity=0);a.def(d,"$rect",ia=function(){return[this,0]},ia.$$arity=0);a.alias(d,"rectangular","rect");a.def(d,"$round",U=function(a){return this.$to_f().$round(a)},U.$$arity=-1);a.def(d,"$to_c",ba=function(){return this.$Complex(this,
0)},ba.$$arity=0);a.def(d,"$to_int",Y=function(){return this.$to_i()},Y.$$arity=0);a.def(d,"$truncate",V=function(a){null==a&&(a=0);return this.$to_f().$truncate(a)},V.$$arity=-1);a.def(d,"$zero?",ca=function(){return this["$=="](0)},ca.$$arity=0);a.def(d,"$positive?",ma=function(){return"number"===typeof this?0<this:this["$>"](0)},ma.$$arity=0);a.def(d,"$negative?",ja=function(){return e(this,0)},ja.$$arity=0);a.def(d,"$dup",la=function(){return this},la.$$arity=0);a.def(d,"$clone",ka=function(b){if(null==
b)z([],{});else if(!b.$$is_hash)throw a.ArgumentError.$new("expected kwargs");return this},ka.$$arity=-1);a.def(d,"$finite?",Z=function(){return!0},Z.$$arity=0);return(a.def(d,"$infinite?",da=function(){return f},da.$$arity=0),f)&&"infinite?"}(d[0],null,d)};
Opal.modules["corelib/array"]=function(a){function p(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}var r=a.top,e=[],h=a.nil,k=a.$$$,d=a.$$,f=a.klass,g=a.truthy,u=a.hash2,q=a.send,b=a.gvars;a.add_stubs("$require $include $to_a $warn $raise $replace $respond_to? $to_ary $coerce_to $coerce_to? $=== $join $to_str $class $hash $<=> $== $object_id $inspect $enum_for $bsearch_index $to_proc $nil? $coerce_to! $> $* $enumerator_size $empty? $size $map $equal? $dup $each $[] $dig $eql? $length $begin $end $exclude_end? $flatten $__id__ $to_s $new $max $min $! $>= $** $delete_if $reverse $rotate $rand $at $keep_if $shuffle! $< $sort $sort_by $!= $times $[]= $- $<< $values $is_a? $last $first $upto $reject $pristine $singleton_class".split(" "));r.$require("corelib/enumerable");
r.$require("corelib/numeric");return function(e,$super,w){function r(b,c){return c.$$name===a.Array?b:c.$allocate().$replace(b.$to_a())}function c(b,c){var d=b.length;var f=c.excl;var e=a.Opal.$coerce_to(c.begin,a.Integer,"to_int");c=a.Opal.$coerce_to(c.end,a.Integer,"to_int");if(0>e&&(e+=d,0>e)||e>d)return h;if(0>c&&(c+=d,0>c))return[];f||(c+=1);d=b.slice(e,c);return r(d,b.$class())}function m(b,c,d){var f=b.length;c=a.Opal.$coerce_to(c,a.Integer,"to_int");if(0>c&&(c+=f,0>c))return h;if(void 0===
d)return c>=f||0>c?h:b[c];d=a.Opal.$coerce_to(d,a.Integer,"to_int");if(0>d||c>f||0>c)return h;c=b.slice(c,c+d);return r(c,b.$class())}function y(a,b){return a===b||0===b?1:0<b&&a>b?y(a-1,b-1)+y(a-1,b):0}var t=f(e,$super,"Array"),v=[t].concat(w),H,z,D,n,A,J,E,L,I,x,B,G,M,O,F,P,Q,K,N,S,T,ia,U,ba,Y,V,ca,ma,ja,la,ka,Z,da,oa,na,ea,fa,ra,sa,aa,W,xa,va,pa,za,Aa,ta,Da,Ea,Ba,ua,ha,qa,X,ya,wa,Fa,Ia,Ga,Oa,Pa,Ka,Ca,Ha,Qa,Ra,Ja,Ma,Sa,Ta,Ua,Va,Na,La,db,ib,jb,Ya,Za,$a,kb,ab,eb,fb,gb,Wa,Xa,hb,lb,bb,mb,cb,nb;t.$include(d(v,
"Enumerable"));a.defineProperty(t.$$prototype,"$$is_array",!0);a.defs(t,"$[]",H=function(b){var c=a.slice.call(arguments,0,arguments.length);return r(c,this)},H.$$arity=-1);a.def(t,"$initialize",z=function(a,b){var c=z.$$p,f=c||h;c&&(z.$$p=null);c&&(z.$$p=null);null==a&&(a=h);null==b&&(b=h);b!==h&&f!==h&&this.$warn("warning: block supersedes default value argument");a>k(d(v,"Integer"),"MAX")&&this.$raise(d(v,"ArgumentError"),"array size too big");2<arguments.length&&this.$raise(d(v,"ArgumentError"),
"wrong number of arguments ("+arguments.length+" for 0..2)");if(0===arguments.length)return this.splice(0,this.length),this;if(1===arguments.length){if(a.$$is_array)return this.$replace(a.$to_a()),this;if(a["$respond_to?"]("to_ary"))return this.$replace(a.$to_ary()),this}a=d(v,"Opal").$coerce_to(a,d(v,"Integer"),"to_int");0>a&&this.$raise(d(v,"ArgumentError"),"negative array size");this.splice(0,this.length);if(f===h)for(c=0;c<a;c++)this.push(b);else for(c=0,e;c<a;c++){var e=f(c);this[c]=e}return this},
z.$$arity=-1);a.defs(t,"$try_convert",D=function(a){return d(v,"Opal")["$coerce_to?"](a,d(v,"Array"),"to_ary")},D.$$arity=1);a.def(t,"$&",n=function(b){b=g(d(v,"Array")["$==="](b))?b.$to_a():d(v,"Opal").$coerce_to(b,d(v,"Array"),"to_ary").$to_a();var c=[],f=u([],{}),e;var h=0;for(e=b.length;h<e;h++)a.hash_put(f,b[h],!0);h=0;for(e=this.length;h<e;h++)b=this[h],void 0!==a.hash_delete(f,b)&&c.push(b);return c},n.$$arity=1);a.def(t,"$|",A=function(b){b=g(d(v,"Array")["$==="](b))?b.$to_a():d(v,"Opal").$coerce_to(b,
d(v,"Array"),"to_ary").$to_a();var c=u([],{}),f;var e=0;for(f=this.length;e<f;e++)a.hash_put(c,this[e],!0);e=0;for(f=b.length;e<f;e++)a.hash_put(c,b[e],!0);return c.$keys()},A.$$arity=1);a.def(t,"$*",J=function(a){if(g(a["$respond_to?"]("to_str")))return this.$join(a.$to_str());a=d(v,"Opal").$coerce_to(a,d(v,"Integer"),"to_int");g(0>a)&&this.$raise(d(v,"ArgumentError"),"negative argument");for(var b=[],c=this.$to_a(),f=0;f<a;f++)b=b.concat(c);return r(b,this.$class())},J.$$arity=1);a.def(t,"$+",E=
function(a){a=g(d(v,"Array")["$==="](a))?a.$to_a():d(v,"Opal").$coerce_to(a,d(v,"Array"),"to_ary").$to_a();return this.concat(a)},E.$$arity=1);a.def(t,"$-",L=function(b){b=g(d(v,"Array")["$==="](b))?b.$to_a():d(v,"Opal").$coerce_to(b,d(v,"Array"),"to_ary").$to_a();if(g(0===this.length))return[];if(g(0===b.length))return this.slice();var c=[],f=u([],{}),e;var h=0;for(e=b.length;h<e;h++)a.hash_put(f,b[h],!0);h=0;for(e=this.length;h<e;h++)b=this[h],void 0===a.hash_get(f,b)&&c.push(b);return c},L.$$arity=
1);a.def(t,"$<<",I=function(a){this.push(a);return this},I.$$arity=1);a.def(t,"$<=>",x=function(a){if(g(d(v,"Array")["$==="](a)))a=a.$to_a();else if(g(a["$respond_to?"]("to_ary")))a=a.$to_ary().$to_a();else return h;if(this.$hash()===a.$hash())return 0;for(var b=Math.min(this.length,a.length),c=0;c<b;c++){var f=this[c]["$<=>"](a[c]);if(0!==f)return f}return this.length["$<=>"](a.length)},x.$$arity=1);a.def(t,"$==",B=function(a){function b(a,f){var e;if(a===f)return!0;if(!f.$$is_array)return d(v,"Opal")["$respond_to?"](f,
"to_ary")?f["$=="](a):!1;a.$$constructor!==Array&&(a=a.$to_a());f.$$constructor!==Array&&(f=f.$to_a());if(a.length!==f.length)return!1;c[a.$object_id()]=!0;var g=0;for(e=a.length;g<e;g++){var h=a[g];var k=f[g];if(h.$$is_array){if(k.$$is_array&&k.length!==h.length||!c.hasOwnProperty(h.$object_id())&&!b(h,k))return!1}else if(!h["$=="](k))return!1}return!0}var c={};return b(this,a)},B.$$arity=1);a.def(t,"$[]",G=function(a,b){return a.$$is_range?c(this,a):m(this,a,b)},G.$$arity=-2);a.def(t,"$[]=",M=function(a,
b,c){var f=h;var e=this.length;if(g(d(v,"Range")["$==="](a))){f=g(d(v,"Array")["$==="](b))?b.$to_a():g(b["$respond_to?"]("to_ary"))?b.$to_ary().$to_a():[b];var k=a.excl;c=d(v,"Opal").$coerce_to(a.begin,d(v,"Integer"),"to_int");var m=d(v,"Opal").$coerce_to(a.end,d(v,"Integer"),"to_int");0>c&&(c+=e,0>c&&this.$raise(d(v,"RangeError"),""+a.$inspect()+" out of range"));0>m&&(m+=e);k||(m+=1);if(c>e)for(;e<c;e++)this[e]=h;0>m?this.splice.apply(this,[c,0].concat(f)):this.splice.apply(this,[c,m-c].concat(f))}else{g(void 0===
c)?m=1:(m=b,b=c,f=g(d(v,"Array")["$==="](b))?b.$to_a():g(b["$respond_to?"]("to_ary"))?b.$to_ary().$to_a():[b]);a=d(v,"Opal").$coerce_to(a,d(v,"Integer"),"to_int");m=d(v,"Opal").$coerce_to(m,d(v,"Integer"),"to_int");0>a&&(k=a,a+=e,0>a&&this.$raise(d(v,"IndexError"),"index "+k+" too small for array; minimum "+-this.length));0>m&&this.$raise(d(v,"IndexError"),"negative length ("+m+")");if(a>e)for(;e<a;e++)this[e]=h;void 0===c?this[a]=b:this.splice.apply(this,[a,m].concat(f))}return b},M.$$arity=-3);
a.def(t,"$any?",O=function(b){var c=O.$$p,d;c&&(O.$$p=null);var f=0;var e=arguments.length;for(d=Array(e);f<e;f++)d[f]=arguments[f];c&&(O.$$p=null);return 0===this.length?!1:q(this,a.find_super_dispatcher(this,"any?",O,!1),d,c)},O.$$arity=-1);a.def(t,"$assoc",F=function(a){for(var b=0,c=this.length,d;b<c;b++)if(d=this[b],d.length&&d[0]["$=="](a))return d;return h},F.$$arity=1);a.def(t,"$at",P=function(a){a=d(v,"Opal").$coerce_to(a,d(v,"Integer"),"to_int");0>a&&(a+=this.length);return 0>a||a>=this.length?
h:this[a]},P.$$arity=1);a.def(t,"$bsearch_index",Q=function(){var b=Q.$$p,c=b||h;b&&(Q.$$p=null);b&&(Q.$$p=null);if(c===h)return this.$enum_for("bsearch_index");b=0;for(var f=this.length,e,g,k=!1,m=h;b<f;){e=b+Math.floor((f-b)/2);g=this[e];g=a.yield1(c,g);if(!0===g)m=e,k=!0;else if(!1===g||g===h)k=!1;else if(g.$$is_number){if(0===g)return e;k=0>g}else this.$raise(d(v,"TypeError"),"wrong argument type "+g.$class()+" (must be numeric, true, false or nil)");k?f=e:b=e+1}return m},Q.$$arity=0);a.def(t,
"$bsearch",K=function(){var a=K.$$p,b=a||h;a&&(K.$$p=null);a&&(K.$$p=null);if(b===h)return this.$enum_for("bsearch");a=q(this,"bsearch_index",[],b.$to_proc());return null!=a&&a.$$is_number?this[a]:a},K.$$arity=0);a.def(t,"$cycle",N=function(b){var c=N.$$p,f=c||h,e,m;c&&(N.$$p=null);c&&(N.$$p=null);null==b&&(b=h);if(f===h)return q(this,"enum_for",["cycle",b],(e=function(){var a=null==e.$$s?this:e.$$s;if(g(b["$nil?"]()))return k(d(v,"Float"),"INFINITY");b=d(v,"Opal")["$coerce_to!"](b,d(v,"Integer"),
"to_int");return g(p(b,0))?(a=a.$enumerator_size(),"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)):0},e.$$s=this,e.$$arity=0,e));if(g(g(m=this["$empty?"]())?m:b["$=="](0)))return h;if(b===h)for(;;)for(c=0,m=this.length;c<m;c++)a.yield1(f,this[c]);else{b=d(v,"Opal")["$coerce_to!"](b,d(v,"Integer"),"to_int");if(0>=b)return this;for(;0<b;){c=0;for(m=this.length;c<m;c++)a.yield1(f,this[c]);b--}}return this},N.$$arity=-1);a.def(t,"$clear",S=function(){this.splice(0,this.length);return this},S.$$arity=
0);a.def(t,"$count",T=function(b){var c=T.$$p,d=c||h,f,e;c&&(T.$$p=null);var k=0;var m=arguments.length;for(e=Array(m);k<m;k++)e[k]=arguments[k];c&&(T.$$p=null);null==b&&(b=h);return g(g(f=b)?f:d)?q(this,a.find_super_dispatcher(this,"count",T,!1),e,c):this.$size()},T.$$arity=-1);a.def(t,"$initialize_copy",ia=function(a){return this.$replace(a)},ia.$$arity=1);a.def(t,"$collect",U=function(){var b=U.$$p,c=b||h,d;b&&(U.$$p=null);b&&(U.$$p=null);if(c===h)return q(this,"enum_for",["collect"],(d=function(){return(null==
d.$$s?this:d.$$s).$size()},d.$$s=this,d.$$arity=0,d));b=[];for(var f=0,e=this.length;f<e;f++){var g=a.yield1(c,this[f]);b.push(g)}return b},U.$$arity=0);a.def(t,"$collect!",ba=function(){var b=ba.$$p,c=b||h,d;b&&(ba.$$p=null);b&&(ba.$$p=null);if(c===h)return q(this,"enum_for",["collect!"],(d=function(){return(null==d.$$s?this:d.$$s).$size()},d.$$s=this,d.$$arity=0,d));b=0;for(var f=this.length;b<f;b++){var e=a.yield1(c,this[b]);this[b]=e}return this},ba.$$arity=0);a.def(t,"$combination",Y=function(b){var c,
f=Y.$$p,e=f||h,g=h;f&&(Y.$$p=null);g=d(v,"Opal")["$coerce_to!"](b,d(v,"Integer"),"to_int");if(e===h)return q(this,"enum_for",["combination",g],(c=function(){return y((null==c.$$s?this:c.$$s).length,g)},c.$$s=this,c.$$arity=0,c));if(0===g)a.yield1(e,[]);else if(1===g)for(f=0,b=this.length;f<b;f++)a.yield1(e,[this[f]]);else if(g===this.length)a.yield1(e,this.slice());else if(0<=g&&g<this.length){b=[];for(f=0;f<=g+1;f++)b.push(0);f=[];var k=0;var m=!1;for(b[0]=-1;!m;){for(f[k]=this[b[k+1]];k<g-1;)k++,
m=b[k+1]=b[k]+1,f[k]=this[m];a.yield1(e,f.slice());k++;do m=0===k,b[k]++,k--;while(b[k+1]+g===this.length+k+1)}}return this},Y.$$arity=1);a.def(t,"$repeated_combination",V=function(b){function c(b,d,f,e){if(f.length==b)b=f.slice(),a.yield1(g,b);else for(;d<e.length;d++)f.push(e[d]),c(b,d,f,e),f.pop()}var f,e=V.$$p,g=e||h,k=h;e&&(V.$$p=null);k=d(v,"Opal")["$coerce_to!"](b,d(v,"Integer"),"to_int");if(g===h)return q(this,"enum_for",["repeated_combination",k],(f=function(){return y((null==f.$$s?this:
f.$$s).length+k-1,k)},f.$$s=this,f.$$arity=0,f));0<=k&&c(k,0,[],this);return this},V.$$arity=1);a.def(t,"$compact",ca=function(){for(var a=[],b=0,c=this.length,d;b<c;b++)(d=this[b])!==h&&a.push(d);return a},ca.$$arity=0);a.def(t,"$compact!",ma=function(){for(var a=this.length,b=0,c=this.length;b<c;b++)this[b]===h&&(this.splice(b,1),c--,b--);return this.length===a?h:this},ma.$$arity=0);a.def(t,"$concat",ja=function(b){var c,f;var e=a.slice.call(arguments,0,arguments.length);e=q(e,"map",[],(c=function(a){var b=
null==c.$$s?this:c.$$s;null==a&&(a=h);a=g(d(v,"Array")["$==="](a))?a.$to_a():d(v,"Opal").$coerce_to(a,d(v,"Array"),"to_ary").$to_a();g(a["$equal?"](b))&&(a=a.$dup());return a},c.$$s=this,c.$$arity=1,c));q(e,"each",[],(f=function(a){var b=null==f.$$s?this:f.$$s;null==a&&(a=h);for(var c=0,d=a.length;c<d;c++)b.push(a[c])},f.$$s=this,f.$$arity=1,f));return this},ja.$$arity=-1);a.def(t,"$delete",la=function(b){var c=la.$$p,d=c||h;c&&(la.$$p=null);c=this.length;for(var f=0,e=c;f<e;f++)this[f]["$=="](b)&&
(this.splice(f,1),e--,f--);return this.length===c?d!==h?a.yieldX(d,[]):h:b},la.$$arity=1);a.def(t,"$delete_at",ka=function(a){a=d(v,"Opal").$coerce_to(a,d(v,"Integer"),"to_int");0>a&&(a+=this.length);if(0>a||a>=this.length)return h;var b=this[a];this.splice(a,1);return b},ka.$$arity=1);a.def(t,"$delete_if",Z=function(){var a=Z.$$p,b=a||h,c;a&&(Z.$$p=null);a&&(Z.$$p=null);if(b===h)return q(this,"enum_for",["delete_if"],(c=function(){return(null==c.$$s?this:c.$$s).$size()},c.$$s=this,c.$$arity=0,c));
a=0;for(var d=this.length,f;a<d;a++)f=b(this[a]),!1!==f&&f!==h&&(this.splice(a,1),d--,a--);return this},Z.$$arity=0);a.def(t,"$dig",da=function(b,c){var f=a.slice.call(arguments,1,arguments.length);var e=this["$[]"](b);if(e===h||0===f.length)return e;g(e["$respond_to?"]("dig"))||this.$raise(d(v,"TypeError"),""+e.$class()+" does not have #dig method");return q(e,"dig",a.to_a(f))},da.$$arity=-2);a.def(t,"$drop",oa=function(a){0>a&&this.$raise(d(v,"ArgumentError"));return this.slice(a)},oa.$$arity=1);
a.def(t,"$dup",na=function(){var b=na.$$p,c;b&&(na.$$p=null);var d=0;var f=arguments.length;for(c=Array(f);d<f;d++)c[d]=arguments[d];return this.$$class===a.Array&&this.$$class.$allocate.$$pristine&&this.$copy_instance_variables.$$pristine&&this.$initialize_dup.$$pristine?this.slice(0):q(this,a.find_super_dispatcher(this,"dup",na,!1),c,b)},na.$$arity=0);a.def(t,"$each",ea=function(){var b=ea.$$p,c=b||h,d;b&&(ea.$$p=null);b&&(ea.$$p=null);if(c===h)return q(this,"enum_for",["each"],(d=function(){return(null==
d.$$s?this:d.$$s).$size()},d.$$s=this,d.$$arity=0,d));b=0;for(var f=this.length;b<f;b++)a.yield1(c,this[b]);return this},ea.$$arity=0);a.def(t,"$each_index",fa=function(){var b=fa.$$p,c=b||h,d;b&&(fa.$$p=null);b&&(fa.$$p=null);if(c===h)return q(this,"enum_for",["each_index"],(d=function(){return(null==d.$$s?this:d.$$s).$size()},d.$$s=this,d.$$arity=0,d));b=0;for(var f=this.length;b<f;b++)a.yield1(c,b);return this},fa.$$arity=0);a.def(t,"$empty?",ra=function(){return 0===this.length},ra.$$arity=0);
a.def(t,"$eql?",sa=function(a){function b(a,d){var f;if(!d.$$is_array)return!1;d=d.$to_a();if(a.length!==d.length)return!1;c[a.$object_id()]=!0;var e=0;for(f=a.length;e<f;e++){var g=a[e];var h=d[e];if(g.$$is_array){if(h.$$is_array&&h.length!==g.length||!c.hasOwnProperty(g.$object_id())&&!b(g,h))return!1}else if(!g["$eql?"](h))return!1}return!0}var c={};return b(this,a)},sa.$$arity=1);a.def(t,"$fetch",aa=function(a,b){var c=aa.$$p,f=c||h;c&&(aa.$$p=null);c&&(aa.$$p=null);c=a;a=d(v,"Opal").$coerce_to(a,
d(v,"Integer"),"to_int");0>a&&(a+=this.length);if(0<=a&&a<this.length)return this[a];f!==h&&null!=b&&this.$warn("warning: block supersedes default value argument");if(f!==h)return f(c);if(null!=b)return b;0===this.length?this.$raise(d(v,"IndexError"),"index "+c+" outside of array bounds: 0...0"):this.$raise(d(v,"IndexError"),"index "+c+" outside of array bounds: -"+this.length+"..."+this.length)},aa.$$arity=-2);a.def(t,"$fill",W=function(b){var c=W.$$p,f=c||h,e=h;c&&(W.$$p=null);c&&(W.$$p=null);c=
a.slice.call(arguments,0,arguments.length);if(g(f)){g(2<c.length)&&this.$raise(d(v,"ArgumentError"),"wrong number of arguments ("+c.$length()+" for 0..2)");var k=c;var m=a.to_ary(k);c=null==m[0]?h:m[0];m=null==m[1]?h:m[1]}else g(0==c.length)?this.$raise(d(v,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):g(3<c.length)&&this.$raise(d(v,"ArgumentError"),"wrong number of arguments ("+c.$length()+" for 1..3)"),k=c,m=a.to_ary(k),e=null==m[0]?h:m[0],c=null==m[1]?h:m[1],m=null==m[2]?h:m[2];k;
if(g(d(v,"Range")["$==="](c))){if(g(m)&&this.$raise(d(v,"TypeError"),"length invalid with range"),k=d(v,"Opal").$coerce_to(c.$begin(),d(v,"Integer"),"to_int"),g(0>k)&&(k+=this.length),g(0>k)&&this.$raise(d(v,"RangeError"),""+c.$inspect()+" out of range"),m=d(v,"Opal").$coerce_to(c.$end(),d(v,"Integer"),"to_int"),g(0>m)&&(m+=this.length),g(c["$exclude_end?"]())||(m+=1),g(m<=k))return this}else if(g(c))if(k=d(v,"Opal").$coerce_to(c,d(v,"Integer"),"to_int"),g(0>k)&&(k+=this.length),g(0>k)&&(k=0),g(m)){m=
d(v,"Opal").$coerce_to(m,d(v,"Integer"),"to_int");if(g(0==m))return this;m+=k}else m=this.length;else k=0,m=this.length;if(g(k>this.length))for(c=this.length;c<m;c++)this[c]=h;g(m>this.length)&&(this.length=m);if(g(f))for(;k<m;k++)e=f(k),this[k]=e;else for(;k<m;k++)this[k]=e;return this},W.$$arity=-1);a.def(t,"$first",xa=function(a){if(null==a)return 0===this.length?h:this[0];a=d(v,"Opal").$coerce_to(a,d(v,"Integer"),"to_int");0>a&&this.$raise(d(v,"ArgumentError"),"negative array size");return this.slice(0,
a)},xa.$$arity=-1);a.def(t,"$flatten",va=function(a){function b(a,f){var e=[],g;a=a.$to_a();var k=0;for(g=a.length;k<g;k++){var m=a[k];if(d(v,"Opal")["$respond_to?"](m,"to_ary",!0)){var t=m.$to_ary();if(t===h)e.push(m);else switch(t.$$is_array||c.$raise(d(v,"TypeError")),t===c&&c.$raise(d(v,"ArgumentError")),f){case void 0:e=e.concat(b(t));break;case 0:e.push(t);break;default:e.push.apply(e,b(t,f-1))}}else e.push(m)}return e}var c=this;void 0!==a&&(a=d(v,"Opal").$coerce_to(a,d(v,"Integer"),"to_int"));
return r(b(c,a),c.$class())},va.$$arity=-1);a.def(t,"$flatten!",pa=function(a){a=this.$flatten(a);if(this.length==a.length){for(var b=0,c=this.length;b<c&&this[b]===a[b];b++);if(b==c)return h}this.$replace(a);return this},pa.$$arity=-1);a.def(t,"$hash",za=function(){var b=void 0===a.hash_ids,c=["A"],d=this.$object_id(),f,e;try{b&&(a.hash_ids=Object.create(null));if(a.hash_ids[d])return"self";for(e in a.hash_ids){var g=a.hash_ids[e];if(this["$eql?"](g))return"self"}a.hash_ids[d]=this;for(f=0;f<this.length;f++)g=
this[f],c.push(g.$hash());return c.join(",")}finally{b&&(a.hash_ids=void 0)}},za.$$arity=0);a.def(t,"$include?",Aa=function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]["$=="](a))return!0;return!1},Aa.$$arity=1);a.def(t,"$index",ta=function(a){var b=ta.$$p,c=b||h;b&&(ta.$$p=null);b&&(ta.$$p=null);var d;null!=a&&c!==h&&this.$warn("warning: given block not used");if(null!=a)for(b=0,d=this.length;b<d;b++){if(this[b]["$=="](a))return b}else if(c!==h)for(b=0,d=this.length;b<d;b++){if(a=c(this[b]),!1!==
a&&a!==h)return b}else return this.$enum_for("index");return h},ta.$$arity=-1);a.def(t,"$insert",Da=function(b,c){var f=a.slice.call(arguments,1,arguments.length);b=d(v,"Opal").$coerce_to(b,d(v,"Integer"),"to_int");if(0<f.length){0>b&&(b+=this.length+1,0>b&&this.$raise(d(v,"IndexError"),""+b+" is out of bounds"));if(b>this.length)for(var e=this.length;e<b;e++)this.push(h);this.splice.apply(this,[b,0].concat(f))}return this},Da.$$arity=-2);a.def(t,"$inspect",Ea=function(){for(var a=[],b=this.$__id__(),
c=0,d=this.length;c<d;c++){var f=this["$[]"](c);f.$__id__()===b?a.push("[...]"):a.push(f.$inspect())}return"["+a.join(", ")+"]"},Ea.$$arity=0);a.def(t,"$join",Ba=function(c){null==b[","]&&(b[","]=h);null==c&&(c=h);if(g(0===this.length))return"";g(c===h)&&(c=b[","]);var f=[],e;var k=0;for(e=this.length;k<e;k++){var m=this[k];if(d(v,"Opal")["$respond_to?"](m,"to_str")){var t=m.$to_str();if(t!==h){f.push(t.$to_s());continue}}if(d(v,"Opal")["$respond_to?"](m,"to_ary")&&(t=m.$to_ary(),t===this&&this.$raise(d(v,
"ArgumentError")),t!==h)){f.push(t.$join(c));continue}if(d(v,"Opal")["$respond_to?"](m,"to_s")&&(t=m.$to_s(),t!==h)){f.push(t);continue}this.$raise(d(v,"NoMethodError").$new(""+a.inspect(m)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return c===h?f.join(""):f.join(d(v,"Opal")["$coerce_to!"](c,d(v,"String"),"to_str").$to_s())},Ba.$$arity=-1);a.def(t,"$keep_if",ua=function(){var a=ua.$$p,b=a||h,c;a&&(ua.$$p=null);a&&(ua.$$p=null);if(b===h)return q(this,"enum_for",["keep_if"],(c=function(){return(null==
c.$$s?this:c.$$s).$size()},c.$$s=this,c.$$arity=0,c));a=0;for(var d=this.length,f;a<d;a++)if(f=b(this[a]),!1===f||f===h)this.splice(a,1),d--,a--;return this},ua.$$arity=0);a.def(t,"$last",ha=function(a){if(null==a)return 0===this.length?h:this[this.length-1];a=d(v,"Opal").$coerce_to(a,d(v,"Integer"),"to_int");0>a&&this.$raise(d(v,"ArgumentError"),"negative array size");a>this.length&&(a=this.length);return this.slice(this.length-a,this.length)},ha.$$arity=-1);a.def(t,"$length",qa=function(){return this.length},
qa.$$arity=0);a.alias(t,"map","collect");a.alias(t,"map!","collect!");a.def(t,"$max",X=function(a){var b=X.$$p,c=b||h;b&&(X.$$p=null);b&&(X.$$p=null);return q(this.$each(),"max",[a],c.$to_proc())},X.$$arity=-1);a.def(t,"$min",ya=function(){var a=ya.$$p,b=a||h;a&&(ya.$$p=null);a&&(ya.$$p=null);return q(this.$each(),"min",[],b.$to_proc())},ya.$$arity=0);a.def(t,"$permutation",wa=function(b){var c=wa.$$p,f=c||h,e,g=this,k=h,m=h;c&&(wa.$$p=null);c&&(wa.$$p=null);if(f===h)return q(g,"enum_for",["permutation",
b],(e=function(){var a=null==e.$$s?this:e.$$s,c=a.length;a=void 0===b?a.length:b;for(var d=0<=a?1:0;a;)d*=c,c--,a--;return d},e.$$s=g,e.$$arity=0,e));var t;b=void 0===b?g.length:d(v,"Opal").$coerce_to(b,d(v,"Integer"),"to_int");if(!(0>b||g.length<b))if(0===b)a.yield1(f,[]);else if(1===b)for(k=0;k<g.length;k++)a.yield1(f,[g[k]]);else{k=d(v,"Array").$new(b);m=d(v,"Array").$new(g.length,!1);var n=function(b,c,d,f,e){g=this;for(var h=0;h<g.length;h++)if(f["$[]"](h)["$!"]())if(c[d]=h,d<b-1)f[h]=!0,n.call(g,
b,c,d+1,f,e),f[h]=!1;else{t=[];for(var k=0;k<c.length;k++)t.push(g[c[k]]);a.yield1(e,t)}};f!==h?(c=g.slice(),n.call(c,b,k,0,m,f)):n.call(g,b,k,0,m,f)}return g},wa.$$arity=-1);a.def(t,"$repeated_permutation",Fa=function(b){function c(b,d,f){if(d.length==b)b=d.slice(),a.yield1(k,b);else for(var e=0;e<f.length;e++)d.push(f[e]),c(b,d,f),d.pop()}var f,e=Fa.$$p,k=e||h,m=h;e&&(Fa.$$p=null);m=d(v,"Opal")["$coerce_to!"](b,d(v,"Integer"),"to_int");if(k===h)return q(this,"enum_for",["repeated_permutation",m],
(f=function(){var a=null==f.$$s?this:f.$$s;return g("number"===typeof m?0<=m:m["$>="](0))?a.$size()["$**"](m):0},f.$$s=this,f.$$arity=0,f));c(m,[],this.slice());return this},Fa.$$arity=1);a.def(t,"$pop",Ia=function(a){if(g(void 0===a))return g(0===this.length)?h:this.pop();a=d(v,"Opal").$coerce_to(a,d(v,"Integer"),"to_int");g(0>a)&&this.$raise(d(v,"ArgumentError"),"negative array size");return g(0===this.length)?[]:g(a>this.length)?this.splice(0,this.length):this.splice(this.length-a,this.length)},
Ia.$$arity=-1);a.def(t,"$product",Ga=function(b){var c=Ga.$$p,f=c||h;c&&(Ga.$$p=null);c&&(Ga.$$p=null);var e=a.slice.call(arguments,0,arguments.length);c=f!==h?null:[];var g=e.length+1,k=Array(g),m=Array(g),t=Array(g),n;var q=1;t[0]=this;for(n=1;n<g;n++)t[n]=d(v,"Opal").$coerce_to(e[n-1],d(v,"Array"),"to_ary");for(n=0;n<g;n++){e=t[n].length;if(0===e)return c||this;q*=e;2147483647<q&&this.$raise(d(v,"RangeError"),"too big to product");m[n]=e;k[n]=0}a:for(;;){q=[];for(n=0;n<g;n++)q.push(t[n][k[n]]);
c?c.push(q):a.yield1(f,q);n=g-1;for(k[n]++;k[n]===m[n];){k[n]=0;if(0>--n)break a;k[n]++}}return c||this},Ga.$$arity=-1);a.def(t,"$push",Oa=function(b){var c=a.slice.call(arguments,0,arguments.length);for(var d=0,f=c.length;d<f;d++)this.push(c[d]);return this},Oa.$$arity=-1);a.alias(t,"append","push");a.def(t,"$rassoc",Pa=function(a){for(var b=0,c=this.length,d;b<c;b++)if(d=this[b],d.length&&void 0!==d[1]&&d[1]["$=="](a))return d;return h},Pa.$$arity=1);a.def(t,"$reject",Ka=function(){var a=Ka.$$p,
b=a||h,c;a&&(Ka.$$p=null);a&&(Ka.$$p=null);if(b===h)return q(this,"enum_for",["reject"],(c=function(){return(null==c.$$s?this:c.$$s).$size()},c.$$s=this,c.$$arity=0,c));a=[];for(var d=0,f=this.length,e;d<f;d++)e=b(this[d]),!1!==e&&e!==h||a.push(this[d]);return a},Ka.$$arity=0);a.def(t,"$reject!",Ca=function(){var a=Ca.$$p,b=a||h,c,d=h;a&&(Ca.$$p=null);a&&(Ca.$$p=null);if(b===h)return q(this,"enum_for",["reject!"],(c=function(){return(null==c.$$s?this:c.$$s).$size()},c.$$s=this,c.$$arity=0,c));d=this.$length();
q(this,"delete_if",[],b.$to_proc());return this.$length()["$=="](d)?h:this},Ca.$$arity=0);a.def(t,"$replace",Ha=function(a){a=g(d(v,"Array")["$==="](a))?a.$to_a():d(v,"Opal").$coerce_to(a,d(v,"Array"),"to_ary").$to_a();this.splice(0,this.length);this.push.apply(this,a);return this},Ha.$$arity=1);a.def(t,"$reverse",Qa=function(){return this.slice(0).reverse()},Qa.$$arity=0);a.def(t,"$reverse!",Ra=function(){return this.reverse()},Ra.$$arity=0);a.def(t,"$reverse_each",Ja=function(){var a=Ja.$$p,b=a||
h,c;a&&(Ja.$$p=null);a&&(Ja.$$p=null);if(b===h)return q(this,"enum_for",["reverse_each"],(c=function(){return(null==c.$$s?this:c.$$s).$size()},c.$$s=this,c.$$arity=0,c));q(this.$reverse(),"each",[],b.$to_proc());return this},Ja.$$arity=0);a.def(t,"$rindex",Ma=function(a){var b=Ma.$$p,c=b||h;b&&(Ma.$$p=null);b&&(Ma.$$p=null);null!=a&&c!==h&&this.$warn("warning: given block not used");if(null!=a)for(b=this.length-1;0<=b&&!(b>=this.length);b--){if(this[b]["$=="](a))return b}else if(c!==h)for(b=this.length-
1;0<=b&&!(b>=this.length);b--){if(a=c(this[b]),!1!==a&&a!==h)return b}else if(null==a)return this.$enum_for("rindex");return h},Ma.$$arity=-1);a.def(t,"$rotate",Sa=function(a){null==a&&(a=1);a=d(v,"Opal").$coerce_to(a,d(v,"Integer"),"to_int");if(1===this.length)return this.slice();if(0===this.length)return[];var b=this.slice();var c=a%b.length;a=b.slice(c);b=b.slice(0,c);return a.concat(b)},Sa.$$arity=-1);a.def(t,"$rotate!",Ta=function(a){null==a&&(a=1);if(0===this.length||1===this.length)return this;
a=d(v,"Opal").$coerce_to(a,d(v,"Integer"),"to_int");a=this.$rotate(a);return this.$replace(a)},Ta.$$arity=-1);(function(b,$super,c){b=f(b,$super,"SampleRandom");var e=[b].concat(c),k,m;b.$$prototype.rng=h;a.def(b,"$initialize",k=function(a){return this.rng=a},k.$$arity=1);return(a.def(b,"$rand",m=function(a){var b=d(e,"Opal").$coerce_to(this.rng.$rand(a),d(e,"Integer"),"to_int");g(0>b)&&this.$raise(d(e,"RangeError"),"random value must be >= 0");g(b<a)||this.$raise(d(e,"RangeError"),"random value must be less than Array size");
return b},m.$$arity=1),h)&&"rand"})(v[0],null,v);a.def(t,"$sample",Ua=function(a,b){var c,f=h;if(g(void 0===a))return this.$at(d(v,"Kernel").$rand(this.length));g(void 0===b)?g(b=d(v,"Opal")["$coerce_to?"](a,d(v,"Hash"),"to_hash"))?a=h:(b=h,a=d(v,"Opal").$coerce_to(a,d(v,"Integer"),"to_int")):(a=d(v,"Opal").$coerce_to(a,d(v,"Integer"),"to_int"),b=d(v,"Opal").$coerce_to(b,d(v,"Hash"),"to_hash"));g(g(c=a)?0>a:c)&&this.$raise(d(v,"ArgumentError"),"count must be greater than 0");g(b)&&(f=b["$[]"]("random"));
f=g(g(c=f)?f["$respond_to?"]("rand"):c)?d(v,"SampleRandom").$new(f):d(v,"Kernel");if(!g(a))return this[f.$rand(this.length)];a>this.length&&(a=this.length);switch(a){case 0:return[];case 1:return[this[f.$rand(this.length)]];case 2:var e=f.$rand(this.length);var k=f.$rand(this.length);e===k&&(k=0===e?e+1:e-1);return[this[e],this[k]];default:if(3<this.length/a){b=!1;var m=0;c=d(v,"Array").$new(a);e=1;for(c[0]=f.$rand(this.length);e<a;){var t=f.$rand(this.length);for(k=0;k<e;){for(;t===c[k];){m++;if(100<
m){b=!0;break}t=f.$rand(this.length)}if(b)break;k++}if(b)break;c[e]=t;e++}if(!b){for(e=0;e<a;)c[e]=this[c[e]],e++;return c}}c=this.slice();for(e=0;e<a;e++)b=f.$rand(this.length),m=c[e],c[e]=c[b],c[b]=m;return a===this.length?c:c["$[]"](0,a)}},Ua.$$arity=-1);a.def(t,"$select",Va=function(){var b=Va.$$p,c=b||h,d;b&&(Va.$$p=null);b&&(Va.$$p=null);if(c===h)return q(this,"enum_for",["select"],(d=function(){return(null==d.$$s?this:d.$$s).$size()},d.$$s=this,d.$$arity=0,d));b=[];for(var f=0,e=this.length,
g,k;f<e;f++)g=this[f],k=a.yield1(c,g),a.truthy(k)&&b.push(g);return b},Va.$$arity=0);a.def(t,"$select!",Na=function(){var a=Na.$$p,b=a||h,c;a&&(Na.$$p=null);a&&(Na.$$p=null);if(b===h)return q(this,"enum_for",["select!"],(c=function(){return(null==c.$$s?this:c.$$s).$size()},c.$$s=this,c.$$arity=0,c));a=this.length;q(this,"keep_if",[],b.$to_proc());return this.length===a?h:this},Na.$$arity=0);a.def(t,"$shift",La=function(a){if(g(void 0===a))return g(0===this.length)?h:this.shift();a=d(v,"Opal").$coerce_to(a,
d(v,"Integer"),"to_int");g(0>a)&&this.$raise(d(v,"ArgumentError"),"negative array size");return g(0===this.length)?[]:this.splice(0,a)},La.$$arity=-1);a.alias(t,"size","length");a.def(t,"$shuffle",db=function(a){return this.$dup().$to_a()["$shuffle!"](a)},db.$$arity=-1);a.def(t,"$shuffle!",ib=function(a){var b,c=this.length;void 0!==a&&(a=d(v,"Opal")["$coerce_to?"](a,d(v,"Hash"),"to_hash"),a!==h&&(a=a["$[]"]("random"),a!==h&&a["$respond_to?"]("rand")&&(b=a)));for(;c;){b?(a=b.$rand(c).$to_int(),0>
a&&this.$raise(d(v,"RangeError"),"random number too small "+a),a>=c&&this.$raise(d(v,"RangeError"),"random number too big "+a)):a=this.$rand(c);var f=this[--c];this[c]=this[a];this[a]=f}return this},ib.$$arity=-1);a.alias(t,"slice","[]");a.def(t,"$slice!",jb=function(a,b){if(g(void 0===b))if(g(d(v,"Range")["$==="](a))){var c=this["$[]"](a);b=d(v,"Opal").$coerce_to(a.$begin(),d(v,"Integer"),"to_int");var f=d(v,"Opal").$coerce_to(a.$end(),d(v,"Integer"),"to_int");0>b&&(b+=this.length);0>f?f+=this.length:
f>=this.length&&(f=this.length-1,a.excl&&(f+=1));var e=f-b;a.excl?--f:e+=1;b<this.length&&0<=b&&f<this.length&&0<=f&&0<e&&this.splice(b,e)}else{a=d(v,"Opal").$coerce_to(a,d(v,"Integer"),"to_int");0>a&&(a+=this.length);if(0>a||a>=this.length)return h;c=this[a];0===a?this.shift():this.splice(a,1)}else{a=d(v,"Opal").$coerce_to(a,d(v,"Integer"),"to_int");b=d(v,"Opal").$coerce_to(b,d(v,"Integer"),"to_int");if(0>b)return h;c=this["$[]"](a,b);0>a&&(a+=this.length);a+b>this.length&&(b=this.length-a);a<this.length&&
0<=a&&this.splice(a,b)}return c},jb.$$arity=-2);a.def(t,"$sort",Ya=function(){var a=Ya.$$p,b=a||h,c=this;a&&(Ya.$$p=null);a&&(Ya.$$p=null);if(!g(1<c.length))return c;b===h&&(b=function(a,b){return a["$<=>"](b)});return c.slice().sort(function(a,f){var e=b(a,f);e===h&&c.$raise(d(v,"ArgumentError"),"comparison of "+a.$inspect()+" with "+f.$inspect()+" failed");return p(e,0)?1:("number"===typeof e?0>e:e["$<"](0))?-1:0})},Ya.$$arity=0);a.def(t,"$sort!",Za=function(){var a=Za.$$p,b=a||h;a&&(Za.$$p=null);
a&&(Za.$$p=null);a=b!==h?q(this.slice(),"sort",[],b.$to_proc()):this.slice().$sort();b=this.length=0;for(var c=a.length;b<c;b++)this.push(a[b]);return this},Za.$$arity=0);a.def(t,"$sort_by!",$a=function(){var a=$a.$$p,b=a||h,c;a&&($a.$$p=null);a&&($a.$$p=null);return b===h?q(this,"enum_for",["sort_by!"],(c=function(){return(null==c.$$s?this:c.$$s).$size()},c.$$s=this,c.$$arity=0,c)):this.$replace(q(this,"sort_by",[],b.$to_proc()))},$a.$$arity=0);a.def(t,"$take",kb=function(a){0>a&&this.$raise(d(v,
"ArgumentError"));return this.slice(0,a)},kb.$$arity=1);a.def(t,"$take_while",ab=function(){var a=ab.$$p,b=a||h;a&&(ab.$$p=null);a&&(ab.$$p=null);a=[];for(var c=0,d=this.length,f,e;c<d;c++){f=this[c];e=b(f);if(!1===e||e===h)break;a.push(f)}return a},ab.$$arity=0);a.def(t,"$to_a",eb=function(){return this},eb.$$arity=0);a.alias(t,"to_ary","to_a");a.def(t,"$to_h",fb=function(){var b,c=this.length,f=u([],{});for(b=0;b<c;b++){var e=d(v,"Opal")["$coerce_to?"](this[b],d(v,"Array"),"to_ary");e.$$is_array||
this.$raise(d(v,"TypeError"),"wrong element type "+e.$class()+" at "+b+" (expected array)");2!==e.length&&this.$raise(d(v,"ArgumentError"),"wrong array length at "+b+" (expected 2, was "+e.$length()+")");var g=e[0];e=e[1];a.hash_put(f,g,e)}return f},fb.$$arity=0);a.alias(t,"to_s","inspect");a.def(t,"$transpose",gb=function(){var b,c=h,f=h;if(g(this["$empty?"]()))return[];c=[];f=h;q(this,"each",[],(b=function(e){var k=null==b.$$s?this:b.$$s,m,t;null==e&&(e=h);e=g(d(v,"Array")["$==="](e))?e.$to_a():
d(v,"Opal").$coerce_to(e,d(v,"Array"),"to_ary").$to_a();f=g(m=f)?m:e.length;g(e.length["$!="](f))&&k.$raise(d(v,"IndexError"),"element size differs ("+e.length+" should be "+f+")");return q(e.length,"times",[],(t=function(b){var d;null==b&&(b=h);if(!g(d=c["$[]"](b))){d=[b,[]];q(c,"[]=",a.to_a(d));var f=d.length;f="number"===typeof f?f-1:f["$-"](1);d=d[f]}return d["$<<"](e.$at(b))},t.$$s=k,t.$$arity=1,t))},b.$$s=this,b.$$arity=1,b));return c},gb.$$arity=0);a.def(t,"$uniq",Wa=function(){var b=Wa.$$p,
c=b||h;b&&(Wa.$$p=null);b&&(Wa.$$p=null);b=u([],{});var d;if(c===h){var f=0;for(d=this.length;f<d;f++){var e=this[f];void 0===a.hash_get(b,e)&&a.hash_put(b,e,e)}}else for(f=0,d=this.length;f<d;f++){e=this[f];var g=a.yield1(c,e);void 0===a.hash_get(b,g)&&a.hash_put(b,g,e)}return r(b.$values(),this.$class())},Wa.$$arity=0);a.def(t,"$uniq!",Xa=function(){var b=Xa.$$p,c=b||h;b&&(Xa.$$p=null);b&&(Xa.$$p=null);b=this.length;var d=u([],{}),f;var e=0;for(f=b;e<f;e++){var g=this[e];var k=c===h?g:a.yield1(c,
g);void 0===a.hash_get(d,k)?a.hash_put(d,k,g):(this.splice(e,1),f--,e--)}return this.length===b?h:this},Xa.$$arity=0);a.def(t,"$unshift",hb=function(b){var c=a.slice.call(arguments,0,arguments.length);for(var d=c.length-1;0<=d;d--)this.unshift(c[d]);return this},hb.$$arity=-1);a.alias(t,"prepend","unshift");a.def(t,"$values_at",lb=function(b){var c,f=h;var e=a.slice.call(arguments,0,arguments.length);f=[];q(e,"each",[],(c=function(a){var b=null==c.$$s?this:c.$$s,e,k=h,m=h;k=h;null==a&&(a=h);if(g(a["$is_a?"](d(v,
"Range")))){k=d(v,"Opal").$coerce_to(a.$last(),d(v,"Integer"),"to_int");m=d(v,"Opal").$coerce_to(a.$first(),d(v,"Integer"),"to_int");if(0>m)return m+=b.length,h;0>k&&(k+=b.length);a["$exclude_end?"]()&&k--;return k<m?h:q(m,"upto",[k],(e=function(a){var b=null==e.$$s?this:e.$$s;null==a&&(a=h);return f["$<<"](b.$at(a))},e.$$s=b,e.$$arity=1,e))}k=d(v,"Opal").$coerce_to(a,d(v,"Integer"),"to_int");return f["$<<"](b.$at(k))},c.$$s=this,c.$$arity=1,c));return f},lb.$$arity=-1);a.def(t,"$zip",bb=function(b){var c=
bb.$$p,f=c||h,e;c&&(bb.$$p=null);c&&(bb.$$p=null);c=a.slice.call(arguments,0,arguments.length);var k=[],m=this.length,t,n;var q=0;for(n=c.length;q<n;q++){var w=c[q];w.$$is_array||(w.$$is_enumerator?Infinity===w.$size()?c[q]=w.$take(m):c[q]=w.$to_a():c[q]=(g(e=d(v,"Opal")["$coerce_to?"](w,d(v,"Array"),"to_ary"))?e:d(v,"Opal")["$coerce_to!"](w,d(v,"Enumerator"),"to_enum","each")).$to_a())}for(t=0;t<m;t++){e=[this[t]];q=0;for(n=c.length;q<n;q++)w=c[q][t],null==w&&(w=h),e[q+1]=w;k[t]=e}if(f!==h){for(t=
0;t<m;t++)f(k[t]);return h}return k},bb.$$arity=-1);a.defs(t,"$inherited",mb=function(a){a.$$prototype.$to_a=function(){return this.slice(0,this.length)}},mb.$$arity=1);a.def(t,"$instance_variables",cb=function(){var b,c=cb.$$p,d=h,f=h,e=h;c&&(cb.$$p=null);f=0;e=arguments.length;for(d=Array(e);f<e;f++)d[f]=arguments[f];return q(q(this,a.find_super_dispatcher(this,"instance_variables",cb,!1),d,c),"reject",[],(b=function(a){var b;null==a&&(a=h);return g(b=/^@\d+$/.test(a))?b:a["$=="]("@length")},b.$$s=
this,b.$$arity=1,b))},cb.$$arity=0);d(v,"Opal").$pristine(t.$singleton_class(),"allocate");d(v,"Opal").$pristine(t,"copy_instance_variables","initialize_dup");return(a.def(t,"$pack",nb=function(b){a.slice.call(arguments,0,arguments.length);return this.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},nb.$$arity=-1),h)&&"pack"}(e[0],Array,e)};
Opal.modules["corelib/hash"]=function(a){function p(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}var r=a.top,e=[],h=a.nil,k=a.$$,d=a.klass,f=a.send,g=a.hash2,u=a.truthy;a.add_stubs("$require $include $coerce_to? $[] $merge! $allocate $raise $coerce_to! $each $fetch $>= $> $== $compare_by_identity $lambda? $abs $arity $enum_for $size $respond_to? $class $dig $new $inspect $map $to_proc $flatten $eql? $default $dup $default_proc $default_proc= $- $default= $proc".split(" "));
r.$require("corelib/enumerable");return function(e,$super,r){e=d(e,$super,"Hash");var l=[e].concat(r),w,q,c,m,y,t,v,H,z,D,n,A,J,E,L,I,x,B,G,M,O,F,P,Q,K,N,S,T,ia,U,ba,Y,V,ca,ma,ja,la,ka,Z,da,oa,na,ea,fa,ra,sa,aa,W,xa,va,pa,za,Aa,ta,Da,Ea,Ba,ua,ha,qa,X,ya;e.$include(k(l,"Enumerable"));e.$$prototype.$$is_hash=!0;a.defs(e,"$[]",w=function(c){var d=a.slice.call(arguments,0,arguments.length);var f=d.length,e;if(1===f){var g=k(l,"Opal")["$coerce_to?"](d["$[]"](0),k(l,"Hash"),"to_hash");if(g!==h)return this.$allocate()["$merge!"](g);
d=k(l,"Opal")["$coerce_to?"](d["$[]"](0),k(l,"Array"),"to_ary");d===h&&this.$raise(k(l,"ArgumentError"),"odd number of arguments for Hash");f=d.length;g=this.$allocate();for(e=0;e<f;e++)if(d[e].$$is_array)switch(d[e].length){case 1:g.$store(d[e][0],h);break;case 2:g.$store(d[e][0],d[e][1]);break;default:this.$raise(k(l,"ArgumentError"),"invalid number of elements ("+d[e].length+" for 1..2)")}return g}0!==f%2&&this.$raise(k(l,"ArgumentError"),"odd number of arguments for Hash");g=this.$allocate();
for(e=0;e<f;e+=2)g.$store(d[e],d[e+1]);return g},w.$$arity=-1);a.defs(e,"$allocate",q=function(){var c=new this.$$constructor;a.hash_init(c);c.$$none=h;c.$$proc=h;return c},q.$$arity=0);a.defs(e,"$try_convert",c=function(a){return k(l,"Opal")["$coerce_to?"](a,k(l,"Hash"),"to_hash")},c.$$arity=1);a.def(e,"$initialize",m=function(a){var c=m.$$p,d=c||h;c&&(m.$$p=null);c&&(m.$$p=null);void 0!==a&&d!==h&&this.$raise(k(l,"ArgumentError"),"wrong number of arguments (1 for 0)");this.$$none=void 0===a?h:a;
this.$$proc=d;return this},m.$$arity=-1);a.def(e,"$==",y=function(c){if(this===c)return!0;if(!c.$$is_hash||this.$$keys.length!==c.$$keys.length)return!1;for(var d=0,f=this.$$keys,e=f.length,g,h;d<e;d++)if(g=f[d],g.$$is_string?(h=this.$$smap[g],g=c.$$smap[g]):(h=g.value,g=a.hash_get(c,g.key)),void 0===g||!h["$eql?"](g))return!1;return!0},y.$$arity=1);a.def(e,"$>=",t=function(a){var c,d=h;a=k(l,"Opal")["$coerce_to!"](a,k(l,"Hash"),"to_hash");if(this.$$keys.length<a.$$keys.length)return!1;d=!0;f(a,"each",
[],(c=function(a,f){var e=null==c.$$s?this:c.$$s;null==a&&(a=h);null==f&&(f=h);a=e.$fetch(a,null);if(null==a||a!==f)d=!1},c.$$s=this,c.$$arity=2,c));return d},t.$$arity=1);a.def(e,"$>",v=function(a){a=k(l,"Opal")["$coerce_to!"](a,k(l,"Hash"),"to_hash");return this.$$keys.length<=a.$$keys.length?!1:p(this,a)},v.$$arity=1);a.def(e,"$<",H=function(a){a=k(l,"Opal")["$coerce_to!"](a,k(l,"Hash"),"to_hash");return"number"===typeof a&&"number"===typeof this?a>this:a["$>"](this)},H.$$arity=1);a.def(e,"$<=",
z=function(a){a=k(l,"Opal")["$coerce_to!"](a,k(l,"Hash"),"to_hash");return p(a,this)},z.$$arity=1);a.def(e,"$[]",D=function(c){var d=a.hash_get(this,c);return void 0!==d?d:this.$default(c)},D.$$arity=1);a.def(e,"$[]=",n=function(c,d){a.hash_put(this,c,d);return d},n.$$arity=2);a.def(e,"$assoc",A=function(a){for(var c=0,d=this.$$keys,f=d.length,e;c<f;c++)if(e=d[c],e.$$is_string){if(e["$=="](a))return[e,this.$$smap[e]]}else if(e.key["$=="](a))return[e.key,e.value];return h},A.$$arity=1);a.def(e,"$clear",
J=function(){a.hash_init(this);return this},J.$$arity=0);a.def(e,"$clone",E=function(){var c=new this.$$class;a.hash_init(c);a.hash_clone(this,c);return c},E.$$arity=0);a.def(e,"$compact",L=function(){for(var c=a.hash(),d=0,f=this.$$keys,e=f.length,g,l;d<e;d++)g=f[d],g.$$is_string?l=this.$$smap[g]:(l=g.value,g=g.key),l!==h&&a.hash_put(c,g,l);return c},L.$$arity=0);a.def(e,"$compact!",I=function(){for(var c=!1,d=0,f=this.$$keys,e=f.length,g,l;d<e;d++)g=f[d],g.$$is_string?l=this.$$smap[g]:(l=g.value,
g=g.key),l===h&&void 0!==a.hash_delete(this,g)&&(c=!0,e--,d--);return c?this:h},I.$$arity=0);a.def(e,"$compare_by_identity",x=function(){var c,d=this.$$keys;if(this.$$by_identity)return this;if(0===this.$$keys.length)return this.$$by_identity=!0,this;var f=g([],{}).$compare_by_identity();var e=0;for(c=d.length;e<c;e++){var h=d[e];h.$$is_string||(h=h.key);a.hash_put(f,h,a.hash_get(this,h))}this.$$by_identity=!0;this.$$map=f.$$map;this.$$smap=f.$$smap;return this},x.$$arity=0);a.def(e,"$compare_by_identity?",
B=function(){return!0===this.$$by_identity},B.$$arity=0);a.def(e,"$default",G=function(a){return void 0!==a&&this.$$proc!==h&&void 0!==this.$$proc?this.$$proc.$call(this,a):void 0===this.$$none?h:this.$$none},G.$$arity=-1);a.def(e,"$default=",M=function(a){this.$$proc=h;return this.$$none=a},M.$$arity=1);a.def(e,"$default_proc",O=function(){return void 0!==this.$$proc?this.$$proc:h},O.$$arity=0);a.def(e,"$default_proc=",F=function(a){var c=a;c!==h&&(c=k(l,"Opal")["$coerce_to!"](c,k(l,"Proc"),"to_proc"),
c["$lambda?"]()&&2!==c.$arity().$abs()&&this.$raise(k(l,"TypeError"),"default_proc takes two arguments"));this.$$none=h;this.$$proc=c;return a},F.$$arity=1);a.def(e,"$delete",P=function(c){var d=P.$$p,f=d||h;d&&(P.$$p=null);d&&(P.$$p=null);d=a.hash_delete(this,c);return void 0!==d?d:f!==h?a.yield1(f,c):h},P.$$arity=1);a.def(e,"$delete_if",Q=function(){var c=Q.$$p,d=c||h,e;c&&(Q.$$p=null);c&&(Q.$$p=null);if(!u(d))return f(this,"enum_for",["delete_if"],(e=function(){return(null==e.$$s?this:e.$$s).$size()},
e.$$s=this,e.$$arity=0,e));c=0;for(var g=this.$$keys,l=g.length,k,m;c<l;c++)k=g[c],k.$$is_string?m=this.$$smap[k]:(m=k.value,k=k.key),m=d(k,m),!1!==m&&m!==h&&void 0!==a.hash_delete(this,k)&&(l--,c--);return this},Q.$$arity=0);a.alias(e,"dup","clone");a.def(e,"$dig",K=function(c,d){var e=a.slice.call(arguments,1,arguments.length);var g=this["$[]"](c);if(g===h||0===e.length)return g;u(g["$respond_to?"]("dig"))||this.$raise(k(l,"TypeError"),""+g.$class()+" does not have #dig method");return f(g,"dig",
a.to_a(e))},K.$$arity=-2);a.def(e,"$each",N=function(){var c=N.$$p,d=c||h,e;c&&(N.$$p=null);c&&(N.$$p=null);if(!u(d))return f(this,"enum_for",["each"],(e=function(){return(null==e.$$s?this:e.$$s).$size()},e.$$s=this,e.$$arity=0,e));c=0;for(var g=this.$$keys,l=g.length,k,m;c<l;c++)k=g[c],k.$$is_string?m=this.$$smap[k]:(m=k.value,k=k.key),a.yield1(d,[k,m]);return this},N.$$arity=0);a.def(e,"$each_key",S=function(){var a=S.$$p,c=a||h,d;a&&(S.$$p=null);a&&(S.$$p=null);if(!u(c))return f(this,"enum_for",
["each_key"],(d=function(){return(null==d.$$s?this:d.$$s).$size()},d.$$s=this,d.$$arity=0,d));a=0;for(var e=this.$$keys,g=e.length,l;a<g;a++)l=e[a],c(l.$$is_string?l:l.key);return this},S.$$arity=0);a.alias(e,"each_pair","each");a.def(e,"$each_value",T=function(){var a=T.$$p,c=a||h,d;a&&(T.$$p=null);a&&(T.$$p=null);if(!u(c))return f(this,"enum_for",["each_value"],(d=function(){return(null==d.$$s?this:d.$$s).$size()},d.$$s=this,d.$$arity=0,d));a=0;for(var e=this.$$keys,g=e.length,l;a<g;a++)l=e[a],
c(l.$$is_string?this.$$smap[l]:l.value);return this},T.$$arity=0);a.def(e,"$empty?",ia=function(){return 0===this.$$keys.length},ia.$$arity=0);a.alias(e,"eql?","==");a.def(e,"$fetch",U=function(c,d){var f=U.$$p,e=f||h;f&&(U.$$p=null);f&&(U.$$p=null);f=a.hash_get(this,c);return void 0!==f?f:e!==h?e(c):void 0!==d?d:this.$raise(k(l,"KeyError").$new("key not found: "+c.$inspect(),g(["key","receiver"],{key:c,receiver:this})))},U.$$arity=-2);a.def(e,"$fetch_values",ba=function(c){var d=ba.$$p,e=d||h,g;
d&&(ba.$$p=null);d&&(ba.$$p=null);d=a.slice.call(arguments,0,arguments.length);return f(d,"map",[],(g=function(a){var c=null==g.$$s?this:g.$$s;null==a&&(a=h);return f(c,"fetch",[a],e.$to_proc())},g.$$s=this,g.$$arity=1,g))},ba.$$arity=-1);a.def(e,"$flatten",Y=function(a){null==a&&(a=1);a=k(l,"Opal")["$coerce_to!"](a,k(l,"Integer"),"to_int");for(var c=[],d=0,f=this.$$keys,e=f.length,g,h;d<e;d++)g=f[d],g.$$is_string?h=this.$$smap[g]:(h=g.value,g=g.key),c.push(g),h.$$is_array?1===a?c.push(h):c=c.concat(h.$flatten(a-
2)):c.push(h);return c},Y.$$arity=-1);a.def(e,"$has_key?",V=function(c){return void 0!==a.hash_get(this,c)},V.$$arity=1);a.def(e,"$has_value?",ca=function(a){for(var c=0,d=this.$$keys,f=d.length,e;c<f;c++)if(e=d[c],(e.$$is_string?this.$$smap[e]:e.value)["$=="](a))return!0;return!1},ca.$$arity=1);a.def(e,"$hash",ma=function(){var c=void 0===a.hash_ids,d=this.$object_id(),f=["Hash"];try{c&&(a.hash_ids=Object.create(null));if(a[d])return"self";for(l in a.hash_ids){var e=a.hash_ids[l];if(this["$eql?"](e))return"self"}a.hash_ids[d]=
this;d=0;for(var g=this.$$keys,h=g.length;d<h;d++){var l=g[d];l.$$is_string?f.push([l,this.$$smap[l].$hash()]):f.push([l.key_hash,l.value.$hash()])}return f.sort().join()}finally{c&&(a.hash_ids=void 0)}},ma.$$arity=0);a.alias(e,"include?","has_key?");a.def(e,"$index",ja=function(a){for(var c=0,d=this.$$keys,f=d.length,e,g;c<f;c++)if(e=d[c],e.$$is_string?g=this.$$smap[e]:(g=e.value,e=e.key),g["$=="](a))return e;return h},ja.$$arity=1);a.def(e,"$indexes",la=function(c){var d=a.slice.call(arguments,
0,arguments.length);for(var f=[],e=0,g=d.length,h;e<g;e++)h=d[e],h=a.hash_get(this,h),void 0===h?f.push(this.$default()):f.push(h);return f},la.$$arity=-1);a.alias(e,"indices","indexes");var wa;a.def(e,"$inspect",ka=function(){var a=void 0===wa,c=this.$object_id(),d=[];try{a&&(wa={});if(wa.hasOwnProperty(c))return"{...}";wa[c]=!0;c=0;for(var f=this.$$keys,e=f.length,g,h;c<e;c++)g=f[c],g.$$is_string?h=this.$$smap[g]:(h=g.value,g=g.key),d.push(g.$inspect()+"=>"+h.$inspect());return"{"+d.join(", ")+
"}"}finally{a&&(wa=void 0)}},ka.$$arity=0);a.def(e,"$invert",Z=function(){for(var c=a.hash(),d=0,f=this.$$keys,e=f.length,g,h;d<e;d++)g=f[d],g.$$is_string?h=this.$$smap[g]:(h=g.value,g=g.key),a.hash_put(c,h,g);return c},Z.$$arity=0);a.def(e,"$keep_if",da=function(){var c=da.$$p,d=c||h,e;c&&(da.$$p=null);c&&(da.$$p=null);if(!u(d))return f(this,"enum_for",["keep_if"],(e=function(){return(null==e.$$s?this:e.$$s).$size()},e.$$s=this,e.$$arity=0,e));c=0;for(var g=this.$$keys,l=g.length,k,m;c<l;c++)k=g[c],
k.$$is_string?m=this.$$smap[k]:(m=k.value,k=k.key),m=d(k,m),!1!==m&&m!==h||void 0===a.hash_delete(this,k)||(l--,c--);return this},da.$$arity=0);a.alias(e,"key","index");a.alias(e,"key?","has_key?");a.def(e,"$keys",oa=function(){for(var a=[],c=0,d=this.$$keys,f=d.length,e;c<f;c++)e=d[c],e.$$is_string?a.push(e):a.push(e.key);return a},oa.$$arity=0);a.def(e,"$length",na=function(){return this.$$keys.length},na.$$arity=0);a.alias(e,"member?","has_key?");a.def(e,"$merge",ea=function(a){var c=ea.$$p,d=
c||h;c&&(ea.$$p=null);c&&(ea.$$p=null);return f(this.$dup(),"merge!",[a],d.$to_proc())},ea.$$arity=1);a.def(e,"$merge!",fa=function(c){var d=fa.$$p,e=d||h;d&&(fa.$$p=null);d&&(fa.$$p=null);c.$$is_hash||(c=k(l,"Opal")["$coerce_to!"](c,k(l,"Hash"),"to_hash"));var f=c.$$keys,g=f.length;if(e===h){for(d=0;d<g;d++){var m=f[d];if(m.$$is_string)var t=c.$$smap[m];else t=m.value,m=m.key;a.hash_put(this,m,t)}return this}for(d=0;d<g;d++){m=f[d];m.$$is_string?t=c.$$smap[m]:(t=m.value,m=m.key);var n=a.hash_get(this,
m);void 0===n?a.hash_put(this,m,t):a.hash_put(this,m,e(m,n,t))}return this},fa.$$arity=1);a.def(e,"$rassoc",ra=function(a){for(var c=0,d=this.$$keys,e=d.length,f,g;c<e;c++)if(f=d[c],f.$$is_string?g=this.$$smap[f]:(g=f.value,f=f.key),g["$=="](a))return[f,g];return h},ra.$$arity=1);a.def(e,"$rehash",sa=function(){a.hash_rehash(this);return this},sa.$$arity=0);a.def(e,"$reject",aa=function(){var c=aa.$$p,d=c||h,e;c&&(aa.$$p=null);c&&(aa.$$p=null);if(!u(d))return f(this,"enum_for",["reject"],(e=function(){return(null==
e.$$s?this:e.$$s).$size()},e.$$s=this,e.$$arity=0,e));c=a.hash();for(var g=0,l=this.$$keys,k=l.length,m,t,n;g<k;g++)m=l[g],m.$$is_string?t=this.$$smap[m]:(t=m.value,m=m.key),n=d(m,t),!1!==n&&n!==h||a.hash_put(c,m,t);return c},aa.$$arity=0);a.def(e,"$reject!",W=function(){var c=W.$$p,d=c||h,e;c&&(W.$$p=null);c&&(W.$$p=null);if(!u(d))return f(this,"enum_for",["reject!"],(e=function(){return(null==e.$$s?this:e.$$s).$size()},e.$$s=this,e.$$arity=0,e));c=!1;for(var g=0,l=this.$$keys,k=l.length,m,t;g<k;g++)m=
l[g],m.$$is_string?t=this.$$smap[m]:(t=m.value,m=m.key),t=d(m,t),!1!==t&&t!==h&&void 0!==a.hash_delete(this,m)&&(c=!0,k--,g--);return c?this:h},W.$$arity=0);a.def(e,"$replace",xa=function(c){c=k(l,"Opal")["$coerce_to!"](c,k(l,"Hash"),"to_hash");a.hash_init(this);var d=0;for(var e=c.$$keys,g=e.length,h,m;d<g;d++)h=e[d],h.$$is_string?m=c.$$smap[h]:(m=h.value,h=h.key),a.hash_put(this,h,m);u(c.$default_proc())?(d=[c.$default_proc()],f(this,"default_proc=",a.to_a(d))):(d=[c.$default()],f(this,"default=",
a.to_a(d)));c=d;d=d.length;d="number"===typeof d?d-1:d["$-"](1);c[d];return this},xa.$$arity=1);a.def(e,"$select",va=function(){var c=va.$$p,d=c||h,e;c&&(va.$$p=null);c&&(va.$$p=null);if(!u(d))return f(this,"enum_for",["select"],(e=function(){return(null==e.$$s?this:e.$$s).$size()},e.$$s=this,e.$$arity=0,e));c=a.hash();for(var g=0,l=this.$$keys,k=l.length,m,t,n;g<k;g++)m=l[g],m.$$is_string?t=this.$$smap[m]:(t=m.value,m=m.key),n=d(m,t),!1!==n&&n!==h&&a.hash_put(c,m,t);return c},va.$$arity=0);a.def(e,
"$select!",pa=function(){var c=pa.$$p,d=c||h,e;c&&(pa.$$p=null);c&&(pa.$$p=null);if(!u(d))return f(this,"enum_for",["select!"],(e=function(){return(null==e.$$s?this:e.$$s).$size()},e.$$s=this,e.$$arity=0,e));c=h;for(var g=0,l=this.$$keys,k=l.length,m,t;g<k;g++)if(m=l[g],m.$$is_string?t=this.$$smap[m]:(t=m.value,m=m.key),t=d(m,t),!1===t||t===h)void 0!==a.hash_delete(this,m)&&(k--,g--),c=this;return c},pa.$$arity=0);a.def(e,"$shift",za=function(){var c=this.$$keys;return 0<c.length?(c=c[0],c=c.$$is_string?
c:c.key,[c,a.hash_delete(this,c)]):this.$default(h)},za.$$arity=0);a.alias(e,"size","length");a.def(e,"$slice",Aa=function(c){var d=a.slice.call(arguments,0,arguments.length);for(var e=a.hash(),f=0,g=d.length;f<g;f++){var h=d[f],l=a.hash_get(this,h);void 0!==l&&a.hash_put(e,h,l)}return e},Aa.$$arity=-1);a.alias(e,"store","[]=");a.def(e,"$to_a",ta=function(){for(var a=[],c=0,d=this.$$keys,e=d.length,f,g;c<e;c++)f=d[c],f.$$is_string?g=this.$$smap[f]:(g=f.value,f=f.key),a.push([f,g]);return a},ta.$$arity=
0);a.def(e,"$to_h",Da=function(){if(this.$$class===a.Hash)return this;var c=new a.Hash;a.hash_init(c);a.hash_clone(this,c);return c},Da.$$arity=0);a.def(e,"$to_hash",Ea=function(){return this},Ea.$$arity=0);a.def(e,"$to_proc",Ba=function(){var a;return f(this,"proc",[],(a=function(c){var d=null==a.$$s?this:a.$$s;null==c&&d.$raise(k(l,"ArgumentError"),"no key given");return d["$[]"](c)},a.$$s=this,a.$$arity=-1,a))},Ba.$$arity=0);a.alias(e,"to_s","inspect");a.def(e,"$transform_keys",ua=function(){var c=
ua.$$p,d=c||h,e;c&&(ua.$$p=null);c&&(ua.$$p=null);if(!u(d))return f(this,"enum_for",["transform_keys"],(e=function(){return(null==e.$$s?this:e.$$s).$size()},e.$$s=this,e.$$arity=0,e));c=a.hash();for(var g=0,l=this.$$keys,k=l.length,m,t;g<k;g++)m=l[g],m.$$is_string?t=this.$$smap[m]:(t=m.value,m=m.key),m=a.yield1(d,m),a.hash_put(c,m,t);return c},ua.$$arity=0);a.def(e,"$transform_keys!",ha=function(){var c=ha.$$p,d=c||h,e;c&&(ha.$$p=null);c&&(ha.$$p=null);if(!u(d))return f(this,"enum_for",["transform_keys!"],
(e=function(){return(null==e.$$s?this:e.$$s).$size()},e.$$s=this,e.$$arity=0,e));c=a.slice.call(this.$$keys);var g,l=c.length;for(g=0;g<l;g++){var k=c[g];if(k.$$is_string)var m=this.$$smap[k];else m=k.value,k=k.key;var t=a.yield1(d,k);a.hash_delete(this,k);a.hash_put(this,t,m)}return this},ha.$$arity=0);a.def(e,"$transform_values",qa=function(){var c=qa.$$p,d=c||h,e;c&&(qa.$$p=null);c&&(qa.$$p=null);if(!u(d))return f(this,"enum_for",["transform_values"],(e=function(){return(null==e.$$s?this:e.$$s).$size()},
e.$$s=this,e.$$arity=0,e));c=a.hash();for(var g=0,l=this.$$keys,k=l.length,m,t;g<k;g++)m=l[g],m.$$is_string?t=this.$$smap[m]:(t=m.value,m=m.key),t=a.yield1(d,t),a.hash_put(c,m,t);return c},qa.$$arity=0);a.def(e,"$transform_values!",X=function(){var c=X.$$p,d=c||h,e;c&&(X.$$p=null);c&&(X.$$p=null);if(!u(d))return f(this,"enum_for",["transform_values!"],(e=function(){return(null==e.$$s?this:e.$$s).$size()},e.$$s=this,e.$$arity=0,e));c=0;for(var g=this.$$keys,l=g.length,k,m;c<l;c++)k=g[c],k.$$is_string?
m=this.$$smap[k]:(m=k.value,k=k.key),m=a.yield1(d,m),a.hash_put(this,k,m);return this},X.$$arity=0);a.alias(e,"update","merge!");a.alias(e,"value?","has_value?");a.alias(e,"values_at","indexes");return(a.def(e,"$values",ya=function(){for(var a=[],c=0,d=this.$$keys,e=d.length,f;c<e;c++)f=d[c],f.$$is_string?a.push(this.$$smap[f]):a.push(f.value);return a},ya.$$arity=0),h)&&"values"}(e[0],null,e)};
Opal.modules["corelib/number"]=function(a){function p(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function d(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}
var f=a.top,g=[],u=a.nil,q=a.$$$,b=a.$$,z=a.klass,l=a.truthy,w=a.send,C=a.hash2;a.add_stubs("$require $bridge $raise $name $class $Float $respond_to? $coerce_to! $__coerced__ $=== $! $> $** $new $< $to_f $== $nan? $infinite? $enum_for $+ $- $gcd $lcm $% $/ $frexp $to_i $ldexp $rationalize $* $<< $to_r $truncate $-@ $size $<= $>= $<=> $compare $any?".split(" "));f.$require("corelib/numeric");(function(c,$super,f){c=z(c,$super,"Number");var g=[c].concat(f),v,y,R,D,n,A,J,E,L,I,x,B,G,M,O,F,P,Q,K,N,S,
T,ia,U,ba,Y,V,ca,ma,ja,la,ka,Z,da,oa,na,ea,fa,ra,sa,aa,W,xa,va,pa,za,Aa,ta,Da,Ea,Ba,ua,ha,qa,X,ya,wa,Fa,Ia,Ga,Oa,Pa,Ka,Ca,Ha,Qa,Ra,Ja,Ma,Sa,Ta,Ua;b(g,"Opal").$bridge(Number,c);a.defineProperty(c.$$prototype,"$$is_number",!0);c.$$is_number_class=!0;(function(c,d){var e=[c].concat(d),f;a.def(c,"$allocate",f=function(){return this.$raise(b(e,"TypeError"),"allocator undefined for "+this.$name())},f.$$arity=0);a.udef(c,"$new");return u})(a.get_singleton_class(c),g);a.def(c,"$coerce",v=function(a){if(a!==
u){if(a.$$is_string)return[this.$Float(a),this];if(a["$respond_to?"]("to_f"))return[b(g,"Opal")["$coerce_to!"](a,b(g,"Float"),"to_f"),this];if(a.$$is_number)return[a,this]}this.$raise(b(g,"TypeError"),"can't convert "+a.$class()+" into Float")},v.$$arity=1);a.def(c,"$__id__",y=function(){return 2*this+1},y.$$arity=0);a.alias(c,"object_id","__id__");a.def(c,"$+",R=function(a){return a.$$is_number?this+a:this.$__coerced__("+",a)},R.$$arity=1);a.def(c,"$-",D=function(a){return a.$$is_number?this-a:this.$__coerced__("-",
a)},D.$$arity=1);a.def(c,"$*",n=function(a){return a.$$is_number?this*a:this.$__coerced__("*",a)},n.$$arity=1);a.def(c,"$/",A=function(a){return a.$$is_number?this/a:this.$__coerced__("/",a)},A.$$arity=1);a.alias(c,"fdiv","/");a.def(c,"$%",J=function(a){if(a.$$is_number){if(-Infinity==a)return a;if(0==a)this.$raise(b(g,"ZeroDivisionError"),"divided by 0");else return 0>a||0>this?(this%a+a)%a:this%a}else return this.$__coerced__("%",a)},J.$$arity=1);a.def(c,"$&",E=function(a){return a.$$is_number?
this&a:this.$__coerced__("&",a)},E.$$arity=1);a.def(c,"$|",L=function(a){return a.$$is_number?this|a:this.$__coerced__("|",a)},L.$$arity=1);a.def(c,"$^",I=function(a){return a.$$is_number?this^a:this.$__coerced__("^",a)},I.$$arity=1);a.def(c,"$<",x=function(a){return a.$$is_number?this<a:this.$__coerced__("<",a)},x.$$arity=1);a.def(c,"$<=",B=function(a){return a.$$is_number?this<=a:this.$__coerced__("<=",a)},B.$$arity=1);a.def(c,"$>",G=function(a){return a.$$is_number?this>a:this.$__coerced__(">",
a)},G.$$arity=1);a.def(c,"$>=",M=function(a){return a.$$is_number?this>=a:this.$__coerced__(">=",a)},M.$$arity=1);a.def(c,"$<=>",O=function(c){try{return c.$$is_number?isNaN(this)||isNaN(c)?u:this>c?1:this<c?-1:0:this.$__coerced__("<=>",c)}catch(Na){if(a.rescue(Na,[b(g,"ArgumentError")]))try{return u}finally{a.pop_exception()}else throw Na;}},O.$$arity=1);a.def(c,"$<<",F=function(a){a=b(g,"Opal")["$coerce_to!"](a,b(g,"Integer"),"to_int");return 0<a?this<<a:this>>-a},F.$$arity=1);a.def(c,"$>>",P=function(a){a=
b(g,"Opal")["$coerce_to!"](a,b(g,"Integer"),"to_int");return 0<a?this>>a:this<<-a},P.$$arity=1);a.def(c,"$[]",Q=function(a){a=b(g,"Opal")["$coerce_to!"](a,b(g,"Integer"),"to_int");return 0>a?0:32<=a?0>this?1:0:this>>a&1},Q.$$arity=1);a.def(c,"$+@",K=function(){return+this},K.$$arity=0);a.def(c,"$-@",N=function(){return-this},N.$$arity=0);a.def(c,"$~",S=function(){return~this},S.$$arity=0);a.def(c,"$**",T=function(a){var c,d;return l(b(g,"Integer")["$==="](a))?l(l(c=b(g,"Integer")["$==="](this)["$!"]())?
c:p(a,0))?Math.pow(this,a):b(g,"Rational").$new(this,1)["$**"](a):l(r(this,0)?l(d=b(g,"Float")["$==="](a))?d:b(g,"Rational")["$==="](a):r(this,0))?b(g,"Complex").$new(this,0)["$**"](a.$to_f()):l(null!=a.$$is_number)?Math.pow(this,a):this.$__coerced__("**",a)},T.$$arity=1);a.def(c,"$===",ia=function(a){return a.$$is_number?this.valueOf()===a.valueOf():a["$respond_to?"]("==")?a["$=="](this):!1},ia.$$arity=1);a.def(c,"$==",U=function(a){return a.$$is_number?this.valueOf()===a.valueOf():a["$respond_to?"]("==")?
a["$=="](this):!1},U.$$arity=1);a.def(c,"$abs",ba=function(){return Math.abs(this)},ba.$$arity=0);a.def(c,"$abs2",Y=function(){return Math.abs(this*this)},Y.$$arity=0);a.def(c,"$allbits?",V=function(a){a=b(g,"Opal")["$coerce_to!"](a,b(g,"Integer"),"to_int");return(this&a)==a},V.$$arity=1);a.def(c,"$anybits?",ca=function(a){a=b(g,"Opal")["$coerce_to!"](a,b(g,"Integer"),"to_int");return 0!==(this&a)},ca.$$arity=1);a.def(c,"$angle",ma=function(){return l(this["$nan?"]())?this:0==this?0<1/this?0:Math.PI:
0>this?Math.PI:0},ma.$$arity=0);a.alias(c,"arg","angle");a.alias(c,"phase","angle");a.def(c,"$bit_length",ja=function(){l(b(g,"Integer")["$==="](this))||this.$raise(b(g,"NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length"));if(0===this||-1===this)return 0;for(var a=0,c=0>this?~this:this;0!=c;)a+=1,c>>>=1;return a},ja.$$arity=0);a.def(c,"$ceil",la=function(a){null==a&&(a=0);var b=this.$to_f();if(0===b%1&&0<=a)return b;a=Math.pow(10,a);a=Math.ceil(b*a)/a;0===b%1&&(a=
Math.round(a));return a},la.$$arity=-1);a.def(c,"$chr",ka=function(a){return String.fromCharCode(this)},ka.$$arity=-1);a.def(c,"$denominator",Z=function(){var b,c=Z.$$p,d;c&&(Z.$$p=null);var e=0;var f=arguments.length;for(d=Array(f);e<f;e++)d[e]=arguments[e];return l(l(b=this["$nan?"]())?b:this["$infinite?"]())?1:w(this,a.find_super_dispatcher(this,"denominator",Z,!1),d,c)},Z.$$arity=0);a.def(c,"$downto",da=function(a){var c=da.$$p,d=c||u,f;c&&(da.$$p=null);c&&(da.$$p=null);if(d===u)return w(this,
"enum_for",["downto",a],(f=function(){var c=null==f.$$s?this:f.$$s;l(b(g,"Numeric")["$==="](a))||c.$raise(b(g,"ArgumentError"),"comparison of "+c.$class()+" with "+a.$class()+" failed");return l(p(a,c))?0:e(h(c,a),1)},f.$$s=this,f.$$arity=0,f));a.$$is_number||this.$raise(b(g,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");for(c=this;c>=a;c--)d(c);return this},da.$$arity=1);a.alias(c,"eql?","==");a.def(c,"$equal?",oa=function(a){var b;return l(b=this["$=="](a))?b:isNaN(this)&&
isNaN(a)},oa.$$arity=1);a.def(c,"$even?",na=function(){return 0===this%2},na.$$arity=0);a.def(c,"$floor",ea=function(a){null==a&&(a=0);var b=this.$to_f();if(0===b%1&&0<=a)return b;a=Math.pow(10,a);a=Math.floor(b*a)/a;0===b%1&&(a=Math.round(a));return a},ea.$$arity=-1);a.def(c,"$gcd",fa=function(a){l(b(g,"Integer")["$==="](a))||this.$raise(b(g,"TypeError"),"not an integer");var c=Math.abs(this);for(a=Math.abs(a);0<c;){var d=c;c=a%c;a=d}return a},fa.$$arity=1);a.def(c,"$gcdlcm",ra=function(a){return[this.$gcd(a),
this.$lcm(a)]},ra.$$arity=1);a.def(c,"$integer?",sa=function(){return 0===this%1},sa.$$arity=0);a.def(c,"$is_a?",aa=function(c){var d=aa.$$p,e;d&&(aa.$$p=null);var f=0;var h=arguments.length;for(e=Array(h);f<h;f++)e[f]=arguments[f];return l(c["$=="](b(g,"Integer"))?b(g,"Integer")["$==="](this):c["$=="](b(g,"Integer")))||l(c["$=="](b(g,"Integer"))?b(g,"Integer")["$==="](this):c["$=="](b(g,"Integer")))||l(c["$=="](b(g,"Float"))?b(g,"Float")["$==="](this):c["$=="](b(g,"Float")))?!0:w(this,a.find_super_dispatcher(this,
"is_a?",aa,!1),e,d)},aa.$$arity=1);a.alias(c,"kind_of?","is_a?");a.def(c,"$instance_of?",W=function(c){var d=W.$$p,e;d&&(W.$$p=null);var f=0;var h=arguments.length;for(e=Array(h);f<h;f++)e[f]=arguments[f];return l(c["$=="](b(g,"Integer"))?b(g,"Integer")["$==="](this):c["$=="](b(g,"Integer")))||l(c["$=="](b(g,"Integer"))?b(g,"Integer")["$==="](this):c["$=="](b(g,"Integer")))||l(c["$=="](b(g,"Float"))?b(g,"Float")["$==="](this):c["$=="](b(g,"Float")))?!0:w(this,a.find_super_dispatcher(this,"instance_of?",
W,!1),e,d)},W.$$arity=1);a.def(c,"$lcm",xa=function(a){l(b(g,"Integer")["$==="](a))||this.$raise(b(g,"TypeError"),"not an integer");return 0==this||0==a?0:Math.abs(this*a/this.$gcd(a))},xa.$$arity=1);a.alias(c,"magnitude","abs");a.alias(c,"modulo","%");a.def(c,"$next",va=function(){return this+1},va.$$arity=0);a.def(c,"$nobits?",pa=function(a){a=b(g,"Opal")["$coerce_to!"](a,b(g,"Integer"),"to_int");return 0==(this&a)},pa.$$arity=1);a.def(c,"$nonzero?",za=function(){return 0==this?u:this},za.$$arity=
0);a.def(c,"$numerator",Aa=function(){var b,c=Aa.$$p,d;c&&(Aa.$$p=null);var e=0;var f=arguments.length;for(d=Array(f);e<f;e++)d[e]=arguments[e];return l(l(b=this["$nan?"]())?b:this["$infinite?"]())?this:w(this,a.find_super_dispatcher(this,"numerator",Aa,!1),d,c)},Aa.$$arity=0);a.def(c,"$odd?",ta=function(){return 0!==this%2},ta.$$arity=0);a.def(c,"$ord",Da=function(){return this},Da.$$arity=0);a.def(c,"$pow",Ea=function(a,c){0==this&&this.$raise(b(g,"ZeroDivisionError"),"divided by 0");if(void 0===
c)return this["$**"](a);b(g,"Integer")["$==="](a)||this.$raise(b(g,"TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer");0>a&&this.$raise(b(g,"TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified");b(g,"Integer")["$==="](c)||this.$raise(b(g,"TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers");0===c&&this.$raise(b(g,"ZeroDivisionError"),"divided by 0");return this["$**"](a)["$%"](c)},Ea.$$arity=
-2);a.def(c,"$pred",Ba=function(){return this-1},Ba.$$arity=0);a.def(c,"$quo",ua=function(c){var d=ua.$$p,e;d&&(ua.$$p=null);var f=0;var h=arguments.length;for(e=Array(h);f<h;f++)e[f]=arguments[f];return l(b(g,"Integer")["$==="](this))?w(this,a.find_super_dispatcher(this,"quo",ua,!1),e,d):k(this,c)},ua.$$arity=1);a.def(c,"$rationalize",ha=function(c){1<arguments.length&&this.$raise(b(g,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");if(l(b(g,"Integer")["$==="](this)))return b(g,
"Rational").$new(this,1);if(l(this["$infinite?"]()))return this.$raise(b(g,"FloatDomainError"),"Infinity");if(l(this["$nan?"]()))return this.$raise(b(g,"FloatDomainError"),"NaN");if(l(null==c)){var e=b(g,"Math").$frexp(this);var f=a.to_ary(e);var k=null==f[0]?u:f[0];f=null==f[1]?u:f[1];e;k=b(g,"Math").$ldexp(k,q(b(g,"Float"),"MANT_DIG")).$to_i();f=h(f,q(b(g,"Float"),"MANT_DIG"));return b(g,"Rational").$new(d(2,k),1["$<<"](h(1,f))).$rationalize(b(g,"Rational").$new(1,1["$<<"](h(1,f))))}return this.$to_r().$rationalize(c)},
ha.$$arity=-1);a.def(c,"$remainder",qa=function(a){return h(this,d(a,k(this,a).$truncate()))},qa.$$arity=1);a.def(c,"$round",X=function(c){var d;if(l(b(g,"Integer")["$==="](this))){if(l(null==c))return this;l(l(d=b(g,"Float")["$==="](c))?c["$infinite?"]():d)&&this.$raise(b(g,"RangeError"),"Infinity");c=b(g,"Opal")["$coerce_to!"](c,b(g,"Integer"),"to_int");l(r(c,q(b(g,"Integer"),"MIN")))&&this.$raise(b(g,"RangeError"),"out of bounds");if(l(0<=c))return this;c=c["$-@"]();if(.415241*c-.125>this.$size())return 0;
c=Math.pow(10,c);c*=Math.floor((Math.abs(this)+c/2)/c);return 0>this?-c:c}l(l(d=this["$nan?"]())?null==c:d)&&this.$raise(b(g,"FloatDomainError"),"NaN");c=b(g,"Opal")["$coerce_to!"](c||0,b(g,"Integer"),"to_int");if(l("number"===typeof c?0>=c:c["$<="](0)))l(this["$nan?"]())?this.$raise(b(g,"RangeError"),"NaN"):l(this["$infinite?"]())&&this.$raise(b(g,"FloatDomainError"),"Infinity");else{if(c["$=="](0))return Math.round(this);if(l(l(d=this["$nan?"]())?d:this["$infinite?"]()))return this}var f=b(g,"Math").$frexp(this);
d=a.to_ary(f);d=null==d[1]?u:d[1];f;f=h(e(q(b(g,"Float"),"DIG"),2),l(p(d,0))?k(d,4):h(k(d,3),1));f="number"===typeof c&&"number"===typeof f?c>=f:c["$>="](f);return l(f)?this:l(r(c,(l(p(d,0))?e(k(d,3),1):k(d,4))["$-@"]()))?0:Math.round(this*Math.pow(10,c))/Math.pow(10,c)},X.$$arity=-1);a.def(c,"$step",ya=function(c,d,e){function f(){void 0!==x&&(v=x);void 0===v&&(v=u);y===u&&r.$raise(b(g,"TypeError"),"step must be numeric");0===y&&r.$raise(b(g,"ArgumentError"),"step can't be 0");void 0!==A&&(y=A);
if(y===u||null==y)y=1;var a=y["$<=>"](0);a===u&&r.$raise(b(g,"ArgumentError"),"0 can't be coerced into "+y.$class());if(v===u||null==v)v=0<a?q(b(g,"Float"),"INFINITY"):q(b(g,"Float"),"INFINITY")["$-@"]();b(g,"Opal").$compare(r,v)}function h(){if(0<y&&r>v||0>y&&r<v)return 0;if(Infinity===y||-Infinity===y)return 1;var a=Math.abs,c=Math.floor;a=(a(r)+a(v)+a(v-r))/a(y)*q(b(g,"Float"),"EPSILON");if(Infinity===a||-Infinity===a)return 0;.5<a&&(a=.5);return c((v-r)/y+a)+1}function l(){f();if(0===y)return Infinity;
if(0!==y%1)return h();if(0<y&&r>v||0>y&&r<v)return 0;var a=Math.ceil,b=Math.abs,c=b(r-v)+1;b=b(y);return a(c/b)}var k=ya.$$p,n=k||u,t,p,r=this,K=t=u;k&&(ya.$$p=null);k&&(ya.$$p=null);k=a.slice.call(arguments,0,arguments.length);t=a.extract_kwargs(k);if(null==t)t=C([],{});else if(!t.$$is_hash)throw a.ArgumentError.$new("expected kwargs");if(0<k.length){var v=k[0];k.splice(0,1)}if(0<k.length){var y=k[0];k.splice(0,1)}var x=t.$$smap.to;var A=t.$$smap.by;void 0!==v&&void 0!==x&&r.$raise(b(g,"ArgumentError"),
"to is given twice");void 0!==y&&void 0!==A&&r.$raise(b(g,"ArgumentError"),"step is given twice");if(n===u)return t=[],K=C([],{}),void 0!==v&&t.push(v),void 0!==y&&t.push(y),void 0!==x&&a.hash_put(K,"to",x),void 0!==A&&a.hash_put(K,"by",A),K["$any?"]()&&t.push(K),w(r,"enum_for",["step"].concat(a.to_a(t)),(p=function(){return l()},p.$$s=r,p.$$arity=0,p));f();if(0===y)for(;;)n(r);if(0!==r%1||0!==v%1||0!==y%1){if(p=h(),0<p)if(Infinity===y||-Infinity===y)n(r);else if(k=0,0<y)for(;k<p;)t=k*y+r,v<t&&(t=
v),n(t),k+=1;else for(;k<p;)t=k*y+r,v>t&&(t=v),n(t),k+=1}else if(p=r,0<y)for(;p<=v;)n(p),p+=y;else for(;p>=v;)n(p),p+=y;return r},ya.$$arity=-1);a.alias(c,"succ","next");a.def(c,"$times",wa=function(){var a=wa.$$p,b=a||u,c;a&&(wa.$$p=null);a&&(wa.$$p=null);if(!l(b))return w(this,"enum_for",["times"],(c=function(){return null==c.$$s?this:c.$$s},c.$$s=this,c.$$arity=0,c));for(a=0;a<this;a++)b(a);return this},wa.$$arity=0);a.def(c,"$to_f",Fa=function(){return this},Fa.$$arity=0);a.def(c,"$to_i",Ia=function(){return parseInt(this,
10)},Ia.$$arity=0);a.alias(c,"to_int","to_i");a.def(c,"$to_r",Ga=function(){if(l(b(g,"Integer")["$==="](this)))return b(g,"Rational").$new(this,1);var c=b(g,"Math").$frexp(this);var e=a.to_ary(c);var f=null==e[0]?u:e[0];e=null==e[1]?u:e[1];c;f=b(g,"Math").$ldexp(f,q(b(g,"Float"),"MANT_DIG")).$to_i();e=h(e,q(b(g,"Float"),"MANT_DIG"));return d(f,q(b(g,"Float"),"RADIX")["$**"](e)).$to_r()},Ga.$$arity=0);a.def(c,"$to_s",Oa=function(a){var c;null==a&&(a=10);a=b(g,"Opal")["$coerce_to!"](a,b(g,"Integer"),
"to_int");l(l(c=r(a,2))?c:p(a,36))&&this.$raise(b(g,"ArgumentError"),"invalid radix "+a);return this.toString(a)},Oa.$$arity=-1);a.def(c,"$truncate",Pa=function(a){null==a&&(a=0);var b=this.$to_f();if(0===b%1&&0<=a)return b;a=Math.pow(10,a);a=parseInt(b*a,10)/a;0===b%1&&(a=Math.round(a));return a},Pa.$$arity=-1);a.alias(c,"inspect","to_s");a.def(c,"$digits",Ka=function(a){null==a&&(a=10);r(this,0)&&this.$raise(q(b(g,"Math"),"DomainError"),"out of domain");a=b(g,"Opal")["$coerce_to!"](a,b(g,"Integer"),
"to_int");l(r(a,2))&&this.$raise(b(g,"ArgumentError"),"invalid radix "+a);for(var c=this,d=[];0!==c;)d.push(c%a),c=parseInt(c/a,10);return d},Ka.$$arity=-1);a.def(c,"$divmod",Ca=function(c){var d,e=Ca.$$p,f;e&&(Ca.$$p=null);var h=0;var k=arguments.length;for(f=Array(k);h<k;h++)f[h]=arguments[h];return l(l(d=this["$nan?"]())?d:c["$nan?"]())?this.$raise(b(g,"FloatDomainError"),"NaN"):l(this["$infinite?"]())?this.$raise(b(g,"FloatDomainError"),"Infinity"):w(this,a.find_super_dispatcher(this,"divmod",
Ca,!1),f,e)},Ca.$$arity=1);a.def(c,"$upto",Ha=function(a){var c=Ha.$$p,d=c||u,f;c&&(Ha.$$p=null);c&&(Ha.$$p=null);if(d===u)return w(this,"enum_for",["upto",a],(f=function(){var c=null==f.$$s?this:f.$$s;l(b(g,"Numeric")["$==="](a))||c.$raise(b(g,"ArgumentError"),"comparison of "+c.$class()+" with "+a.$class()+" failed");return l(r(a,c))?0:e(h(a,c),1)},f.$$s=this,f.$$arity=0,f));a.$$is_number||this.$raise(b(g,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");for(c=this;c<=
a;c++)d(c);return this},Ha.$$arity=1);a.def(c,"$zero?",Qa=function(){return 0==this},Qa.$$arity=0);a.def(c,"$size",Ra=function(){return 4},Ra.$$arity=0);a.def(c,"$nan?",Ja=function(){return isNaN(this)},Ja.$$arity=0);a.def(c,"$finite?",Ma=function(){return Infinity!=this&&-Infinity!=this&&!isNaN(this)},Ma.$$arity=0);a.def(c,"$infinite?",Sa=function(){return Infinity==this?1:-Infinity==this?-1:u},Sa.$$arity=0);a.def(c,"$positive?",Ta=function(){return 0!=this&&(Infinity==this||0<1/this)},Ta.$$arity=
0);return(a.def(c,"$negative?",Ua=function(){return-Infinity==this||0>1/this},Ua.$$arity=0),u)&&"negative?"})(g[0],b(g,"Numeric"),g);a.const_set(g[0],"Fixnum",b(g,"Number"));(function(c,$super,d){c=z(c,$super,"Integer");d=[c].concat(d);c.$$is_number_class=!0;(function(c,d){var e=[c].concat(d),f,g,h;a.def(c,"$allocate",f=function(){return this.$raise(b(e,"TypeError"),"allocator undefined for "+this.$name())},f.$$arity=0);a.udef(c,"$new");a.def(c,"$===",g=function(a){return a.$$is_number?0===a%1:!1},
g.$$arity=1);return(a.def(c,"$sqrt",h=function(a){a=b(e,"Opal")["$coerce_to!"](a,b(e,"Integer"),"to_int");0>a&&this.$raise(q(b(e,"Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"');return parseInt(Math.sqrt(a),10)},h.$$arity=1),u)&&"sqrt"})(a.get_singleton_class(c),d);a.const_set(d[0],"MAX",Math.pow(2,30)-1);return a.const_set(d[0],"MIN",-Math.pow(2,30))})(g[0],b(g,"Numeric"),g);return function(c,$super,d){c=z(c,$super,"Float");d=[c].concat(d);c.$$is_number_class=!0;(function(c,
d){var e=[c].concat(d),f,g;a.def(c,"$allocate",f=function(){return this.$raise(b(e,"TypeError"),"allocator undefined for "+this.$name())},f.$$arity=0);a.udef(c,"$new");return(a.def(c,"$===",g=function(a){return!!a.$$is_number},g.$$arity=1),u)&&"==="})(a.get_singleton_class(c),d);a.const_set(d[0],"INFINITY",Infinity);a.const_set(d[0],"MAX",Number.MAX_VALUE);a.const_set(d[0],"MIN",Number.MIN_VALUE);a.const_set(d[0],"NAN",NaN);a.const_set(d[0],"DIG",15);a.const_set(d[0],"MANT_DIG",53);a.const_set(d[0],
"RADIX",2);return a.const_set(d[0],"EPSILON",Number.EPSILON||2.220446049250313E-16)}(g[0],b(g,"Numeric"),g)};
Opal.modules["corelib/range"]=function(a){function p(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var k=a.top,d=[],f=a.nil,g=a.$$$,u=a.$$,q=a.klass,b=a.truthy,z=a.send;a.add_stubs("$require $include $attr_reader $raise $<=> $include? $<= $< $enum_for $size $upto $to_proc $respond_to? $class $succ $! $== $=== $exclude_end? $eql? $begin $end $last $to_a $> $- $abs $to_i $coerce_to! $ceil $/ $loop $+ $* $>= $each_with_index $% $bsearch $inspect $[] $hash".split(" "));
k.$require("corelib/enumerable");return function(d,$super,k){d=q(d,$super,"Range");var c=[d].concat(k),l,y,t,v,H,C,D,n,A,J,E,L,I,x,B,G,M;d.$$prototype.begin=d.$$prototype.end=d.$$prototype.excl=f;d.$include(u(c,"Enumerable"));d.$$prototype.$$is_range=!0;d.$attr_reader("begin","end");a.def(d,"$initialize",l=function(a,d,e){null==e&&(e=!1);b(this.begin)&&this.$raise(u(c,"NameError"),"'initialize' called twice");b(a["$<=>"](d))||this.$raise(u(c,"ArgumentError"),"bad value for range");this.begin=a;this.end=
d;return this.excl=e},l.$$arity=-3);a.def(d,"$===",y=function(a){return this["$include?"](a)},y.$$arity=1);a.def(d,"$cover?",t=function(a){var c;var d=this.begin["$<=>"](a);if(!b(b(c=d)?p(d,0):c))return!1;a=a["$<=>"](this.end);return b(this.excl)?b(c=a)?r(a,0):c:b(c=a)?p(a,0):c},t.$$arity=1);a.def(d,"$each",v=function(){var d=v.$$p,e=d||f,g,h,k=f,l=f;d&&(v.$$p=null);d&&(v.$$p=null);if(e===f)return z(this,"enum_for",["each"],(g=function(){return(null==g.$$s?this:g.$$s).$size()},g.$$s=this,g.$$arity=
0,g));if(this.begin.$$is_number&&this.end.$$is_number){0===this.begin%1&&0===this.end%1||this.$raise(u(c,"TypeError"),"can't iterate from Float");d=this.begin;for(h=this.end+(b(this.excl)?0:1);d<h;d++)e(d);return this}if(this.begin.$$is_string&&this.end.$$is_string)return z(this.begin,"upto",[this.end,this.excl],e.$to_proc()),this;k=this.begin;l=this.end;for(b(k["$respond_to?"]("succ"))||this.$raise(u(c,"TypeError"),"can't iterate from "+k.$class());b(r(k["$<=>"](l),0));)a.yield1(e,k),k=k.$succ();
b(b(h=this.excl["$!"]())?k["$=="](l):h)&&a.yield1(e,k);return this},v.$$arity=0);a.def(d,"$eql?",H=function(a){var d,e;return b(u(c,"Range")["$==="](a))?b(d=b(e=this.excl["$==="](a["$exclude_end?"]()))?this.begin["$eql?"](a.$begin()):e)?this.end["$eql?"](a.$end()):d:!1},H.$$arity=1);a.alias(d,"==","eql?");a.def(d,"$exclude_end?",C=function(){return this.excl},C.$$arity=0);a.def(d,"$first",D=function(c){var d=D.$$p,e;d&&(D.$$p=null);var f=0;var g=arguments.length;for(e=Array(g);f<g;f++)e[f]=arguments[f];
return b(null==c)?this.begin:z(this,a.find_super_dispatcher(this,"first",D,!1),e,d)},D.$$arity=-1);a.alias(d,"include?","cover?");a.def(d,"$last",n=function(a){return b(null==a)?this.end:this.$to_a().$last(a)},n.$$arity=-1);a.def(d,"$max",A=function(){var c,d=A.$$p,g=d||f,h;d&&(A.$$p=null);var k=0;var l=arguments.length;for(h=Array(l);k<l;k++)h[k]=arguments[k];return g!==f?z(this,a.find_super_dispatcher(this,"max",A,!1),h,d):b(e(this.begin,this.end))?f:b(b(c=this.excl)?this.begin["$=="](this.end):
c)?f:this.excl?this.end-1:this.end},A.$$arity=0);a.alias(d,"member?","cover?");a.def(d,"$min",J=function(){var c,d=J.$$p,g=d||f,h;d&&(J.$$p=null);var k=0;var l=arguments.length;for(h=Array(l);k<l;k++)h[k]=arguments[k];return g!==f?z(this,a.find_super_dispatcher(this,"min",J,!1),h,d):b(e(this.begin,this.end))?f:b(b(c=this.excl)?this.begin["$=="](this.end):c)?f:this.begin},J.$$arity=0);a.def(d,"$size",E=function(){var a;var d=this.begin;var e=this.end;b(this.excl)&&(e="number"===typeof e?e-1:e["$-"](1));
if(!b(b(a=u(c,"Numeric")["$==="](d))?u(c,"Numeric")["$==="](e):a))return f;if(b(r(e,d)))return 0;a=g(u(c,"Float"),"INFINITY");return b([d.$abs(),e.$abs()]["$include?"](a))?a:(Math.abs(e-d)+1).$to_i()},E.$$arity=0);a.def(d,"$step",L=function(d){function k(){d.$$is_number||(d=u(c,"Opal")["$coerce_to!"](d,u(c,"Integer"),"to_int"));0>d?r.$raise(u(c,"ArgumentError"),"step can't be negative"):0===d&&r.$raise(u(c,"ArgumentError"),"step can't be 0")}function l(){if(!r.begin["$respond_to?"]("succ")||r.begin.$$is_string&&
r.end.$$is_string)return f;if(0===d%1){var a=r.$size();return("number"===typeof a&&"number"===typeof d?a/d:a["$/"](d)).$ceil()}a=r.begin;var b=r.end,e=Math.abs,h=Math.floor;e=(e(a)+e(b)+e(b-a))/e(d)*g(u(c,"Float"),"EPSILON");.5<e&&(e=.5);r.excl?(h=h((b-a)/d-e),h*d+a<b&&h++):h=h((b-a)/d+e)+1;return h}var m,n,t,p=L.$$p,q=p||f,r=this,v=f;p&&(L.$$p=null);null==d&&(d=1);if(q===f)return z(r,"enum_for",["step",d],(m=function(){k();return l()},m.$$s=r,m.$$arity=0,m));k();b(r.begin.$$is_number&&r.end.$$is_number)?
(v=0,function(){var c=a.new_brk();try{return z(r,"loop",[],(n=function(){var g=null==n.$$s?this:n.$$s;null==g.begin&&(g.begin=f);null==g.excl&&(g.excl=f);null==g.end&&(g.end=f);var k=h(g.begin,"number"===typeof v&&"number"===typeof d?v*d:v["$*"](d));b(g.excl)?(g=g.end,g="number"===typeof k&&"number"===typeof g?k>=g:k["$>="](g),b(g)&&a.brk(f,c)):b(e(k,g.end))&&a.brk(f,c);a.yield1(q,k);return v=h(v,1)},n.$$s=r,n.$$brk=c,n.$$arity=0,n))}catch(Y){if(Y===c)return Y.$v;throw Y;}}()):(r.begin.$$is_string&&
r.end.$$is_string&&0!==d%1&&r.$raise(u(c,"TypeError"),"no implicit conversion to float from string"),z(r,"each_with_index",[],(t=function(b,c){null==b&&(b=f);null==c&&(c=f);return c["$%"](d)["$=="](0)?a.yield1(q,b):f},t.$$s=r,t.$$arity=2,t)));return r},L.$$arity=-1);a.def(d,"$bsearch",I=function(){var a=I.$$p,d=a||f;a&&(I.$$p=null);a&&(I.$$p=null);if(d===f)return this.$enum_for("bsearch");b(this.begin.$$is_number&&this.end.$$is_number)||this.$raise(u(c,"TypeError"),"can't do binary search for "+this.begin.$class());
return z(this.$to_a(),"bsearch",[],d.$to_proc())},I.$$arity=0);a.def(d,"$to_s",x=function(){return""+this.begin+(b(this.excl)?"...":"..")+this.end},x.$$arity=0);a.def(d,"$inspect",B=function(){return""+this.begin.$inspect()+(b(this.excl)?"...":"..")+this.end.$inspect()},B.$$arity=0);a.def(d,"$marshal_load",G=function(a){this.begin=a["$[]"]("begin");this.end=a["$[]"]("end");return this.excl=a["$[]"]("excl")},G.$$arity=1);return(a.def(d,"$hash",M=function(){return[this.begin,this.end,this.excl].$hash()},
M.$$arity=0),f)&&"hash"}(d[0],null,d)};
Opal.modules["corelib/proc"]=function(a){var p=[],r=a.nil,e=a.$$,h=a.slice,k=a.klass,d=a.truthy;a.add_stubs(["$raise","$coerce_to!"]);return function(f,$super,p){f=k(f,$super,"Proc");var q=[f].concat(p),b,u,l,w,C,c,m,y,t,v;a.defineProperty(f.$$prototype,"$$is_proc",!0);a.defineProperty(f.$$prototype,"$$is_lambda",!1);a.defs(f,"$new",b=function(){var a=b.$$p,c=a||r;a&&(b.$$p=null);a&&(b.$$p=null);d(c)||this.$raise(e(q,"ArgumentError"),"tried to create a Proc object without a block");return c},b.$$arity=
0);a.def(f,"$call",u=function(b){var c=u.$$p,d=c||r;c&&(u.$$p=null);c&&(u.$$p=null);c=a.slice.call(arguments,0,arguments.length);d!==r&&(this.$$p=d);if(d=this.$$brk)try{var e=this.$$is_lambda?this.apply(null,c):a.yieldX(this,c)}catch(A){if(A===d)return d.$v;throw A;}else e=this.$$is_lambda?this.apply(null,c):a.yieldX(this,c);return e},u.$$arity=-1);a.alias(f,"[]","call");a.alias(f,"===","call");a.alias(f,"yield","call");a.def(f,"$to_proc",l=function(){return this},l.$$arity=0);a.def(f,"$lambda?",
w=function(){return!!this.$$is_lambda},w.$$arity=0);a.def(f,"$arity",C=function(){return this.$$is_curried?-1:this.$$arity},C.$$arity=0);a.def(f,"$source_location",c=function(){return r},c.$$arity=0);a.def(f,"$binding",m=function(){this.$$is_curried&&this.$raise(e(q,"ArgumentError"),"Can't create Binding");return r},m.$$arity=0);a.def(f,"$parameters",y=function(){if(this.$$is_curried)return[["rest"]];if(this.$$parameters){if(this.$$is_lambda)return this.$$parameters;var a=[],b;var c=0;for(b=this.$$parameters.length;c<
b;c++){var d=this.$$parameters[c];"req"===d[0]&&(d=["opt",d[1]]);a.push(d)}return a}return[]},y.$$arity=0);a.def(f,"$curry",t=function(a){function b(){var d=h.call(arguments),f=d.length;f>a&&c.$$is_lambda&&!c.$$is_curried&&c.$raise(e(q,"ArgumentError"),"wrong number of arguments ("+f+" for "+a+")");if(f>=a)return c.$call.apply(c,d);f=function(){return b.apply(null,d.concat(h.call(arguments)))};f.$$is_lambda=c.$$is_lambda;f.$$is_curried=!0;return f}var c=this;void 0===a?a=c.length:(a=e(q,"Opal")["$coerce_to!"](a,
e(q,"Integer"),"to_int"),c.$$is_lambda&&a!==c.length&&c.$raise(e(q,"ArgumentError"),"wrong number of arguments ("+a+" for "+c.length+")"));b.$$is_lambda=c.$$is_lambda;b.$$is_curried=!0;return b},t.$$arity=-1);a.def(f,"$dup",v=function(){var a=this.$$original_proc||this,b=function(){return a.apply(this,arguments)},c;for(c in this)this.hasOwnProperty(c)&&(b[c]=this[c]);return b},v.$$arity=0);return a.alias(f,"clone","dup")}(p[0],Function,p)};
Opal.modules["corelib/method"]=function(a){var p=[],r=a.nil,e=a.$$,h=a.klass,k=a.truthy;a.add_stubs("$attr_reader $arity $new $class $join $source_location $raise".split(" "));(function(d,$super,g){d=h(d,$super,"Method");var p=[d].concat(g),q,b,z,l,w,C,c,m,y;d.$$prototype.method=d.$$prototype.receiver=d.$$prototype.owner=d.$$prototype.name=r;d.$attr_reader("owner","receiver","name");a.def(d,"$initialize",q=function(a,b,c,d){this.receiver=a;this.owner=b;this.name=d;return this.method=c},q.$$arity=
4);a.def(d,"$arity",b=function(){return this.method.$arity()},b.$$arity=0);a.def(d,"$parameters",z=function(){return this.method.$$parameters},z.$$arity=0);a.def(d,"$source_location",l=function(){var a;return k(a=this.method.$$source_location)?a:["(eval)",0]},l.$$arity=0);a.def(d,"$comments",w=function(){var a;return k(a=this.method.$$comments)?a:[]},w.$$arity=0);a.def(d,"$call",C=function(b){var c=C.$$p,d=c||r;c&&(C.$$p=null);c&&(C.$$p=null);c=a.slice.call(arguments,0,arguments.length);this.method.$$p=
d;return this.method.apply(this.receiver,c)},C.$$arity=-1);a.alias(d,"[]","call");a.def(d,"$unbind",c=function(){return e(p,"UnboundMethod").$new(this.receiver.$class(),this.owner,this.method,this.name)},c.$$arity=0);a.def(d,"$to_proc",m=function(){var a=this.$call.bind(this);a.$$unbound=this.method;a.$$is_lambda=!0;a.$$arity=this.method.$$arity;a.$$parameters=this.method.$$parameters;return a},m.$$arity=0);return(a.def(d,"$inspect",y=function(){return"#<"+this.$class()+": "+this.receiver.$class()+
"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},y.$$arity=0),r)&&"inspect"})(p[0],null,p);return function(d,$super,g){d=h(d,$super,"UnboundMethod");var p=[d].concat(g),q,b,z,l,w,C,c;d.$$prototype.method=d.$$prototype.owner=d.$$prototype.name=d.$$prototype.source=r;d.$attr_reader("source","owner","name");a.def(d,"$initialize",q=function(a,c,b,d){this.source=a;this.owner=c;this.method=b;return this.name=d},q.$$arity=4);a.def(d,"$arity",b=function(){return this.method.$arity()},
b.$$arity=0);a.def(d,"$parameters",z=function(){return this.method.$$parameters},z.$$arity=0);a.def(d,"$source_location",l=function(){var a;return k(a=this.method.$$source_location)?a:["(eval)",0]},l.$$arity=0);a.def(d,"$comments",w=function(){var a;return k(a=this.method.$$comments)?a:[]},w.$$arity=0);a.def(d,"$bind",C=function(c){if(this.owner.$$is_module||a.is_a(c,this.owner))return e(p,"Method").$new(c,this.owner,this.method,this.name);this.$raise(e(p,"TypeError"),"can't bind singleton method to a different class (expected "+
c+".kind_of?("+this.owner+" to be true)")},C.$$arity=1);return(a.def(d,"$inspect",c=function(){return"#<"+this.$class()+": "+this.source+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},c.$$arity=0),r)&&"inspect"}(p[0],null,p)};
Opal.modules["corelib/variables"]=function(a){var p=[],r=a.nil,e=a.$$,h=a.gvars,k=a.hash2;a.add_stubs(["$new"]);h["&"]=h["~"]=h["`"]=h["'"]=r;h.LOADED_FEATURES=h['"']=a.loaded_features;h.LOAD_PATH=h[":"]=[];h["/"]="\n";h[","]=r;a.const_set(p[0],"ARGV",[]);a.const_set(p[0],"ARGF",e(p,"Object").$new());a.const_set(p[0],"ENV",k([],{}));h.VERBOSE=!1;h.DEBUG=!1;return h.SAFE=0};
Opal.modules["corelib/io"]=function(a){function p(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var r=[],e=a.nil,h=a.$$$,k=a.$$,d=a.klass,f=a.module,g=a.send,u=a.gvars,q=a.truthy,b=e;a.add_stubs("$attr_accessor $size $write $join $map $String $empty? $concat $chomp $getbyte $getc $raise $new $write_proc= $- $extend".split(" "));(function(b,$super,h){b=d(b,$super,"IO");h=[b].concat(h);var c,l,p,t;b.$$prototype.tty=b.$$prototype.closed=e;a.const_set(h[0],"SEEK_SET",0);a.const_set(h[0],
"SEEK_CUR",1);a.const_set(h[0],"SEEK_END",2);a.def(b,"$tty?",c=function(){return this.tty},c.$$arity=0);a.def(b,"$closed?",l=function(){return this.closed},l.$$arity=0);b.$attr_accessor("write_proc");a.def(b,"$write",p=function(a){this.write_proc(a);return a.$size()},p.$$arity=1);b.$attr_accessor("sync","tty");a.def(b,"$flush",t=function(){return e},t.$$arity=0);(function(b,c){b=f(b,"Writable");[b].concat(c);var d,h,k;a.def(b,"$<<",d=function(a){this.$write(a);return this},d.$$arity=1);a.def(b,"$print",
h=function(b){var c;null==u[","]&&(u[","]=e);var d=a.slice.call(arguments,0,arguments.length);this.$write(g(d,"map",[],(c=function(a){var b=null==c.$$s?this:c.$$s;null==a&&(a=e);return b.$String(a)},c.$$s=this,c.$$arity=1,c)).$join(u[","]));return e},h.$$arity=-1);a.def(b,"$puts",k=function(b){var c,d=e;null==u["/"]&&(u["/"]=e);var f=a.slice.call(arguments,0,arguments.length);d=u["/"];q(f["$empty?"]())?this.$write(u["/"]):this.$write(g(f,"map",[],(c=function(a){var b=null==c.$$s?this:c.$$s;null==
a&&(a=e);return b.$String(a).$chomp()},c.$$s=this,c.$$arity=1,c)).$concat([e]).$join(d));return e},k.$$arity=-1)})(h[0],h);return function(b,c){b=f(b,"Readable");var d=[b].concat(c),g,h,l,m;a.def(b,"$readbyte",g=function(){return this.$getbyte()},g.$$arity=0);a.def(b,"$readchar",h=function(){return this.$getc()},h.$$arity=0);a.def(b,"$readline",l=function(a){null==u["/"]&&(u["/"]=e);return this.$raise(k(d,"NotImplementedError"))},l.$$arity=-1);a.def(b,"$readpartial",m=function(a,b){return this.$raise(k(d,
"NotImplementedError"))},m.$$arity=-2)}(h[0],h)})(r[0],null,r);a.const_set(r[0],"STDERR",u.stderr=k(r,"IO").$new());a.const_set(r[0],"STDIN",u.stdin=k(r,"IO").$new());a.const_set(r[0],"STDOUT",u.stdout=k(r,"IO").$new());var z=a.global.console;b=["object"===typeof process&&"object"===typeof process.stdout?function(a){process.stdout.write(a)}:function(a){z.log(a)}];g(k(r,"STDOUT"),"write_proc=",a.to_a(b));b[p(b.length,1)];b=["object"===typeof process&&"object"===typeof process.stderr?function(a){process.stderr.write(a)}:
function(a){z.warn(a)}];g(k(r,"STDERR"),"write_proc=",a.to_a(b));b[p(b.length,1)];k(r,"STDOUT").$extend(h(k(r,"IO"),"Writable"));return k(r,"STDERR").$extend(h(k(r,"IO"),"Writable"))};
Opal.modules["opal/regexp_anchors"]=function(a){var p=[],r=a.nil,e=a.$$,h=a.module;a.add_stubs(["$==","$new"]);p=[h(p[0],"Opal")].concat(p);a.const_set(p[0],"REGEXP_START",e(p,"RUBY_ENGINE")["$=="]("opal")?"^":r);a.const_set(p[0],"REGEXP_END",e(p,"RUBY_ENGINE")["$=="]("opal")?"$":r);a.const_set(p[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");a.const_set(p[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");
a.const_set(p[0],"INLINE_IDENTIFIER_REGEXP",e(p,"Regexp").$new("[^"+e(p,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+e(p,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]"));a.const_set(p[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");a.const_set(p[0],"CONST_NAME_REGEXP",e(p,"Regexp").$new(""+e(p,"REGEXP_START")+"(::)?[A-Z][^"+e(p,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+e(p,"REGEXP_END")))};
Opal.modules["opal/mini"]=function(a){var p=a.top;a.add_stubs(["$require"]);p.$require("opal/base");p.$require("corelib/nil");p.$require("corelib/boolean");p.$require("corelib/string");p.$require("corelib/comparable");p.$require("corelib/enumerable");p.$require("corelib/enumerator");p.$require("corelib/array");p.$require("corelib/hash");p.$require("corelib/number");p.$require("corelib/range");p.$require("corelib/proc");p.$require("corelib/method");p.$require("corelib/regexp");p.$require("corelib/variables");
p.$require("corelib/io");return p.$require("opal/regexp_anchors")};
Opal.modules["corelib/kernel/format"]=function(a){var p=[],r=a.nil,e=a.$$,h=a.module,k=a.truthy,d=a.gvars;a.add_stubs("$== $length $respond_to? $[] $coerce_to? $nil? $to_a $raise $to_int $fetch $Integer $Float $to_ary $to_str $coerce_to $inspect $to_s".split(" "));return function(f,g){f=h(f,"Kernel");var p=[f].concat(g),q;a.def(f,"$format",q=function(b,f){function g(){B&32&&z.$raise(e(p,"ArgumentError"),"flag after width");B&128&&z.$raise(e(p,"ArgumentError"),"flag after precision")}function h(){B&
32&&z.$raise(e(p,"ArgumentError"),"width given twice");B&128&&z.$raise(e(p,"ArgumentError"),"width after precision")}function q(a){a>=D.length&&z.$raise(e(p,"ArgumentError"),"too few arguments");return D[a]}function c(){switch(I){case -1:z.$raise(e(p,"ArgumentError"),"unnumbered("+L+") mixed with numbered");case -2:z.$raise(e(p,"ArgumentError"),"unnumbered("+L+") mixed with named")}I=L++;return q(I-1)}function m(a){0<I&&z.$raise(e(p,"ArgumentError"),"numbered("+a+") after unnumbered("+I+")");-2===
I&&z.$raise(e(p,"ArgumentError"),"numbered("+a+") after named");1>a&&z.$raise(e(p,"ArgumentError"),"invalid index - "+a+"$");I=-1;return q(a-1)}function u(){return void 0===M?c():M}function t(a){var c;for(c="";;A++){A===J&&z.$raise(e(p,"ArgumentError"),"malformed format string - %*[0-9]");if(48>b.charCodeAt(A)||57<b.charCodeAt(A))return A--,c=parseInt(c,10)||0,2147483647<c&&z.$raise(e(p,"ArgumentError"),""+a+" too big"),c;c+=b.charAt(A)}}function v(a){a=t(a);"$"===b.charAt(A+1)?(A++,a=m(a)):a=c();
return a.$to_int()}var z=this,R=r;null==d.DEBUG&&(d.DEBUG=r);var D=a.slice.call(arguments,1,arguments.length);k(D.$length()["$=="](1)?D["$[]"](0)["$respond_to?"]("to_ary"):D.$length()["$=="](1))&&(R=e(p,"Opal")["$coerce_to?"](D["$[]"](0),e(p,"Array"),"to_ary"),k(R["$nil?"]())||(D=R.$to_a()));R="";var n=0,A,J=b.length,E,L=1,I=0;for(A=b.indexOf("%");-1!==A;A=b.indexOf("%",A)){var x=void 0;var B=0;var G=E=-1;var M=void 0;var O=A;A++;switch(b.charAt(A)){case "%":n=A;case "":case "\n":case "\x00":A++;
continue}a:for(;A<J;A++)switch(b.charAt(A)){case " ":g();B|=16;continue a;case "#":g();B|=1;continue a;case "+":g();B|=4;continue a;case "-":g();B|=2;continue a;case "0":g();B|=8;continue a;case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":var F=t("width");if("$"===b.charAt(A+1)){if(A+2===J){x="%";A++;break a}void 0!==M&&z.$raise(e(p,"ArgumentError"),"value given twice - %"+F+"$");M=m(F);A++}else h(),B|=32,E=F;continue a;case "<":case "{":var P="<"===b.charAt(A)?">":
"}";F="";for(A++;;A++){A===J&&z.$raise(e(p,"ArgumentError"),"malformed name - unmatched parenthesis");if(b.charAt(A)===P)if(0<I&&z.$raise(e(p,"ArgumentError"),"named "+F+" after unnumbered("+I+")"),-1===I&&z.$raise(e(p,"ArgumentError"),"named "+F+" after numbered"),I=-2,void 0!==D[0]&&D[0].$$is_hash||z.$raise(e(p,"ArgumentError"),"one hash required"),M=D[0].$fetch(F),">"===P)continue a;else{x=M.toString();-1!==G&&(x=x.slice(0,G));if(B&2)for(;x.length<E;)x+=" ";else for(;x.length<E;)x=" "+x;break a}F+=
b.charAt(A)}case "*":A++;h();B|=32;E=v("width");0>E&&(B|=2,E=-E);continue a;case ".":B&128&&z.$raise(e(p,"ArgumentError"),"precision given twice");B|=192;G=0;A++;if("*"===b.charAt(A)){A++;G=v("precision");0>G&&(B&=-65);continue a}G=t("precision");continue a;case "d":case "i":case "u":F=z.$Integer(u());if(0<=F){for(x=F.toString();x.length<G;)x="0"+x;if(B&2){if(B&4||B&16)x=(B&4?"+":" ")+x;for(;x.length<E;)x+=" "}else if(B&8&&-1===G){for(;x.length<E-(B&4||B&16?1:0);)x="0"+x;if(B&4||B&16)x=(B&4?"+":" ")+
x}else{if(B&4||B&16)x=(B&4?"+":" ")+x;for(;x.length<E;)x=" "+x}}else{for(x=(-F).toString();x.length<G;)x="0"+x;if(B&2)for(x="-"+x;x.length<E;)x+=" ";else if(B&8&&-1===G){for(;x.length<E-1;)x="0"+x;x="-"+x}else for(x="-"+x;x.length<E;)x=" "+x}break a;case "b":case "B":case "o":case "x":case "X":switch(b.charAt(A)){case "b":case "B":var Q=2;var K="0b";var N=/^1+/;var S="1";break;case "o":Q=8;K="0";N=/^3?7+/;S="7";break;case "x":case "X":Q=16,K="0x",N=/^f+/,S="f"}F=z.$Integer(u());if(0<=F){for(x=F.toString(Q);x.length<
G;)x="0"+x;if(B&2){if(B&4||B&16)x=(B&4?"+":" ")+x;for(B&1&&0!==F&&(x=K+x);x.length<E;)x+=" "}else if(B&8&&-1===G){for(;x.length<E-(B&4||B&16?1:0)-(B&1&&0!==F?K.length:0);)x="0"+x;B&1&&0!==F&&(x=K+x);if(B&4||B&16)x=(B&4?"+":" ")+x}else{B&1&&0!==F&&(x=K+x);if(B&4||B&16)x=(B&4?"+":" ")+x;for(;x.length<E;)x=" "+x}}else if(B&4||B&16){for(x=(-F).toString(Q);x.length<G;)x="0"+x;if(B&2)for(B&1&&(x=K+x),x="-"+x;x.length<E;)x+=" ";else if(B&8&&-1===G){for(;x.length<E-1-(B&1?2:0);)x="0"+x;B&1&&(x=K+x);x="-"+
x}else for(B&1&&(x=K+x),x="-"+x;x.length<E;)x=" "+x}else{for(x=(F>>>0).toString(Q).replace(N,S);x.length<G-2;)x=S+x;if(B&2)for(x=".."+x,B&1&&(x=K+x);x.length<E;)x+=" ";else if(B&8&&-1===G){for(;x.length<E-2-(B&1?K.length:0);)x=S+x;x=".."+x;B&1&&(x=K+x)}else for(x=".."+x,B&1&&(x=K+x);x.length<E;)x=" "+x}b.charAt(A)===b.charAt(A).toUpperCase()&&(x=x.toUpperCase());break a;case "f":case "e":case "E":case "g":case "G":F=z.$Float(u());if(0<=F||isNaN(F)){if(Infinity===F)x="Inf";else switch(b.charAt(A)){case "f":x=
F.toFixed(-1===G?6:G);break;case "e":case "E":x=F.toExponential(-1===G?6:G);break;case "g":case "G":x=F.toExponential(),P=parseInt(x.split("e")[1],10),-4>P||P>=(-1===G?6:G)||(x=F.toPrecision(-1===G?B&1?6:void 0:G))}if(B&2){if(B&4||B&16)x=(B&4?"+":" ")+x;for(;x.length<E;)x+=" "}else if(B&8&&Infinity!==F&&!isNaN(F)){for(;x.length<E-(B&4||B&16?1:0);)x="0"+x;if(B&4||B&16)x=(B&4?"+":" ")+x}else{if(B&4||B&16)x=(B&4?"+":" ")+x;for(;x.length<E;)x=" "+x}}else{if(-Infinity===F)x="Inf";else switch(b.charAt(A)){case "f":x=
(-F).toFixed(-1===G?6:G);break;case "e":case "E":x=(-F).toExponential(-1===G?6:G);break;case "g":case "G":x=(-F).toExponential(),P=parseInt(x.split("e")[1],10),-4>P||P>=(-1===G?6:G)||(x=(-F).toPrecision(-1===G?B&1?6:void 0:G))}if(B&2)for(x="-"+x;x.length<E;)x+=" ";else if(B&8&&-Infinity!==F){for(;x.length<E-1;)x="0"+x;x="-"+x}else for(x="-"+x;x.length<E;)x=" "+x}b.charAt(A)!==b.charAt(A).toUpperCase()||Infinity===F||-Infinity===F||isNaN(F)||(x=x.toUpperCase());x=x.replace(/([eE][-+]?)([0-9])$/,"$10$2");
break a;case "a":case "A":z.$raise(e(p,"NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case "c":F=u();F["$respond_to?"]("to_ary")&&(F=F.$to_ary()[0]);x=F["$respond_to?"]("to_str")?F.$to_str():String.fromCharCode(e(p,"Opal").$coerce_to(F,e(p,"Integer"),"to_int"));1!==x.length&&z.$raise(e(p,"ArgumentError"),"%c requires a character");if(B&2)for(;x.length<E;)x+=" ";else for(;x.length<E;)x=" "+x;break a;case "p":x=u().$inspect();-1!==G&&(x=x.slice(0,G));if(B&2)for(;x.length<
E;)x+=" ";else for(;x.length<E;)x=" "+x;break a;case "s":x=u().$to_s();-1!==G&&(x=x.slice(0,G));if(B&2)for(;x.length<E;)x+=" ";else for(;x.length<E;)x=" "+x;break a;default:z.$raise(e(p,"ArgumentError"),"malformed format string - %"+b.charAt(A))}void 0===x&&z.$raise(e(p,"ArgumentError"),"malformed format string - %");R+=b.slice(n,O)+x;n=A+1}d.DEBUG&&0<=I&&L<D.length&&z.$raise(e(p,"ArgumentError"),"too many arguments for format string");return R+b.slice(n)},q.$$arity=-2);a.alias(f,"sprintf","format")}(p[0],
p)};
Opal.modules["corelib/string/encoding"]=function(a){function p(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var r,e,h,k,d,f=a.top,g=[],u=a.nil,q=a.$$$,b=a.$$,z=a.klass,l=a.hash2,w=a.truthy,C=a.send;a.add_stubs("$require $+ $[] $new $instance_eval $to_proc $each $const_set $sub $== $default_external $upcase $raise $attr_accessor $singleton_class $attr_reader $register $length $bytes $to_a $each_byte $bytesize $enum_for $each_codepoint $force_encoding $dup $coerce_to! $find $getbyte".split(" "));f.$require("corelib/string");
(function(c,$super,d){c=z(c,$super,"Encoding");var e=[c].concat(d),f,g,h,k,n,r,q,y,L,I;c.$$prototype.ascii=c.$$prototype.dummy=c.$$prototype.name=u;a.defs(c,"$register",f=function(b,c){var d=f.$$p,e=d||u,g,h,k=u,n=u,t=u,r=u,q=u;d&&(f.$$p=null);d&&(f.$$p=null);null==c&&(c=l([],{}));k=p([b],w(g=c["$[]"]("aliases"))?g:[]);n=w(g=c["$[]"]("ascii"))?g:!1;t=w(g=c["$[]"]("dummy"))?g:!1;r=this.$new(b,k,n,t);C(r,"instance_eval",[],e.$to_proc());q=a.encodings;return C(k,"each",[],(h=function(a){var b=null==
h.$$s?this:h.$$s;null==a&&(a=u);b.$const_set(a.$sub("-","_"),r);return q[a]=r},h.$$s=this,h.$$arity=1,h))},f.$$arity=-2);a.defs(c,"$find",g=function(c){var d;if(c["$=="]("default_external"))return this.$default_external();var f=a.encodings;f=w(d=f[c])?d:f[c.$upcase()];w(f)||this.$raise(b(e,"ArgumentError"),"unknown encoding name - "+c);return f},g.$$arity=1);c.$singleton_class().$attr_accessor("default_external");c.$attr_reader("name","names");a.def(c,"$initialize",h=function(a,b,c,d){this.name=a;
this.names=b;this.ascii=c;return this.dummy=d},h.$$arity=4);a.def(c,"$ascii_compatible?",k=function(){return this.ascii},k.$$arity=0);a.def(c,"$dummy?",n=function(){return this.dummy},n.$$arity=0);a.def(c,"$to_s",r=function(){return this.name},r.$$arity=0);a.def(c,"$inspect",q=function(){return"#<Encoding:"+this.name+(w(this.dummy)?" (dummy)":u)+">"},q.$$arity=0);a.def(c,"$each_byte",y=function(c){a.slice.call(arguments,0,arguments.length);return this.$raise(b(e,"NotImplementedError"))},y.$$arity=
-1);a.def(c,"$getbyte",L=function(c){a.slice.call(arguments,0,arguments.length);return this.$raise(b(e,"NotImplementedError"))},L.$$arity=-1);a.def(c,"$bytesize",I=function(c){a.slice.call(arguments,0,arguments.length);return this.$raise(b(e,"NotImplementedError"))},I.$$arity=-1);(function(a,$super,b){[z(a,$super,"EncodingError")].concat(b);return u})(e[0],b(e,"StandardError"),e);return function(a,$super,b){[z(a,$super,"CompatibilityError")].concat(b);return u}(e[0],b(e,"EncodingError"),e)})(g[0],
null,g);C(b(g,"Encoding"),"register",["UTF-8",l(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],(r=function(){var b=null==r.$$s?this:r.$$s,d,e;a.def(b,"$each_byte",d=function(b){var c=d.$$p,e=c||u;c&&(d.$$p=null);c&&(d.$$p=null);c=0;for(var f=b.length;c<f;c++){var g=b.charCodeAt(c);if(127>=g)a.yield1(e,g);else{g=encodeURIComponent(b.charAt(c)).substr(1).split("%");for(var h=0,k=g.length;h<k;h++)a.yield1(e,parseInt(g[h],16))}}},d.$$arity=1);return(a.def(b,"$bytesize",e=function(a){return a.$bytes().$length()},
e.$$arity=1),u)&&"bytesize"},r.$$s=f,r.$$arity=0,r));C(b(g,"Encoding"),"register",["UTF-16LE"],(e=function(){var b=null==e.$$s?this:e.$$s,d,f;a.def(b,"$each_byte",d=function(b){var c=d.$$p,e=c||u;c&&(d.$$p=null);c&&(d.$$p=null);c=0;for(var f=b.length;c<f;c++){var g=b.charCodeAt(c);a.yield1(e,g&255);a.yield1(e,g>>8)}},d.$$arity=1);return(a.def(b,"$bytesize",f=function(a){return a.$bytes().$length()},f.$$arity=1),u)&&"bytesize"},e.$$s=f,e.$$arity=0,e));C(b(g,"Encoding"),"register",["UTF-16BE"],(h=function(){var b=
null==h.$$s?this:h.$$s,d,e;a.def(b,"$each_byte",d=function(b){var c=d.$$p,e=c||u;c&&(d.$$p=null);c&&(d.$$p=null);c=0;for(var f=b.length;c<f;c++){var g=b.charCodeAt(c);a.yield1(e,g>>8);a.yield1(e,g&255)}},d.$$arity=1);return(a.def(b,"$bytesize",e=function(a){return a.$bytes().$length()},e.$$arity=1),u)&&"bytesize"},h.$$s=f,h.$$arity=0,h));C(b(g,"Encoding"),"register",["UTF-32LE"],(k=function(){var b=null==k.$$s?this:k.$$s,d,e;a.def(b,"$each_byte",d=function(b){var c=d.$$p,e=c||u;c&&(d.$$p=null);c&&
(d.$$p=null);c=0;for(var f=b.length;c<f;c++){var g=b.charCodeAt(c);a.yield1(e,g&255);a.yield1(e,g>>8)}},d.$$arity=1);return(a.def(b,"$bytesize",e=function(a){return a.$bytes().$length()},e.$$arity=1),u)&&"bytesize"},k.$$s=f,k.$$arity=0,k));C(b(g,"Encoding"),"register",["ASCII-8BIT",l(["aliases","ascii","dummy"],{aliases:["BINARY","US-ASCII","ASCII"],ascii:!0,dummy:!0})],(d=function(){var b=null==d.$$s?this:d.$$s,e,f;a.def(b,"$each_byte",e=function(b){var c=e.$$p,d=c||u;c&&(e.$$p=null);c&&(e.$$p=null);
c=0;for(var f=b.length;c<f;c++){var g=b.charCodeAt(c);a.yield1(d,g&255);a.yield1(d,g>>8)}},e.$$arity=1);return(a.def(b,"$bytesize",f=function(a){return a.$bytes().$length()},f.$$arity=1),u)&&"bytesize"},d.$$s=f,d.$$arity=0,d));return function(c,$super,d){c=z(c,$super,"String");var e=[c].concat(d),f,g,h,k,l,p,r,w,y;c.$$prototype.encoding=u;c.$attr_reader("encoding");a.defineProperty(String.prototype,"encoding",q(b(e,"Encoding"),"UTF_16LE"));a.def(c,"$bytes",f=function(){return this.$each_byte().$to_a()},
f.$$arity=0);a.def(c,"$bytesize",g=function(){return this.encoding.$bytesize(this)},g.$$arity=0);a.def(c,"$each_byte",h=function(){var a=h.$$p,b=a||u;a&&(h.$$p=null);a&&(h.$$p=null);if(b===u)return this.$enum_for("each_byte");C(this.encoding,"each_byte",[this],b.$to_proc());return this},h.$$arity=0);a.def(c,"$each_codepoint",k=function(){var b=k.$$p,c=b||u;b&&(k.$$p=null);b&&(k.$$p=null);if(c===u)return this.$enum_for("each_codepoint");b=0;for(var d=this.length;b<d;b++)a.yield1(c,this.codePointAt(b));
return this},k.$$arity=0);a.def(c,"$codepoints",l=function(){var a=l.$$p,b=a||u;a&&(l.$$p=null);a&&(l.$$p=null);return b!==u?C(this,"each_codepoint",[],b.$to_proc()):this.$each_codepoint().$to_a()},l.$$arity=0);a.def(c,"$encode",p=function(a){return this.$dup().$force_encoding(a)},p.$$arity=1);a.def(c,"$force_encoding",r=function(c){if(c===this.encoding)return this;c=b(e,"Opal")["$coerce_to!"](c,b(e,"String"),"to_s");c=b(e,"Encoding").$find(c);if(c===this.encoding)return this;a.set_encoding(this,
c);return this},r.$$arity=1);a.def(c,"$getbyte",w=function(a){return this.encoding.$getbyte(this,a)},w.$$arity=1);return(a.def(c,"$valid_encoding?",y=function(){return!0},y.$$arity=0),u)&&"valid_encoding?"}(g[0],null,g)};
Opal.modules["corelib/math"]=function(a){var p=[],r=a.$$$,e=a.$$,h=a.module,k=a.truthy;a.add_stubs("$new $raise $Float $type_error $Integer $module_function $checked $float! $=== $gamma $- $integer! $/ $infinite?".split(" "));return function(d,f){d=h(d,"Math");var g=[d].concat(f),p,q,b,z,l,w,C,c,m,y,t,v,H,R,D,n,A,J,E,L,I,x,B,G,M,O,F,P,Q;a.const_set(g[0],"E",Math.E);a.const_set(g[0],"PI",Math.PI);a.const_set(g[0],"DomainError",e(g,"Class").$new(e(g,"StandardError")));a.defs(d,"$checked",p=function(b,
c){var d=a.slice.call(arguments,1,arguments.length);if(isNaN(d[0])||2==d.length&&isNaN(d[1]))return NaN;d=Math[b].apply(null,d);isNaN(d)&&this.$raise(e(g,"DomainError"),'Numerical argument is out of domain - "'+b+'"');return d},p.$$arity=-2);a.defs(d,"$float!",q=function(b){try{return this.$Float(b)}catch(N){if(a.rescue(N,[e(g,"ArgumentError")]))try{return this.$raise(e(g,"Opal").$type_error(b,e(g,"Float")))}finally{a.pop_exception()}else throw N;}},q.$$arity=1);a.defs(d,"$integer!",b=function(b){try{return this.$Integer(b)}catch(N){if(a.rescue(N,
[e(g,"ArgumentError")]))try{return this.$raise(e(g,"Opal").$type_error(b,e(g,"Integer")))}finally{a.pop_exception()}else throw N;}},b.$$arity=1);d.$module_function();a.def(d,"$acos",z=function(a){return e(g,"Math").$checked("acos",e(g,"Math")["$float!"](a))},z.$$arity=1);k("undefined"!==typeof Math.acosh)||(Math.acosh=function(a){return Math.log(a+Math.sqrt(a*a-1))});a.def(d,"$acosh",l=function(a){return e(g,"Math").$checked("acosh",e(g,"Math")["$float!"](a))},l.$$arity=1);a.def(d,"$asin",w=function(a){return e(g,
"Math").$checked("asin",e(g,"Math")["$float!"](a))},w.$$arity=1);k("undefined"!==typeof Math.asinh)||(Math.asinh=function(a){return Math.log(a+Math.sqrt(a*a+1))});a.def(d,"$asinh",C=function(a){return e(g,"Math").$checked("asinh",e(g,"Math")["$float!"](a))},C.$$arity=1);a.def(d,"$atan",c=function(a){return e(g,"Math").$checked("atan",e(g,"Math")["$float!"](a))},c.$$arity=1);a.def(d,"$atan2",m=function(a,b){return e(g,"Math").$checked("atan2",e(g,"Math")["$float!"](a),e(g,"Math")["$float!"](b))},m.$$arity=
2);k("undefined"!==typeof Math.atanh)||(Math.atanh=function(a){return.5*Math.log((1+a)/(1-a))});a.def(d,"$atanh",y=function(a){return e(g,"Math").$checked("atanh",e(g,"Math")["$float!"](a))},y.$$arity=1);k("undefined"!==typeof Math.cbrt)||(Math.cbrt=function(a){if(0==a)return 0;if(0>a)return-Math.cbrt(-a);for(var b=a,c=0;.125>b;)b*=8,c--;for(;1<b;)b*=.125,c++;for(b=(-.46946116*b+1.072302)*b+.3812513;0>c;)b*=.5,c++;for(;0<c;)b*=2,c--;b=2/3*b+1/3*a/(b*b);b=2/3*b+1/3*a/(b*b);b=2/3*b+1/3*a/(b*b);return 2/
3*b+1/3*a/(b*b)});a.def(d,"$cbrt",t=function(a){return e(g,"Math").$checked("cbrt",e(g,"Math")["$float!"](a))},t.$$arity=1);a.def(d,"$cos",v=function(a){return e(g,"Math").$checked("cos",e(g,"Math")["$float!"](a))},v.$$arity=1);k("undefined"!==typeof Math.cosh)||(Math.cosh=function(a){return(Math.exp(a)+Math.exp(-a))/2});a.def(d,"$cosh",H=function(a){return e(g,"Math").$checked("cosh",e(g,"Math")["$float!"](a))},H.$$arity=1);k("undefined"!==typeof Math.erf)||a.defineProperty(Math,"erf",function(a){var b=
1;0>a&&(b=-1);a=Math.abs(a);var c=1/(1+.3275911*a);return b*(1-((((1.061405429*c+-1.453152027)*c+1.421413741)*c+-.284496736)*c+.254829592)*c*Math.exp(-a*a))});a.def(d,"$erf",R=function(a){return e(g,"Math").$checked("erf",e(g,"Math")["$float!"](a))},R.$$arity=1);k("undefined"!==typeof Math.erfc)||a.defineProperty(Math,"erfc",function(a){var b=Math.abs(a),c=1/(.5*b+1);b=c*Math.exp(-b*b-1.26551223+c*(c*(c*(c*(c*(c*(c*(c*(.17087277*c+-.82215223)+1.48851587)+-1.13520398)+.27886807)+-.18628806)+.09678418)+
.37409196)+1.00002368));return 0>a?2-b:b});a.def(d,"$erfc",D=function(a){return e(g,"Math").$checked("erfc",e(g,"Math")["$float!"](a))},D.$$arity=1);a.def(d,"$exp",n=function(a){return e(g,"Math").$checked("exp",e(g,"Math")["$float!"](a))},n.$$arity=1);a.def(d,"$frexp",A=function(a){a=e(g,"Math")["$float!"](a);if(isNaN(a))return[NaN,0];var b=Math.floor(Math.log(Math.abs(a))/Math.log(2))+1;return[a/Math.pow(2,b),b]},A.$$arity=1);a.def(d,"$gamma",J=function(a){a=e(g,"Math")["$float!"](a);var b=[.9999999999999971,
57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3.399464998481189E-5,4.652362892704858E-5,-9.837447530487956E-5,1.580887032249125E-4,-2.1026444172410488E-4,2.1743961811521265E-4,-1.643181065367639E-4,8.441822398385275E-5,-2.6190838401581408E-5,3.6899182659531625E-6];if(isNaN(a))return NaN;if(0===a&&0>1/a)return-Infinity;-1!==a&&-Infinity!==a||this.$raise(e(g,"DomainError"),'Numerical argument is out of domain - "gamma"');if(e(g,"Integer")["$==="](a)){if(0>=a)return isFinite(a)?
Infinity:NaN;if(171<a)return Infinity;var c=a-2;for(--a;1<c;)a*=c,c--;0==a&&(a=1);return a}if(.5>a)return Math.PI/(Math.sin(Math.PI*a)*e(g,"Math").$gamma("number"===typeof a?1-a:1["$-"](a)));if(171.35<=a)return Infinity;if(85<a){c=a*a;var d=c*a;b=d*a;var f=b*a;return Math.sqrt(2*Math.PI/a)*Math.pow(a/Math.E,a)*(1+1/(12*a)+1/(288*c)-139/(51840*d)-571/(2488320*b)+163879/(209018880*f)+5246819/(75246796800*f*a))}--a;c=b[0];for(d=1;d<b.length;++d)c+=b[d]/(a+d);d=a+4.7421875+.5;return Math.sqrt(2*Math.PI)*
Math.pow(d,a+.5)*Math.exp(-d)*c},J.$$arity=1);k("undefined"!==typeof Math.hypot)||(Math.hypot=function(a,b){return Math.sqrt(a*a+b*b)});a.def(d,"$hypot",E=function(a,b){return e(g,"Math").$checked("hypot",e(g,"Math")["$float!"](a),e(g,"Math")["$float!"](b))},E.$$arity=2);a.def(d,"$ldexp",L=function(a,b){a=e(g,"Math")["$float!"](a);b=e(g,"Math")["$integer!"](b);isNaN(b)&&this.$raise(e(g,"RangeError"),"float NaN out of range of integer");return a*Math.pow(2,b)},L.$$arity=2);a.def(d,"$lgamma",I=function(a){return-1==
a?[Infinity,1]:[Math.log(Math.abs(e(g,"Math").$gamma(a))),0>e(g,"Math").$gamma(a)?-1:1]},I.$$arity=1);a.def(d,"$log",x=function(a,b){k(e(g,"String")["$==="](a))&&this.$raise(e(g,"Opal").$type_error(a,e(g,"Float")));if(k(null==b))return e(g,"Math").$checked("log",e(g,"Math")["$float!"](a));k(e(g,"String")["$==="](b))&&this.$raise(e(g,"Opal").$type_error(b,e(g,"Float")));a=e(g,"Math").$checked("log",e(g,"Math")["$float!"](a));b=e(g,"Math").$checked("log",e(g,"Math")["$float!"](b));return"number"===
typeof a&&"number"===typeof b?a/b:a["$/"](b)},x.$$arity=-2);k("undefined"!==typeof Math.log10)||(Math.log10=function(a){return Math.log(a)/Math.LN10});a.def(d,"$log10",B=function(a){k(e(g,"String")["$==="](a))&&this.$raise(e(g,"Opal").$type_error(a,e(g,"Float")));return e(g,"Math").$checked("log10",e(g,"Math")["$float!"](a))},B.$$arity=1);k("undefined"!==typeof Math.log2)||(Math.log2=function(a){return Math.log(a)/Math.LN2});a.def(d,"$log2",G=function(a){k(e(g,"String")["$==="](a))&&this.$raise(e(g,
"Opal").$type_error(a,e(g,"Float")));return e(g,"Math").$checked("log2",e(g,"Math")["$float!"](a))},G.$$arity=1);a.def(d,"$sin",M=function(a){return e(g,"Math").$checked("sin",e(g,"Math")["$float!"](a))},M.$$arity=1);k("undefined"!==typeof Math.sinh)||(Math.sinh=function(a){return(Math.exp(a)-Math.exp(-a))/2});a.def(d,"$sinh",O=function(a){return e(g,"Math").$checked("sinh",e(g,"Math")["$float!"](a))},O.$$arity=1);a.def(d,"$sqrt",F=function(a){return e(g,"Math").$checked("sqrt",e(g,"Math")["$float!"](a))},
F.$$arity=1);a.def(d,"$tan",P=function(a){a=e(g,"Math")["$float!"](a);return k(a["$infinite?"]())?r(e(g,"Float"),"NAN"):e(g,"Math").$checked("tan",e(g,"Math")["$float!"](a))},P.$$arity=1);k("undefined"!==typeof Math.tanh)||(Math.tanh=function(a){return Infinity==a?1:-Infinity==a?-1:(Math.exp(a)-Math.exp(-a))/(Math.exp(a)+Math.exp(-a))});a.def(d,"$tanh",Q=function(a){return e(g,"Math").$checked("tanh",e(g,"Math")["$float!"](a))},Q.$$arity=1)}(p[0],p)};
Opal.modules["corelib/complex"]=function(a){function p(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}var k=a.top,d=[],f=a.nil,g=a.$$$,u=a.$$,q=a.klass,b=a.truthy,z=a.module;a.add_stubs("$require $=== $real? $raise $new $* $cos $sin $attr_reader $class $== $real $imag $Complex $-@ $+ $__coerced__ $- $nan? $/ $conj $abs2 $quo $polar $exp $log $> $!= $divmod $** $hypot $atan2 $lcm $denominator $finite? $infinite? $numerator $abs $arg $rationalize $to_f $to_i $to_r $inspect $positive? $zero? $Rational".split(" "));
k.$require("corelib/numeric");(function(d,$super,k){d=q(d,$super,"Complex");var c=[d].concat(k),l,y,t,v,z,C,D,n,A,J,E,L,I,x,B,G,M,O,F,P,Q,K,N,S,T,ia,U,ba,Y,V,ca;d.$$prototype.real=d.$$prototype.imag=f;a.defs(d,"$rect",l=function(a,d){var e,f,g;null==d&&(d=0);b(b(e=b(f=b(g=u(c,"Numeric")["$==="](a))?a["$real?"]():g)?u(c,"Numeric")["$==="](d):f)?d["$real?"]():e)||this.$raise(u(c,"TypeError"),"not a real");return this.$new(a,d)},l.$$arity=-2);(function(b,c){[b].concat(c);return a.alias(b,"rectangular",
"rect")})(a.get_singleton_class(d),c);a.defs(d,"$polar",y=function(a,d){var e,f,g;null==d&&(d=0);b(b(e=b(f=b(g=u(c,"Numeric")["$==="](a))?a["$real?"]():g)?u(c,"Numeric")["$==="](d):f)?d["$real?"]():e)||this.$raise(u(c,"TypeError"),"not a real");return this.$new(p(a,u(c,"Math").$cos(d)),p(a,u(c,"Math").$sin(d)))},y.$$arity=-2);d.$attr_reader("real","imag");a.def(d,"$initialize",t=function(a,b){null==b&&(b=0);this.real=a;return this.imag=b},t.$$arity=-2);a.def(d,"$coerce",v=function(a){var d;return b(u(c,
"Complex")["$==="](a))?[a,this]:b(b(d=u(c,"Numeric")["$==="](a))?a["$real?"]():d)?[u(c,"Complex").$new(a,0),this]:this.$raise(u(c,"TypeError"),""+a.$class()+" can't be coerced into Complex")},v.$$arity=1);a.def(d,"$==",z=function(a){var d;return b(u(c,"Complex")["$==="](a))?this.real["$=="](a.$real())?this.imag["$=="](a.$imag()):this.real["$=="](a.$real()):b(b(d=u(c,"Numeric")["$==="](a))?a["$real?"]():d)?this.real["$=="](a)?this.imag["$=="](0):this.real["$=="](a):a["$=="](this)},z.$$arity=1);a.def(d,
"$-@",C=function(){return this.$Complex(this.real["$-@"](),this.imag["$-@"]())},C.$$arity=0);a.def(d,"$+",D=function(a){var d;return b(u(c,"Complex")["$==="](a))?this.$Complex(r(this.real,a.$real()),r(this.imag,a.$imag())):b(b(d=u(c,"Numeric")["$==="](a))?a["$real?"]():d)?this.$Complex(r(this.real,a),this.imag):this.$__coerced__("+",a)},D.$$arity=1);a.def(d,"$-",n=function(a){var d;return b(u(c,"Complex")["$==="](a))?this.$Complex(e(this.real,a.$real()),e(this.imag,a.$imag())):b(b(d=u(c,"Numeric")["$==="](a))?
a["$real?"]():d)?this.$Complex(e(this.real,a),this.imag):this.$__coerced__("-",a)},n.$$arity=1);a.def(d,"$*",A=function(a){var d;return b(u(c,"Complex")["$==="](a))?this.$Complex(e(p(this.real,a.$real()),p(this.imag,a.$imag())),r(p(this.real,a.$imag()),p(this.imag,a.$real()))):b(b(d=u(c,"Numeric")["$==="](a))?a["$real?"]():d)?this.$Complex(p(this.real,a),p(this.imag,a)):this.$__coerced__("*",a)},A.$$arity=1);a.def(d,"$/",J=function(a){var d,e,f,k;return b(u(c,"Complex")["$==="](a))?b(b(d=b(e=b(f=
b(k=u(c,"Number")["$==="](this.real))?this.real["$nan?"]():k)?f:b(k=u(c,"Number")["$==="](this.imag))?this.imag["$nan?"]():k)?e:b(f=u(c,"Number")["$==="](a.$real()))?a.$real()["$nan?"]():f)?d:b(e=u(c,"Number")["$==="](a.$imag()))?a.$imag()["$nan?"]():e)?u(c,"Complex").$new(g(u(c,"Float"),"NAN"),g(u(c,"Float"),"NAN")):h(p(this,a.$conj()),a.$abs2()):b(b(d=u(c,"Numeric")["$==="](a))?a["$real?"]():d)?this.$Complex(this.real.$quo(a),this.imag.$quo(a)):this.$__coerced__("/",a)},J.$$arity=1);a.def(d,"$**",
E=function(d){if(d["$=="](0))return u(c,"Complex").$new(1,0);if(b(u(c,"Complex")["$==="](d))){var g=this.$polar();var k=a.to_ary(g);var l=null==k[0]?f:k[0];k=null==k[1]?f:k[1];g;g=d.$real();var m=d.$imag();d=u(c,"Math").$exp(e(p(g,u(c,"Math").$log(l)),p(m,k)));g=r(p(k,g),p(m,u(c,"Math").$log(l)));return u(c,"Complex").$polar(d,g)}if(b(u(c,"Integer")["$==="](d))){if(b("number"===typeof d?0<d:d["$>"](0))){k=l=this;for(m=e(d,1);b(m["$!="](0));){d=m.$divmod(2);g=a.to_ary(d);var n=null==g[0]?f:g[0];var t=
null==g[1]?f:g[1];for(d;t["$=="](0);)l=this.$Complex(e(p(l.$real(),l.$real()),p(l.$imag(),l.$imag())),p(p(2,l.$real()),l.$imag())),m=n,g=m.$divmod(2),d=a.to_ary(g),n=null==d[0]?f:d[0],t=null==d[1]?f:d[1],g;k=p(k,l);m=e(m,1)}return k}return h(u(c,"Rational").$new(1,1),this)["$**"](d["$-@"]())}return b(b(k=u(c,"Float")["$==="](d))?k:u(c,"Rational")["$==="](d))?(g=this.$polar(),k=a.to_ary(g),l=null==k[0]?f:k[0],k=null==k[1]?f:k[1],g,u(c,"Complex").$polar(l["$**"](d),p(k,d))):this.$__coerced__("**",d)},
E.$$arity=1);a.def(d,"$abs",L=function(){return u(c,"Math").$hypot(this.real,this.imag)},L.$$arity=0);a.def(d,"$abs2",I=function(){return r(p(this.real,this.real),p(this.imag,this.imag))},I.$$arity=0);a.def(d,"$angle",x=function(){return u(c,"Math").$atan2(this.imag,this.real)},x.$$arity=0);a.alias(d,"arg","angle");a.def(d,"$conj",B=function(){return this.$Complex(this.real,this.imag["$-@"]())},B.$$arity=0);a.alias(d,"conjugate","conj");a.def(d,"$denominator",G=function(){return this.real.$denominator().$lcm(this.imag.$denominator())},
G.$$arity=0);a.alias(d,"divide","/");a.def(d,"$eql?",M=function(a){var d,e;return b(d=b(e=u(c,"Complex")["$==="](a))?this.real.$class()["$=="](this.imag.$class()):e)?this["$=="](a):d},M.$$arity=1);a.def(d,"$fdiv",O=function(a){b(u(c,"Numeric")["$==="](a))||this.$raise(u(c,"TypeError"),""+a.$class()+" can't be coerced into Complex");return h(this,a)},O.$$arity=1);a.def(d,"$finite?",F=function(){var a;return b(a=this.real["$finite?"]())?this.imag["$finite?"]():a},F.$$arity=0);a.def(d,"$hash",P=function(){return"Complex:"+
this.real+":"+this.imag},P.$$arity=0);a.alias(d,"imaginary","imag");a.def(d,"$infinite?",Q=function(){var a;return b(a=this.real["$infinite?"]())?a:this.imag["$infinite?"]()},Q.$$arity=0);a.def(d,"$inspect",K=function(){return"("+this+")"},K.$$arity=0);a.alias(d,"magnitude","abs");a.udef(d,"$negative?");a.def(d,"$numerator",N=function(){var a=this.$denominator();return this.$Complex(p(this.real.$numerator(),h(a,this.real.$denominator())),p(this.imag.$numerator(),h(a,this.imag.$denominator())))},N.$$arity=
0);a.alias(d,"phase","arg");a.def(d,"$polar",S=function(){return[this.$abs(),this.$arg()]},S.$$arity=0);a.udef(d,"$positive?");a.alias(d,"quo","/");a.def(d,"$rationalize",T=function(a){1<arguments.length&&this.$raise(u(c,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");b(this.imag["$!="](0))&&this.$raise(u(c,"RangeError"),"can't' convert "+this+" into Rational");return this.$real().$rationalize(a)},T.$$arity=-1);a.def(d,"$real?",ia=function(){return!1},ia.$$arity=0);a.def(d,
"$rect",U=function(){return[this.real,this.imag]},U.$$arity=0);a.alias(d,"rectangular","rect");a.def(d,"$to_f",ba=function(){this.imag["$=="](0)||this.$raise(u(c,"RangeError"),"can't convert "+this+" into Float");return this.real.$to_f()},ba.$$arity=0);a.def(d,"$to_i",Y=function(){this.imag["$=="](0)||this.$raise(u(c,"RangeError"),"can't convert "+this+" into Integer");return this.real.$to_i()},Y.$$arity=0);a.def(d,"$to_r",V=function(){this.imag["$=="](0)||this.$raise(u(c,"RangeError"),"can't convert "+
this+" into Rational");return this.real.$to_r()},V.$$arity=0);a.def(d,"$to_s",ca=function(){var a,d,e;var f=this.real.$inspect();f=r(f,b(b(a=b(d=b(e=u(c,"Number")["$==="](this.imag))?this.imag["$nan?"]():e)?d:this.imag["$positive?"]())?a:this.imag["$zero?"]())?"+":"-");f=r(f,this.imag.$abs().$inspect());b(b(a=u(c,"Number")["$==="](this.imag))?b(d=this.imag["$nan?"]())?d:this.imag["$infinite?"]():a)&&(f=r(f,"*"));return r(f,"i")},ca.$$arity=0);return a.const_set(c[0],"I",d.$new(0,1))})(d[0],u(d,"Numeric"),
d);(function(d,e){d=z(d,"Kernel");var g=[d].concat(e),c;a.def(d,"$Complex",c=function(a,c){null==c&&(c=f);return b(c)?u(g,"Complex").$new(a,c):u(g,"Complex").$new(a,0)},c.$$arity=-2)})(d[0],d);return function(b,$super,d){b=q(b,$super,"String");[b].concat(d);var c;return(a.def(b,"$to_c",c=function(){function a(){var a=d.match(e)[0];d=d.slice(a.length);return a.replace(/_/g,"")}function b(){if(e.test(d)){var b=parseFloat(a());if("/"===d[0]){d=d.slice(1);if(e.test(d)){var f=parseFloat(a());return c.$Rational(b,
f)}d="/"+d}return b}return null}var c=this,d=c,e=/[+-]?[\d_]+(\.[\d_]+)?(e\d+)?/;d.match(e);var f;var g=b();return g?(f=b())?c.$Complex(g,f):"i"===d[0]?c.$Complex(0,g):c.$Complex(g,0):"i"===d[0]?c.$Complex(0,1):"-"===d[0]&&"i"===d[1]?c.$Complex(0,-1):"+"===d[0]&&"i"===d[1]?c.$Complex(0,1):c.$Complex(0,0)},c.$$arity=0),f)&&"to_c"}(d[0],null,d)};
Opal.modules["corelib/rational"]=function(a){function p(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var d=a.top,f=[],g=a.nil,u=a.$$$,q=a.$$,b=a.klass,z=a.truthy,l=a.module;
a.add_stubs("$require $to_i $== $raise $< $-@ $new $gcd $/ $nil? $=== $reduce $to_r $equal? $! $coerce_to! $to_f $numerator $denominator $<=> $- $* $__coerced__ $+ $Rational $> $** $abs $ceil $with_precision $floor $<= $truncate $send $convert".split(" "));d.$require("corelib/numeric");(function(d,$super,c){d=b(d,$super,"Rational");var f=[d].concat(c),l,t,w,H,R,D,n,A,J,E,L,I,x,B,G,M,O,F,P,Q,K,N,S,T,ia,U;d.$$prototype.num=d.$$prototype.den=g;a.defs(d,"$reduce",l=function(a,b){a=a.$to_i();b=b.$to_i();
if(b["$=="](0))this.$raise(q(f,"ZeroDivisionError"),"divided by 0");else if(z(p(b,0)))a=a["$-@"](),b=b["$-@"]();else if(b["$=="](1))return this.$new(a,b);var c=a.$gcd(b);return this.$new(r(a,c),r(b,c))},l.$$arity=2);a.defs(d,"$convert",t=function(a,b){var c,d;z(z(c=a["$nil?"]())?c:b["$nil?"]())&&this.$raise(q(f,"TypeError"),"cannot convert nil into Rational");if(z(z(c=q(f,"Integer")["$==="](a))?q(f,"Integer")["$==="](b):c))return this.$reduce(a,b);z(z(c=z(d=q(f,"Float")["$==="](a))?d:q(f,"String")["$==="](a))?
c:q(f,"Complex")["$==="](a))&&(a=a.$to_r());z(z(c=z(d=q(f,"Float")["$==="](b))?d:q(f,"String")["$==="](b))?c:q(f,"Complex")["$==="](b))&&(b=b.$to_r());return z(z(c=b["$equal?"](1))?q(f,"Integer")["$==="](a)["$!"]():c)?q(f,"Opal")["$coerce_to!"](a,q(f,"Rational"),"to_r"):z(z(c=q(f,"Numeric")["$==="](a))?q(f,"Numeric")["$==="](b):c)?r(a,b):this.$reduce(a,b)},t.$$arity=2);a.def(d,"$initialize",w=function(a,b){this.num=a;return this.den=b},w.$$arity=2);a.def(d,"$numerator",H=function(){return this.num},
H.$$arity=0);a.def(d,"$denominator",R=function(){return this.den},R.$$arity=0);a.def(d,"$coerce",D=function(a){return q(f,"Rational")["$==="](a)?[a,this]:q(f,"Integer")["$==="](a)?[a.$to_r(),this]:q(f,"Float")["$==="](a)?[a,this.$to_f()]:g},D.$$arity=1);a.def(d,"$==",n=function(a){return q(f,"Rational")["$==="](a)?this.num["$=="](a.$numerator())?this.den["$=="](a.$denominator()):this.num["$=="](a.$numerator()):q(f,"Integer")["$==="](a)?this.num["$=="](a)?this.den["$=="](1):this.num["$=="](a):q(f,
"Float")["$==="](a)?this.$to_f()["$=="](a):a["$=="](this)},n.$$arity=1);a.def(d,"$<=>",A=function(a){return q(f,"Rational")["$==="](a)?e(h(this.num,a.$denominator()),h(this.den,a.$numerator()))["$<=>"](0):q(f,"Integer")["$==="](a)?e(this.num,h(this.den,a))["$<=>"](0):q(f,"Float")["$==="](a)?this.$to_f()["$<=>"](a):this.$__coerced__("<=>",a)},A.$$arity=1);a.def(d,"$+",J=function(a){if(q(f,"Rational")["$==="](a)){var b=k(h(this.num,a.$denominator()),h(this.den,a.$numerator()));a=h(this.den,a.$denominator());
b=this.$Rational(b,a)}else b=q(f,"Integer")["$==="](a)?this.$Rational(k(this.num,h(a,this.den)),this.den):q(f,"Float")["$==="](a)?k(this.$to_f(),a):this.$__coerced__("+",a);return b},J.$$arity=1);a.def(d,"$-",E=function(a){if(q(f,"Rational")["$==="](a)){var b=e(h(this.num,a.$denominator()),h(this.den,a.$numerator()));a=h(this.den,a.$denominator());b=this.$Rational(b,a)}else b=q(f,"Integer")["$==="](a)?this.$Rational(e(this.num,h(a,this.den)),this.den):q(f,"Float")["$==="](a)?e(this.$to_f(),a):this.$__coerced__("-",
a);return b},E.$$arity=1);a.def(d,"$*",L=function(a){if(q(f,"Rational")["$==="](a)){var b=h(this.num,a.$numerator());a=h(this.den,a.$denominator());b=this.$Rational(b,a)}else b=q(f,"Integer")["$==="](a)?this.$Rational(h(this.num,a),this.den):q(f,"Float")["$==="](a)?h(this.$to_f(),a):this.$__coerced__("*",a);return b},L.$$arity=1);a.def(d,"$/",I=function(a){if(q(f,"Rational")["$==="](a)){var b=h(this.num,a.$denominator());a=h(this.den,a.$numerator());b=this.$Rational(b,a)}else b=q(f,"Integer")["$==="](a)?
a["$=="](0)?r(this.$to_f(),0):this.$Rational(this.num,h(this.den,a)):q(f,"Float")["$==="](a)?r(this.$to_f(),a):this.$__coerced__("/",a);return b},I.$$arity=1);a.def(d,"$**",x=function(a){return q(f,"Integer")["$==="](a)?z(this["$=="](0)?p(a,0):this["$=="](0))?u(q(f,"Float"),"INFINITY"):z("number"===typeof a?0<a:a["$>"](0))?this.$Rational(this.num["$**"](a),this.den["$**"](a)):z(p(a,0))?this.$Rational(this.den["$**"](a["$-@"]()),this.num["$**"](a["$-@"]())):this.$Rational(1,1):q(f,"Float")["$==="](a)?
this.$to_f()["$**"](a):q(f,"Rational")["$==="](a)?a["$=="](0)?this.$Rational(1,1):a.$denominator()["$=="](1)?z(p(a,0))?this.$Rational(this.den["$**"](a.$numerator().$abs()),this.num["$**"](a.$numerator().$abs())):this.$Rational(this.num["$**"](a.$numerator()),this.den["$**"](a.$numerator())):z(this["$=="](0)?p(a,0):this["$=="](0))?this.$raise(q(f,"ZeroDivisionError"),"divided by 0"):this.$to_f()["$**"](a):this.$__coerced__("**",a)},x.$$arity=1);a.def(d,"$abs",B=function(){return this.$Rational(this.num.$abs(),
this.den.$abs())},B.$$arity=0);a.def(d,"$ceil",G=function(a){null==a&&(a=0);return a["$=="](0)?r(this.num["$-@"](),this.den)["$-@"]().$ceil():this.$with_precision("ceil",a)},G.$$arity=-1);a.alias(d,"divide","/");a.def(d,"$floor",M=function(a){null==a&&(a=0);return a["$=="](0)?r(this.num["$-@"](),this.den)["$-@"]().$floor():this.$with_precision("floor",a)},M.$$arity=-1);a.def(d,"$hash",O=function(){return"Rational:"+this.num+":"+this.den},O.$$arity=0);a.def(d,"$inspect",F=function(){return"("+this+
")"},F.$$arity=0);a.alias(d,"quo","/");a.def(d,"$rationalize",P=function(a){1<arguments.length&&this.$raise(q(f,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");if(null==a)return this;var b=a.$abs(),c=e(this,b);b=k(this,b);for(var d=0,g=1,h=1,l=0,m,n,p;;){m=c.$ceil();if("number"===typeof m&&"number"===typeof b?m<=b:m["$<="](b))break;p=m-1;m=p*g+d;n=p*l+h;d=r(1,e(b,p));b=r(1,e(c,p));c=d;d=g;h=l;g=m;l=n}return this.$Rational(m*g+d,m*l+h)},P.$$arity=-1);a.def(d,"$round",
Q=function(a){null==a&&(a=0);if(!a["$=="](0))return this.$with_precision("round",a);if(this.num["$=="](0))return 0;if(this.den["$=="](1))return this.num;a=k(h(this.num.$abs(),2),this.den);var b=h(this.den,2);a=r(a,b).$truncate();return z(p(this.num,0))?a["$-@"]():a},Q.$$arity=-1);a.def(d,"$to_f",K=function(){return r(this.num,this.den)},K.$$arity=0);a.def(d,"$to_i",N=function(){return this.$truncate()},N.$$arity=0);a.def(d,"$to_r",S=function(){return this},S.$$arity=0);a.def(d,"$to_s",T=function(){return""+
this.num+"/"+this.den},T.$$arity=0);a.def(d,"$truncate",ia=function(a){null==a&&(a=0);return a["$=="](0)?z(p(this.num,0))?this.$ceil():this.$floor():this.$with_precision("truncate",a)},ia.$$arity=-1);return(a.def(d,"$with_precision",U=function(a,b){z(q(f,"Integer")["$==="](b))||this.$raise(q(f,"TypeError"),"not an Integer");var c=10["$**"](b);var d=h(this,c);return z(p(b,1))?r(d.$send(a),c).$to_i():this.$Rational(d.$send(a),c)},U.$$arity=2),g)&&"with_precision"})(f[0],q(f,"Numeric"),f);(function(b,
d){b=l(b,"Kernel");var c=[b].concat(d),e;a.def(b,"$Rational",e=function(a,b){null==b&&(b=1);return q(c,"Rational").$convert(a,b)},e.$$arity=-2)})(f[0],f);return function(d,$super,c){d=b(d,$super,"String");[d].concat(c);var e;return(a.def(d,"$to_r",e=function(){function a(){var a=b.match(c)[0];b=b.slice(a.length);return a.replace(/_/g,"")}var b=this.trimLeft(),c=/^[+-]?[\d_]+(\.[\d_]+)?/;b.match(c);if(c.test(b)){var d=parseFloat(a());if("/"===b[0]&&(b=b.slice(1),c.test(b))){var e=parseFloat(a());return this.$Rational(d,
e)}return this.$Rational(d,1)}return this.$Rational(0,1)},e.$$arity=0),g)&&"to_r"}(f[0],null,f)};
Opal.modules["corelib/time"]=function(a){function p(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}var k=a.top,d=[],f=a.nil,g=a.$$,u=a.slice,q=a.klass,b=a.truthy,z=a.range;a.add_stubs("$require $include $=== $raise $coerce_to! $respond_to? $to_str $to_i $new $<=> $to_f $nil? $> $< $strftime $year $month $day $+ $round $/ $- $copy_instance_variables $initialize_dup $is_a? $zero? $wday $utc? $mon $yday $hour $min $sec $rjust $ljust $zone $to_s $[] $cweek_cyear $isdst $<= $!= $== $ceil".split(" "));
k.$require("corelib/comparable");return function(d,$super,k){function c(a,b,c,d,e,h){a=a.$$is_string?parseInt(a,10):g(y,"Opal")["$coerce_to!"](a,g(y,"Integer"),"to_int");if(b===f)b=1;else if(!b.$$is_number)if(b["$respond_to?"]("to_str"))switch(b=b.$to_str(),b.toLowerCase()){case "jan":b=1;break;case "feb":b=2;break;case "mar":b=3;break;case "apr":b=4;break;case "may":b=5;break;case "jun":b=6;break;case "jul":b=7;break;case "aug":b=8;break;case "sep":b=9;break;case "oct":b=10;break;case "nov":b=11;
break;case "dec":b=12;break;default:b=b.$to_i()}else b=g(y,"Opal")["$coerce_to!"](b,g(y,"Integer"),"to_int");(1>b||12<b)&&l.$raise(g(y,"ArgumentError"),"month out of range: "+b);--b;c=c===f?1:c.$$is_string?parseInt(c,10):g(y,"Opal")["$coerce_to!"](c,g(y,"Integer"),"to_int");(1>c||31<c)&&l.$raise(g(y,"ArgumentError"),"day out of range: "+c);d=d===f?0:d.$$is_string?parseInt(d,10):g(y,"Opal")["$coerce_to!"](d,g(y,"Integer"),"to_int");(0>d||24<d)&&l.$raise(g(y,"ArgumentError"),"hour out of range: "+d);
e=e===f?0:e.$$is_string?parseInt(e,10):g(y,"Opal")["$coerce_to!"](e,g(y,"Integer"),"to_int");(0>e||59<e)&&l.$raise(g(y,"ArgumentError"),"min out of range: "+e);h===f?h=0:h.$$is_number||(h=h.$$is_string?parseInt(h,10):g(y,"Opal")["$coerce_to!"](h,g(y,"Integer"),"to_int"));(0>h||60<h)&&l.$raise(g(y,"ArgumentError"),"sec out of range: "+h);return[a,b,c,d,e,h]}var l=q(d,$super,"Time"),y=[l].concat(k),t,v,H,C,D,n,A,J,E,L,I,x,B,G,M,O,F,P,Q,K,N,S,T,ia,U,ba,Y,V,ca,ma,ja,la,ka,Z,da,oa,na,ea,fa,ra,sa,aa;l.$include(g(y,
"Comparable"));var W="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),xa="Sun Mon Tue Wed Thu Fri Sat".split(" "),va="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),pa="January February March April May June July August September October November December".split(" ");a.defs(l,"$at",t=function(a,b){if(g(y,"Time")["$==="](a))return void 0!==b&&this.$raise(g(y,"TypeError"),"can't convert Time into an exact number"),b=new Date(a.getTime()),b.is_utc=a.is_utc,b;a.$$is_number||
(a=g(y,"Opal")["$coerce_to!"](a,g(y,"Integer"),"to_int"));if(void 0===b)return new Date(1E3*a);b.$$is_number||(b=g(y,"Opal")["$coerce_to!"](b,g(y,"Integer"),"to_int"));return new Date(1E3*a+b/1E3)},t.$$arity=-2);a.defs(l,"$new",v=function(a,b,d,e,h,k,l){null==b&&(b=f);null==d&&(d=f);null==e&&(e=f);null==h&&(h=f);null==k&&(k=f);null==l&&(l=f);if(void 0===a)return new Date;l!==f&&this.$raise(g(y,"ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time");k=c(a,b,d,e,h,k);a=k[0];
b=k[1];d=k[2];e=k[3];h=k[4];k=k[5];b=new Date(a,b,d,e,h,0,1E3*k);100>a&&b.setFullYear(a);return b},v.$$arity=-1);a.defs(l,"$local",H=function(a,b,d,e,g,h,k,l,m,n){null==b&&(b=f);null==d&&(d=f);null==e&&(e=f);null==g&&(g=f);null==h&&(h=f);null==k&&(k=f);null==l&&(l=f);null==m&&(m=f);null==n&&(n=f);if(10===arguments.length){var p=u.call(arguments);a=p[5];b=p[4];d=p[3];e=p[2];g=p[1];h=p[0]}p=c(a,b,d,e,g,h);a=p[0];b=p[1];d=p[2];e=p[3];g=p[4];h=p[5];p=new Date(a,b,d,e,g,0,1E3*h);100>a&&p.setFullYear(a);
return p},H.$$arity=-2);a.defs(l,"$gm",C=function(a,b,d,e,g,h,k,l,m,n){null==b&&(b=f);null==d&&(d=f);null==e&&(e=f);null==g&&(g=f);null==h&&(h=f);null==k&&(k=f);null==l&&(l=f);null==m&&(m=f);null==n&&(n=f);if(10===arguments.length){var p=u.call(arguments);a=p[5];b=p[4];d=p[3];e=p[2];g=p[1];h=p[0]}p=c(a,b,d,e,g,h);a=p[0];b=p[1];d=p[2];e=p[3];g=p[4];h=p[5];p=new Date(Date.UTC(a,b,d,e,g,0,1E3*h));100>a&&p.setUTCFullYear(a);p.is_utc=!0;return p},C.$$arity=-2);(function(b,c){[b].concat(c);a.alias(b,"mktime",
"local");return a.alias(b,"utc","gm")})(a.get_singleton_class(l),y);a.defs(l,"$now",D=function(){return this.$new()},D.$$arity=0);a.def(l,"$+",n=function(a){b(g(y,"Time")["$==="](a))&&this.$raise(g(y,"TypeError"),"time + time?");a.$$is_number||(a=g(y,"Opal")["$coerce_to!"](a,g(y,"Integer"),"to_int"));a=new Date(this.getTime()+1E3*a);a.is_utc=this.is_utc;return a},n.$$arity=1);a.def(l,"$-",A=function(a){if(b(g(y,"Time")["$==="](a)))return(this.getTime()-a.getTime())/1E3;a.$$is_number||(a=g(y,"Opal")["$coerce_to!"](a,
g(y,"Integer"),"to_int"));a=new Date(this.getTime()-1E3*a);a.is_utc=this.is_utc;return a},A.$$arity=1);a.def(l,"$<=>",J=function(a){if(b(g(y,"Time")["$==="](a)))return this.$to_f()["$<=>"](a.$to_f());a=a["$<=>"](this);return b(a["$nil?"]())?f:b("number"===typeof a?0<a:a["$>"](0))?-1:b("number"===typeof a?0>a:a["$<"](0))?1:0},J.$$arity=1);a.def(l,"$==",E=function(a){var c;return b(c=g(y,"Time")["$==="](a))?this.$to_f()===a.$to_f():c},E.$$arity=1);a.def(l,"$asctime",L=function(){return this.$strftime("%a %b %e %H:%M:%S %Y")},
L.$$arity=0);a.alias(l,"ctime","asctime");a.def(l,"$day",I=function(){return this.is_utc?this.getUTCDate():this.getDate()},I.$$arity=0);a.def(l,"$yday",x=function(){var a=g(y,"Time").$new(this.$year()).$to_i();var b=g(y,"Time").$new(this.$year(),this.$month(),this.$day()).$to_i();return p(r(e(b,a),86400).$round(),1)},x.$$arity=0);a.def(l,"$isdst",B=function(){var a=new Date(this.getFullYear(),0,1),b=new Date(this.getFullYear(),6,1);return this.getTimezoneOffset()<Math.max(a.getTimezoneOffset(),b.getTimezoneOffset())},
B.$$arity=0);a.alias(l,"dst?","isdst");a.def(l,"$dup",G=function(){var a=new Date(this.getTime());a.$copy_instance_variables(this);a.$initialize_dup(this);return a},G.$$arity=0);a.def(l,"$eql?",M=function(a){var c;return b(c=a["$is_a?"](g(y,"Time")))?this["$<=>"](a)["$zero?"]():c},M.$$arity=1);a.def(l,"$friday?",O=function(){return 5==this.$wday()},O.$$arity=0);a.def(l,"$hash",F=function(){return"Time:"+this.getTime()},F.$$arity=0);a.def(l,"$hour",P=function(){return this.is_utc?this.getUTCHours():
this.getHours()},P.$$arity=0);a.def(l,"$inspect",Q=function(){return b(this["$utc?"]())?this.$strftime("%Y-%m-%d %H:%M:%S UTC"):this.$strftime("%Y-%m-%d %H:%M:%S %z")},Q.$$arity=0);a.alias(l,"mday","day");a.def(l,"$min",K=function(){return this.is_utc?this.getUTCMinutes():this.getMinutes()},K.$$arity=0);a.def(l,"$mon",N=function(){return(this.is_utc?this.getUTCMonth():this.getMonth())+1},N.$$arity=0);a.def(l,"$monday?",S=function(){return 1==this.$wday()},S.$$arity=0);a.alias(l,"month","mon");a.def(l,
"$saturday?",T=function(){return 6==this.$wday()},T.$$arity=0);a.def(l,"$sec",ia=function(){return this.is_utc?this.getUTCSeconds():this.getSeconds()},ia.$$arity=0);a.def(l,"$succ",U=function(){var a=new Date(this.getTime()+1E3);a.is_utc=this.is_utc;return a},U.$$arity=0);a.def(l,"$usec",ba=function(){return 1E3*this.getMilliseconds()},ba.$$arity=0);a.def(l,"$zone",Y=function(){var a=this.toString();var b=-1==a.indexOf("(")?a.match(/[A-Z]{3,4}/)[0]:a.match(/\((.+)\)(?:\s|$)/)[1];return"GMT"==b&&/(GMT\W*\d{4})/.test(a)?
RegExp.$1:b},Y.$$arity=0);a.def(l,"$getgm",V=function(){var a=new Date(this.getTime());a.is_utc=!0;return a},V.$$arity=0);a.alias(l,"getutc","getgm");a.def(l,"$gmtime",ca=function(){this.is_utc=!0;return this},ca.$$arity=0);a.alias(l,"utc","gmtime");a.def(l,"$gmt?",ma=function(){return!0===this.is_utc},ma.$$arity=0);a.def(l,"$gmt_offset",ja=function(){return this.is_utc?0:60*-this.getTimezoneOffset()},ja.$$arity=0);a.def(l,"$strftime",la=function(a){var b=this;return a.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,
function(a,c,d,e,f){e="";var g=-1!==c.indexOf("0"),h=-1===c.indexOf("-"),k=-1!==c.indexOf("_"),l=-1!==c.indexOf("^"),m=-1!==c.indexOf("#"),n=(c.match(":")||[]).length;d=parseInt(d,10);g&&k&&(c.indexOf("0")<c.indexOf("_")?g=!1:k=!1);switch(f){case "Y":e+=b.$year();break;case "C":g=!k;e+=Math.round(b.$year()/100);break;case "y":g=!k;e+=b.$year()%100;break;case "m":g=!k;e+=b.$mon();break;case "B":e+=pa[b.$mon()-1];break;case "b":case "h":k=!g;e+=va[b.$mon()-1];break;case "d":g=!k;e+=b.$day();break;case "e":k=
!g;e+=b.$day();break;case "j":e+=b.$yday();break;case "H":g=!k;e+=b.$hour();break;case "k":k=!g;e+=b.$hour();break;case "I":g=!k;e+=b.$hour()%12||12;break;case "l":k=!g;e+=b.$hour()%12||12;break;case "P":e+=12<=b.$hour()?"pm":"am";break;case "p":e+=12<=b.$hour()?"PM":"AM";break;case "M":g=!k;e+=b.$min();break;case "S":g=!k;e+=b.$sec();break;case "L":g=!k;d=isNaN(d)?3:d;e+=b.getMilliseconds();break;case "N":d=isNaN(d)?9:d;e+=b.getMilliseconds().toString().$rjust(3,"0");e=e.$ljust(d,"0");break;case "z":a=
b.getTimezoneOffset();c=Math.floor(Math.abs(a)/60);f=Math.abs(a)%60;e=e+(0>a?"+":"-")+(10>c?"0":"")+c;0<n&&(e+=":");e+=10>f?"0":"";e+=f;1<n&&(e+=":00");break;case "Z":e+=b.$zone();break;case "A":e+=W[b.$wday()];break;case "a":e+=xa[b.$wday()];break;case "u":e+=b.$wday()+1;break;case "w":e+=b.$wday();break;case "V":e+=b.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case "G":e+=b.$cweek_cyear()["$[]"](1);break;case "g":e+=b.$cweek_cyear()["$[]"](1)["$[]"](z(-2,-1,!1));break;case "s":e+=b.$to_i();
break;case "n":e+="\n";break;case "t":e+="\t";break;case "%":e+="%";break;case "c":e+=b.$strftime("%a %b %e %T %Y");break;case "D":case "x":e+=b.$strftime("%m/%d/%y");break;case "F":e+=b.$strftime("%Y-%m-%d");break;case "v":e+=b.$strftime("%e-%^b-%4Y");break;case "r":e+=b.$strftime("%I:%M:%S %p");break;case "R":e+=b.$strftime("%H:%M");break;case "T":case "X":e+=b.$strftime("%H:%M:%S");break;default:return a}l&&(e=e.toUpperCase());m&&(e=e.replace(/[A-Z]/,function(a){a.toLowerCase()}).replace(/[a-z]/,
function(a){a.toUpperCase()}));h&&(g||k)&&(e=e.$rjust(isNaN(d)?2:d,k?" ":"0"));return e})},la.$$arity=1);a.def(l,"$sunday?",ka=function(){return 0==this.$wday()},ka.$$arity=0);a.def(l,"$thursday?",Z=function(){return 4==this.$wday()},Z.$$arity=0);a.def(l,"$to_a",da=function(){return[this.$sec(),this.$min(),this.$hour(),this.$day(),this.$month(),this.$year(),this.$wday(),this.$yday(),this.$isdst(),this.$zone()]},da.$$arity=0);a.def(l,"$to_f",oa=function(){return this.getTime()/1E3},oa.$$arity=0);a.def(l,
"$to_i",na=function(){return parseInt(this.getTime()/1E3,10)},na.$$arity=0);a.alias(l,"to_s","inspect");a.def(l,"$tuesday?",ea=function(){return 2==this.$wday()},ea.$$arity=0);a.alias(l,"tv_sec","to_i");a.alias(l,"tv_usec","usec");a.alias(l,"utc?","gmt?");a.alias(l,"gmtoff","gmt_offset");a.alias(l,"utc_offset","gmt_offset");a.def(l,"$wday",fa=function(){return this.is_utc?this.getUTCDay():this.getDay()},fa.$$arity=0);a.def(l,"$wednesday?",ra=function(){return 3==this.$wday()},ra.$$arity=0);a.def(l,
"$year",sa=function(){return this.is_utc?this.getUTCFullYear():this.getFullYear()},sa.$$arity=0);return(a.def(l,"$cweek_cyear",aa=function(){var a;var c=g(y,"Time").$new(this.$year(),1,1).$wday();var d=this.$year();b(b(a=h(c,4))?c["$!="](0):a)?c=e(c,1):(c=e(e(c,7),1),c["$=="](-8)&&(c=-1));c=r(p(this.$yday(),c),7).$ceil();if(b(h(c,0)))return g(y,"Time").$new(e(this.$year(),1),12,31).$cweek_cyear();if(c["$=="](53)){var f=g(y,"Time").$new(this.$year(),12,31);f=f.$wday();b(b(a=h(f,3))?f["$!="](0):a)&&
(c=1,d=p(d,1))}return[c,d]},aa.$$arity=0),f)&&"cweek_cyear"}(d[0],Date,d)};
Opal.modules["corelib/struct"]=function(a){function p(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var d=a.top,f=[],g=a.nil,u=a.$$,q=a.klass,b=a.hash2,z=a.truthy,l=a.send;
a.add_stubs("$require $include $const_name! $unshift $map $coerce_to! $new $each $define_struct_attribute $allocate $initialize $alias_method $module_eval $to_proc $const_set $== $raise $<< $members $define_method $instance_eval $class $last $> $length $- $keys $any? $join $[] $[]= $each_with_index $hash $=== $< $-@ $size $>= $include? $to_sym $instance_of? $__id__ $eql? $enum_for $name $+ $each_pair $inspect $each_with_object $flatten $to_a $respond_to? $dig".split(" "));d.$require("corelib/enumerable");
return function(d,$super,c){d=q(d,$super,"Struct");var f=[d].concat(c),w,t,v,H,R,D,n,A,J,E,L,I,x,B,G,M,O,F,P,Q;d.$include(u(f,"Enumerable"));a.defs(d,"$new",w=function(c,d,e){var h=w.$$p,k=h||g,m,n;var p=g;h&&(w.$$p=null);h&&(w.$$p=null);var r=a.slice.call(arguments,1,arguments.length);p=a.extract_kwargs(r);if(null==p)p=b([],{});else if(!p.$$is_hash)throw a.ArgumentError.$new("expected kwargs");h=p.$$smap.keyword_init;null==h&&(h=!1);if(z(c))try{c=u(f,"Opal")["$const_name!"](c)}catch(ca){if(a.rescue(ca,
[u(f,"TypeError"),u(f,"NameError")]))try{r.$unshift(c),c=g}finally{a.pop_exception()}else throw ca;}l(r,"map",[],(m=function(a){null==a&&(a=g);return u(f,"Opal")["$coerce_to!"](a,u(f,"String"),"to_str")},m.$$s=this,m.$$arity=1,m));p=l(u(f,"Class"),"new",[this],(n=function(){var b=null==n.$$s?this:n.$$s,c;l(r,"each",[],(c=function(a){var b=null==c.$$s?this:c.$$s;null==a&&(a=g);return b.$define_struct_attribute(a)},c.$$s=b,c.$$arity=1,c));return function(b,c){[b].concat(c);var d;a.def(b,"$new",d=function(b){var c=
a.slice.call(arguments,0,arguments.length);var d=this.$allocate();d.$$data={};l(d,"initialize",a.to_a(c));return d},d.$$arity=-1);return b.$alias_method("[]","new")}(a.get_singleton_class(b),f)},n.$$s=this,n.$$arity=0,n));z(k)&&l(p,"module_eval",[],k.$to_proc());p.$$keyword_init=h;z(c)&&u(f,"Struct").$const_set(c,p);return p},w.$$arity=-2);a.defs(d,"$define_struct_attribute",t=function(a){var b,c;this["$=="](u(f,"Struct"))&&this.$raise(u(f,"ArgumentError"),"you cannot define attributes to the Struct class");
this.$members()["$<<"](a);l(this,"define_method",[a],(b=function(){return(null==b.$$s?this:b.$$s).$$data[a]},b.$$s=this,b.$$arity=0,b));return l(this,"define_method",[""+a+"="],(c=function(b){var d=null==c.$$s?this:c.$$s;null==b&&(b=g);return d.$$data[a]=b},c.$$s=this,c.$$arity=1,c))},t.$$arity=1);a.defs(d,"$members",v=function(){var a;null==this.members&&(this.members=g);this["$=="](u(f,"Struct"))&&this.$raise(u(f,"ArgumentError"),"the Struct class has no members");return this.members=z(a=this.members)?
a:[]},v.$$arity=0);a.defs(d,"$inherited",H=function(a){var b,c=g;null==this.members&&(this.members=g);c=this.members;return l(a,"instance_eval",[],(b=function(){return(null==b.$$s?this:b.$$s).members=c},b.$$s=this,b.$$arity=0,b))},H.$$arity=1);a.def(d,"$initialize",R=function(c){var d,e,h,k=g,m=g;var n=a.slice.call(arguments,0,arguments.length);if(z(this.$class().$$keyword_init))return k=z(d=n.$last())?d:b([],{}),z(z(d=p(n.$length(),1))?d:1===n.length&&!k.$$is_hash)&&this.$raise(u(f,"ArgumentError"),
"wrong number of arguments (given "+n.$length()+", expected 0)"),m=r(k.$keys(),this.$class().$members()),z(m["$any?"]())&&this.$raise(u(f,"ArgumentError"),"unknown keywords: "+m.$join(", ")),l(this.$class().$members(),"each",[],(e=function(b){var c=null==e.$$s?this:e.$$s;null==b&&(b=g);b=[b,k["$[]"](b)];l(c,"[]=",a.to_a(b));return b[r(b.length,1)]},e.$$s=this,e.$$arity=1,e));z(p(n.$length(),this.$class().$members().$length()))&&this.$raise(u(f,"ArgumentError"),"struct size differs");return l(this.$class().$members(),
"each_with_index",[],(h=function(b,c){var d=null==h.$$s?this:h.$$s;null==b&&(b=g);null==c&&(c=g);b=[b,n["$[]"](c)];l(d,"[]=",a.to_a(b));return b[r(b.length,1)]},h.$$s=this,h.$$arity=2,h))},R.$$arity=-1);a.def(d,"$initialize_copy",D=function(a){this.$$data={};var b=Object.keys(a.$$data),c;var d=0;for(c=b.length;d<c;d++){var e=b[d];this.$$data[e]=a.$$data[e]}},D.$$arity=1);a.def(d,"$members",n=function(){return this.$class().$members()},n.$$arity=0);a.def(d,"$hash",A=function(){return u(f,"Hash").$new(this.$$data).$hash()},
A.$$arity=0);a.def(d,"$[]",J=function(a){z(u(f,"Integer")["$==="](a))?(z(e(a,this.$class().$members().$size()["$-@"]()))&&this.$raise(u(f,"IndexError"),"offset "+a+" too small for struct(size:"+this.$class().$members().$size()+")"),z(h(a,this.$class().$members().$size()))&&this.$raise(u(f,"IndexError"),"offset "+a+" too large for struct(size:"+this.$class().$members().$size()+")"),a=this.$class().$members()["$[]"](a)):z(u(f,"String")["$==="](a))?this.$$data.hasOwnProperty(a)||this.$raise(u(f,"NameError").$new("no member '"+
a+"' in struct",a)):this.$raise(u(f,"TypeError"),"no implicit conversion of "+a.$class()+" into Integer");a=u(f,"Opal")["$coerce_to!"](a,u(f,"String"),"to_str");return this.$$data[a]},J.$$arity=1);a.def(d,"$[]=",E=function(a,b){z(u(f,"Integer")["$==="](a))?(z(e(a,this.$class().$members().$size()["$-@"]()))&&this.$raise(u(f,"IndexError"),"offset "+a+" too small for struct(size:"+this.$class().$members().$size()+")"),z(h(a,this.$class().$members().$size()))&&this.$raise(u(f,"IndexError"),"offset "+
a+" too large for struct(size:"+this.$class().$members().$size()+")"),a=this.$class().$members()["$[]"](a)):z(u(f,"String")["$==="](a))?z(this.$class().$members()["$include?"](a.$to_sym()))||this.$raise(u(f,"NameError").$new("no member '"+a+"' in struct",a)):this.$raise(u(f,"TypeError"),"no implicit conversion of "+a.$class()+" into Integer");a=u(f,"Opal")["$coerce_to!"](a,u(f,"String"),"to_str");return this.$$data[a]=b},E.$$arity=2);a.def(d,"$==",L=function(a){function b(a,e){var g;c[a.$__id__()]=
!0;d[e.$__id__()]=!0;for(g in a.$$data){var h=a.$$data[g];var k=e.$$data[g];if(u(f,"Struct")["$==="](h)){if(!(c.hasOwnProperty(h.$__id__())&&d.hasOwnProperty(k.$__id__())||b(h,k)))return!1}else if(!h["$=="](k))return!1}return!0}if(!z(a["$instance_of?"](this.$class())))return!1;var c={},d={};return b(this,a)},L.$$arity=1);a.def(d,"$eql?",I=function(a){function b(a,e){var g;c[a.$__id__()]=!0;d[e.$__id__()]=!0;for(g in a.$$data){var h=a.$$data[g];var k=e.$$data[g];if(u(f,"Struct")["$==="](h)){if(!(c.hasOwnProperty(h.$__id__())&&
d.hasOwnProperty(k.$__id__())||b(h,k)))return!1}else if(!h["$eql?"](k))return!1}return!0}if(!z(a["$instance_of?"](this.$class())))return!1;var c={},d={};return b(this,a)},I.$$arity=1);a.def(d,"$each",x=function(){var b,c,d=x.$$p,e=d||g;d&&(x.$$p=null);if(e===g)return l(this,"enum_for",["each"],(b=function(){return(null==b.$$s?this:b.$$s).$size()},b.$$s=this,b.$$arity=0,b));l(this.$class().$members(),"each",[],(c=function(b){var d=null==c.$$s?this:c.$$s;null==b&&(b=g);return a.yield1(e,d["$[]"](b))},
c.$$s=this,c.$$arity=1,c));return this},x.$$arity=0);a.def(d,"$each_pair",B=function(){var b,c,d=B.$$p,e=d||g;d&&(B.$$p=null);if(e===g)return l(this,"enum_for",["each_pair"],(b=function(){return(null==b.$$s?this:b.$$s).$size()},b.$$s=this,b.$$arity=0,b));l(this.$class().$members(),"each",[],(c=function(b){var d=null==c.$$s?this:c.$$s;null==b&&(b=g);return a.yield1(e,[b,d["$[]"](b)])},c.$$s=this,c.$$arity=1,c));return this},B.$$arity=0);a.def(d,"$length",G=function(){return this.$class().$members().$length()},
G.$$arity=0);a.alias(d,"size","length");a.def(d,"$to_a",M=function(){var a;return l(this.$class().$members(),"map",[],(a=function(b){var c=null==a.$$s?this:a.$$s;null==b&&(b=g);return c["$[]"](b)},a.$$s=this,a.$$arity=1,a))},M.$$arity=0);a.alias(d,"values","to_a");a.def(d,"$inspect",O=function(){var a,b,c=g;c="#<struct ";z(z(a=u(f,"Struct")["$==="](this))?this.$class().$name():a)&&(c=k(c,""+this.$class()+" "));c=k(c,l(this.$each_pair(),"map",[],(b=function(a,b){null==a&&(a=g);null==b&&(b=g);return""+
a+"="+b.$inspect()},b.$$s=this,b.$$arity=2,b)).$join(", "));return c=k(c,">")},O.$$arity=0);a.alias(d,"to_s","inspect");a.def(d,"$to_h",F=function(){var c;return l(this.$class().$members(),"each_with_object",[b([],{})],(c=function(b,d){var e=null==c.$$s?this:c.$$s;null==b&&(b=g);null==d&&(d=g);b=[b,e["$[]"](b)];l(d,"[]=",a.to_a(b));return b[r(b.length,1)]},c.$$s=this,c.$$arity=2,c))},F.$$arity=0);a.def(d,"$values_at",P=function(b){var c;var d=a.slice.call(arguments,0,arguments.length);d=l(d,"map",
[],(c=function(a){null==a&&(a=g);return a.$$is_range?a.$to_a():a},c.$$s=this,c.$$arity=1,c)).$flatten();c=[];for(var e=0,h=d.length;e<h;e++)d[e].$$is_number||this.$raise(u(f,"TypeError"),"no implicit conversion of "+d[e].$class()+" into Integer"),c.push(this["$[]"](d[e]));return c},P.$$arity=-1);return(a.def(d,"$dig",Q=function(b,c){var d=a.slice.call(arguments,1,arguments.length);var e=z(b.$$is_string&&this.$$data.hasOwnProperty(b))?this.$$data[b]||g:g;if(e===g||0===d.length)return e;z(e["$respond_to?"]("dig"))||
this.$raise(u(f,"TypeError"),""+e.$class()+" does not have #dig method");return l(e,"dig",a.to_a(d))},Q.$$arity=-2),g)&&"dig"}(f[0],null,f)};Opal.modules["corelib/main"]=function(a){var p,r,e=a.top,h=[],k=a.nil,d=a.$$;a.add_stubs(["$include"]);a.defs(e,"$to_s",p=function(){return"main"},p.$$arity=0);return(a.defs(e,"$include",r=function(a){return d(h,"Object").$include(a)},r.$$arity=1),k)&&"include"};
Opal.modules["corelib/dir"]=function(a){var p=[],r=a.nil,e=a.$$,h=a.klass,k=a.truthy;a.add_stubs(["$[]"]);return function(d,$super,g){d=h(d,$super,"Dir");g=[d].concat(g);return function(d,g){var b=[d].concat(g),h,l,p;a.def(d,"$chdir",h=function(b){var c=h.$$p,d=c||r,e=r;c&&(h.$$p=null);a:{try{e=a.current_dir;a.current_dir=b;var g=a.yieldX(d,[]);break a}finally{a.current_dir=e}g=void 0}return g},h.$$arity=1);a.def(d,"$pwd",l=function(){return a.current_dir||"."},l.$$arity=0);a.alias(d,"getwd","pwd");
return(a.def(d,"$home",p=function(){var a;return k(a=e(b,"ENV")["$[]"]("HOME"))?a:"."},p.$$arity=0),r)&&"home"}(a.get_singleton_class(d),g)}(p[0],null,p)};
Opal.modules["corelib/file"]=function(a){function p(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var e=[],h=a.nil,k=a.$$,d=a.klass,f=a.truthy,g=a.range,u=a.send;a.add_stubs("$respond_to? $to_path $pwd $split $sub $+ $unshift $join $home $raise $start_with? $absolute_path $coerce_to! $basename $empty? $rindex $[] $nil? $== $- $length $gsub $find $=~ $map $each_with_index $flatten $reject $to_proc $end_with?".split(" "));return function(e,
$super,z){e=d(e,$super,"File");z=[e].concat(z);var l=h;a.const_set(z[0],"Separator",a.const_set(z[0],"SEPARATOR","/"));a.const_set(z[0],"ALT_SEPARATOR",h);a.const_set(z[0],"PATH_SEPARATOR",":");a.const_set(z[0],"FNM_SYSCASE",0);l=/^[a-zA-Z]:(?:\\|\/)/;return function(d,e){function c(a){f(a["$respond_to?"]("to_path"))&&(a=a.$to_path());return a=k(q,"Opal")["$coerce_to!"](a,k(q,"String"),"to_str")}function m(){return k(q,"ALT_SEPARATOR")===h?a.escape_regexp(k(q,"SEPARATOR")):a.escape_regexp(p(k(q,"SEPARATOR"),
k(q,"ALT_SEPARATOR")))}var q=[d].concat(e),t,w,z,C,D,n,A,J,E;a.def(d,"$absolute_path",t=function(a,c){var d;null==c&&(c=h);var e=k(q,"SEPARATOR");var g=m();var n=[];a=f(a["$respond_to?"]("to_path"))?a.$to_path():a;c=f(d=c)?d:k(q,"Dir").$pwd();d=a.substr(0,e.length)===e||l.test(a);var r=c.substr(0,e.length)===e||l.test(c);f(d)?(d=a.$split(new RegExp("["+g+"]")),a=l.test(a)?"":a.$sub(new RegExp("^(["+g+"]+).*$"),"\\1"),c=!0):(d=p(c.$split(new RegExp("["+g+"]")),a.$split(new RegExp("["+g+"]"))),a=l.test(c)?
"":c.$sub(new RegExp("^(["+g+"]+).*$"),"\\1"),c=r);r=0;for(var t=d.length;r<t;r++)g=d[r],g===h||""===g&&(0===n.length||c)||"."===g&&(0===n.length||c)||(".."===g?n.pop():n.push(g));c||"."===d[0]||n.$unshift(".");e=n.$join(e);f(c)&&(e=p(a,e));return e},t.$$arity=-2);a.def(d,"$expand_path",w=function(a,c){null==c&&(c=h);var d=k(q,"SEPARATOR");var e=m();if(f("~"===a[0]||c&&"~"===c[0])){var g=k(q,"Dir").$home();f(g)||this.$raise(k(q,"ArgumentError"),"couldn't find HOME environment -- expanding `~'");e=
l.test(g)?"":g.$sub(new RegExp("^(["+e+"]+).*$"),"\\1");f(g["$start_with?"](e))||this.$raise(k(q,"ArgumentError"),"non-absolute home");g=p(g,d);d=new RegExp("^\\~(?:"+d+"|$)");a=a.$sub(d,g);f(c)&&(c=c.$sub(d,g))}return this.$absolute_path(a,c)},w.$$arity=-2);a.alias(d,"realpath","expand_path");a.def(d,"$dirname",z=function(a){var d=m();a=c(a);var e=a.match(new RegExp("^["+d+"]"));a=a.replace(new RegExp("["+d+"]+$"),"");a=a.replace(new RegExp("[^"+d+"]+$"),"");a=a.replace(new RegExp("["+d+"]+$"),"");
return""===a?e?"/":".":a},z.$$arity=1);a.def(d,"$basename",C=function(d,e){null==e&&(e=h);var f=m();d=c(d);if(0==d.length)return d;e=e!==h?k(q,"Opal")["$coerce_to!"](e,k(q,"String"),"to_str"):null;d=d.replace(new RegExp("(.)["+f+"]*$"),"$1");d=d.replace(new RegExp("^(?:.*["+f+"])?([^"+f+"]+)$"),"$1");".*"===e?d=d.replace(/\.[^\.]+$/,""):null!==e&&(e=a.escape_regexp(e),d=d.replace(new RegExp(""+e+"$"),""));return d},C.$$arity=-2);a.def(d,"$extname",D=function(d){var e;d=c(d);d=this.$basename(d);if(f(d["$empty?"]()))return"";
var h=d["$[]"](g(1,-1,!1)).$rindex(".");return f(f(e=h["$nil?"]())?e:p(h,1)["$=="](r(d.$length(),1)))?"":d["$[]"](a.Range.$new(p(h,1),-1,!1))},D.$$arity=1);a.def(d,"$exist?",n=function(c){return null!=a.modules[c]},n.$$arity=1);a.alias(d,"exists?","exist?");a.def(d,"$directory?",A=function(c){var d,e=h;e=h;e=[];for(var f in a.modules)e.push(f);c=c.$gsub(new RegExp("(^."+k(q,"SEPARATOR")+"+|"+k(q,"SEPARATOR")+"+$)"));return e=u(e,"find",[],(d=function(a){null==a&&(a=h);return a["$=~"](new RegExp("^"+
c))},d.$$s=this,d.$$arity=1,d))},A.$$arity=1);a.def(d,"$join",J=function(c){var d,e,g=h;var l=a.slice.call(arguments,0,arguments.length);if(f(l["$empty?"]()))return"";g="";l=u(l.$flatten().$each_with_index(),"map",[],(d=function(a,c){null==a&&(a=h);null==c&&(c=h);return f(c["$=="](0)?a["$empty?"]():c["$=="](0))?k(q,"SEPARATOR"):f(l.$length()["$=="](p(c,1))?a["$empty?"]():l.$length()["$=="](p(c,1)))?k(q,"SEPARATOR"):a},d.$$s=this,d.$$arity=2,d));l=u(l,"reject",[],"empty?".$to_proc());u(l,"each_with_index",
[],(e=function(a,c){var d;null==a&&(a=h);null==c&&(c=h);c=l["$[]"](p(c,1));if(f(c["$nil?"]()))return g=""+g+a;f(f(d=a["$end_with?"](k(q,"SEPARATOR")))?c["$start_with?"](k(q,"SEPARATOR")):d)&&(a=a.$sub(new RegExp(""+k(q,"SEPARATOR")+"+$"),""));return g=f(f(d=a["$end_with?"](k(q,"SEPARATOR")))?d:c["$start_with?"](k(q,"SEPARATOR")))?""+g+a:""+g+a+k(q,"SEPARATOR")},e.$$s=this,e.$$arity=2,e));return g},J.$$arity=-1);return(a.def(d,"$split",E=function(a){return a.$split(k(q,"SEPARATOR"))},E.$$arity=1),
h)&&"split"}(a.get_singleton_class(e),z)}(e[0],k(e,"IO"),e)};
Opal.modules["corelib/process"]=function(a){var p=[],r=a.nil,e=a.$$$,h=a.$$,k=a.klass,d=a.truthy;a.add_stubs("$const_set $size $<< $__register_clock__ $to_f $now $new $[] $raise".split(" "));(function(f,$super,p){f=k(f,$super,"Process");var q=[f].concat(p),b,u,l,w;p=r;f.__clocks__=[];a.defs(f,"$__register_clock__",b=function(a,b){null==this.__clocks__&&(this.__clocks__=r);this.$const_set(a,this.__clocks__.$size());return this.__clocks__["$<<"](b)},b.$$arity=2);f.$__register_clock__("CLOCK_REALTIME",
function(){return Date.now()});p=!1;if(a.global.performance)p=function(){return performance.now()};else if(a.global.process&&process.hrtime){var C=process.hrtime();p=function(){var a=process.hrtime(C);return 1E3*a[0]+(a[1]/1E3|0)/1E3}}d(p)&&f.$__register_clock__("CLOCK_MONOTONIC",p);a.defs(f,"$pid",u=function(){return 0},u.$$arity=0);a.defs(f,"$times",l=function(){var a=h(q,"Time").$now().$to_f();return e(h(q,"Benchmark"),"Tms").$new(a,a,a,a,a)},l.$$arity=0);return(a.defs(f,"$clock_gettime",w=function(a,
b){var c,f;null==this.__clocks__&&(this.__clocks__=r);null==b&&(b="float_second");d(c=f=this.__clocks__["$[]"](a))?c:this.$raise(e(h(q,"Errno"),"EINVAL"),"clock_gettime("+a+") "+this.__clocks__["$[]"](a));a=f();switch(b){case "float_second":return a/1E3;case "float_millisecond":return a/1;case "float_microsecond":return 1E3*a;case "second":return a/1E3|0;case "millisecond":return a/1|0;case "microsecond":return 1E3*a|0;case "nanosecond":return 1E6*a|0;default:this.$raise(h(q,"ArgumentError"),"unexpected unit: "+
b)}},w.$$arity=-2),r)&&"clock_gettime"})(p[0],null,p);(function(d,$super,e){d=k(d,$super,"Signal");[d].concat(e);var f;return(a.defs(d,"$trap",f=function(b){a.slice.call(arguments,0,arguments.length);return r},f.$$arity=-1),r)&&"trap"})(p[0],null,p);return function(d,$super,e){d=k(d,$super,"GC");[d].concat(e);var f;return(a.defs(d,"$start",f=function(){return r},f.$$arity=0),r)&&"start"}(p[0],null,p)};
Opal.modules["corelib/random"]=function(a){var p=[],r=a.nil,e=a.$$,h=a.klass,k=a.truthy,d=a.send;a.add_stubs("$attr_reader $new_seed $coerce_to! $reseed $rand $seed $< $raise $encode $join $new $chr $=== $== $state $const_defined? $const_set".split(" "));return function(f,$super,p){f=h(f,$super,"Random");var q=[f].concat(p),b,u,l,w,C,c,m,y,t,v;f.$attr_reader("seed","state");a.def(f,"$initialize",b=function(a){null==a&&(a=e(q,"Random").$new_seed());this.state=a=e(q,"Opal")["$coerce_to!"](a,e(q,"Integer"),
"to_int");return this.$reseed(a)},b.$$arity=-1);a.def(f,"$reseed",u=function(b){this.seed=b;return this.$rng=a.$$rand.reseed(b)},u.$$arity=1);a.defs(f,"$new_seed",l=function(){return a.$$rand.new_seed()},l.$$arity=0);a.defs(f,"$rand",w=function(a){return e(q,"DEFAULT").$rand(a)},w.$$arity=-1);a.defs(f,"$srand",C=function(a){null==a&&(a=e(q,"Random").$new_seed());a=e(q,"Opal")["$coerce_to!"](a,e(q,"Integer"),"to_int");var b=e(q,"DEFAULT").$seed();e(q,"DEFAULT").$reseed(a);return b},C.$$arity=-1);a.defs(f,
"$urandom",c=function(a){var b;a=e(q,"Opal")["$coerce_to!"](a,e(q,"Integer"),"to_int");k("number"===typeof a?0>a:a["$<"](0))&&this.$raise(e(q,"ArgumentError"),"negative string size (or size too big)");return d(e(q,"Array"),"new",[a],(b=function(){return(null==b.$$s?this:b.$$s).$rand(255).$chr()},b.$$s=this,b.$$arity=0,b)).$join().$encode("ASCII-8BIT")},c.$$arity=1);a.def(f,"$==",m=function(a){return k(e(q,"Random")["$==="](a))?this.$seed()["$=="](a.$seed())?this.$state()["$=="](a.$state()):this.$seed()["$=="](a.$seed()):
!1},m.$$arity=1);a.def(f,"$bytes",y=function(a){var b;a=e(q,"Opal")["$coerce_to!"](a,e(q,"Integer"),"to_int");return d(e(q,"Array"),"new",[a],(b=function(){return(null==b.$$s?this:b.$$s).$rand(255).$chr()},b.$$s=this,b.$$arity=0,b)).$join().$encode("ASCII-8BIT")},y.$$arity=1);a.def(f,"$rand",t=function(b){function c(){f.state++;return a.$$rand.rand(f.$rng)}function d(){var a=b.begin,c=b.end;if(a===r||c===r)return r;var d=c-a;if(0>d)return r;if(0===d)return a;0!==c%1||0!==a%1||b.excl||d++;return f.$rand(d)+
a}var f=this;if(null==b)return c();if(b.$$is_range)return d();if(b.$$is_number)return 0>=b&&f.$raise(e(q,"ArgumentError"),"invalid argument - "+b),0===b%1?Math.floor(c()*b):c()*b;b=e(q,"Opal")["$coerce_to!"](b,e(q,"Integer"),"to_int");0>=b&&f.$raise(e(q,"ArgumentError"),"invalid argument - "+b);return Math.floor(c()*b)},t.$$arity=-1);return(a.defs(f,"$generator=",v=function(b){a.$$rand=b;return k(this["$const_defined?"]("DEFAULT"))?e(q,"DEFAULT").$reseed():this.$const_set("DEFAULT",this.$new(this.$new_seed()))},
v.$$arity=1),r)&&"generator="}(p[0],null,p)};
var MersenneTwister=function(){function a(a){if(0>=--a.left){var e=0,h=a.state,k;a.left=624;a.next=0;for(k=228;--k;e++)h[e]=h[e+397]^p(h[e+0],h[e+1]);for(k=397;--k;e++)h[e]=h[e+-227]^p(h[e+0],h[e+1]);h[e]=h[e+-227]^p(h[e+0],h[0])}a=a.state[a.next++];a^=a>>>11;a^=a<<7&2636928640;a^=a<<15&4022730752;return(a^a>>>18)>>>0}var p=function(a,e){return(a&2147483648|e&2147483647)>>>1^(e&1?2567483615:0)};return{genrand_real:function(p){var e=a(p);p=a(p);return 1.1102230246251565E-16*(67108864*(e>>>5)+(p>>>
6))},init:function(a){var e={left:0,next:624,state:Array(624)};e.state[0]=a>>>0;for(a=1;624>a;a++)e.state[a]=1812433253*(e.state[a-1]^e.state[a-1]>>30>>>0)+a,e.state[a]&=4294967295;e.left=1;e.next=624;return e}}}();Opal.loaded(["corelib/random/MersenneTwister.js"]);
Opal.modules["corelib/random/mersenne_twister"]=function(a){function p(a,d){return"number"===typeof a&&"number"===typeof d?a-d:a["$-"](d)}var r=a.top,e=[],h=a.nil,k=a.$$,d=a.klass,f=a.send;a.add_stubs(["$require","$generator=","$-"]);r.$require("corelib/random/MersenneTwister");return function(e,$super,q){e=d(e,$super,"Random");q=[e].concat(q);var b=h,g=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1;a.const_set(q[0],"MERSENNE_TWISTER_GENERATOR",{new_seed:function(){return Math.round(Math.random()*g)},
reseed:function(a){return MersenneTwister.init(a)},rand:function(a){return MersenneTwister.genrand_real(a)}});b=[k(q,"MERSENNE_TWISTER_GENERATOR")];f(e,"generator=",a.to_a(b));return b[p(b.length,1)]}(e[0],null,e)};
Opal.modules["corelib/unsupported"]=function(a){function p(b){switch(a.config.unsupported_features_severity){case "error":f(k,"Kernel").$raise(f(k,"NotImplementedError"),b);break;case "warning":q[b]||(q[b]=!0,h.$warn(b))}}var r,e,h=a.top,k=[],d=a.nil,f=a.$$,g=a.klass,u=a.module;a.add_stubs(["$raise","$warn","$%"]);var q={};(function(b,$super,e){b=g(b,$super,"String");var h=[b].concat(e),k,c,l,p,q,r,u,R,D,n,A,J,E,L,I,x,B,G,M,O,F,P,Q;a.def(b,"$<<",k=function(b){a.slice.call(arguments,0,arguments.length);
return this.$raise(f(h,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("<<"))},k.$$arity=-1);a.def(b,"$capitalize!",c=function(b){a.slice.call(arguments,0,arguments.length);return this.$raise(f(h,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("capitalize!"))},c.$$arity=-1);a.def(b,"$chomp!",l=function(b){a.slice.call(arguments,0,arguments.length);return this.$raise(f(h,"NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chomp!"))},l.$$arity=-1);a.def(b,"$chop!",p=function(b){a.slice.call(arguments,0,arguments.length);return this.$raise(f(h,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chop!"))},p.$$arity=-1);a.def(b,"$downcase!",q=function(b){a.slice.call(arguments,0,arguments.length);return this.$raise(f(h,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("downcase!"))},
q.$$arity=-1);a.def(b,"$gsub!",r=function(b){a.slice.call(arguments,0,arguments.length);return this.$raise(f(h,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("gsub!"))},r.$$arity=-1);a.def(b,"$lstrip!",u=function(b){a.slice.call(arguments,0,arguments.length);return this.$raise(f(h,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("lstrip!"))},u.$$arity=-1);a.def(b,"$next!",R=function(b){a.slice.call(arguments,
0,arguments.length);return this.$raise(f(h,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("next!"))},R.$$arity=-1);a.def(b,"$reverse!",D=function(b){a.slice.call(arguments,0,arguments.length);return this.$raise(f(h,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("reverse!"))},D.$$arity=-1);a.def(b,"$slice!",n=function(b){a.slice.call(arguments,0,arguments.length);return this.$raise(f(h,
"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("slice!"))},n.$$arity=-1);a.def(b,"$squeeze!",A=function(b){a.slice.call(arguments,0,arguments.length);return this.$raise(f(h,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("squeeze!"))},A.$$arity=-1);a.def(b,"$strip!",J=function(b){a.slice.call(arguments,0,arguments.length);return this.$raise(f(h,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("strip!"))},
J.$$arity=-1);a.def(b,"$sub!",E=function(b){a.slice.call(arguments,0,arguments.length);return this.$raise(f(h,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("sub!"))},E.$$arity=-1);a.def(b,"$succ!",L=function(b){a.slice.call(arguments,0,arguments.length);return this.$raise(f(h,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("succ!"))},L.$$arity=-1);a.def(b,"$swapcase!",I=function(b){a.slice.call(arguments,
0,arguments.length);return this.$raise(f(h,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("swapcase!"))},I.$$arity=-1);a.def(b,"$tr!",x=function(b){a.slice.call(arguments,0,arguments.length);return this.$raise(f(h,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr!"))},x.$$arity=-1);a.def(b,"$tr_s!",B=function(b){a.slice.call(arguments,0,arguments.length);return this.$raise(f(h,"NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr_s!"))},B.$$arity=-1);a.def(b,"$upcase!",G=function(b){a.slice.call(arguments,0,arguments.length);return this.$raise(f(h,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("upcase!"))},G.$$arity=-1);a.def(b,"$prepend",M=function(b){a.slice.call(arguments,0,arguments.length);return this.$raise(f(h,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("prepend"))},
M.$$arity=-1);a.def(b,"$[]=",O=function(b){a.slice.call(arguments,0,arguments.length);return this.$raise(f(h,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("[]="))},O.$$arity=-1);a.def(b,"$clear",F=function(b){a.slice.call(arguments,0,arguments.length);return this.$raise(f(h,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("clear"))},F.$$arity=-1);a.def(b,"$encode!",P=function(b){a.slice.call(arguments,
0,arguments.length);return this.$raise(f(h,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("encode!"))},P.$$arity=-1);return(a.def(b,"$unicode_normalize!",Q=function(b){a.slice.call(arguments,0,arguments.length);return this.$raise(f(h,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("unicode_normalize!"))},Q.$$arity=-1),d)&&"unicode_normalize!"})(k[0],null,k);(function(b,d){b=u(b,"Kernel");
[b].concat(d);var e,f;a.def(b,"$freeze",e=function(){p("Object freezing is not supported by Opal");return this},e.$$arity=0);a.def(b,"$frozen?",f=function(){p("Object freezing is not supported by Opal");return!1},f.$$arity=0)})(k[0],k);(function(b,d){b=u(b,"Kernel");[b].concat(d);var e,f,g;a.def(b,"$taint",e=function(){p("Object tainting is not supported by Opal");return this},e.$$arity=0);a.def(b,"$untaint",f=function(){p("Object tainting is not supported by Opal");return this},f.$$arity=0);a.def(b,
"$tainted?",g=function(){p("Object tainting is not supported by Opal");return!1},g.$$arity=0)})(k[0],k);(function(b,$super,e){b=g(b,$super,"Module");[b].concat(e);var f,h,c,k;a.def(b,"$public",f=function(b){0===a.slice.call(arguments,0,arguments.length).length&&(this.$$module_function=!1);return d},f.$$arity=-1);a.alias(b,"private","public");a.alias(b,"protected","public");a.alias(b,"nesting","public");a.def(b,"$private_class_method",h=function(b){a.slice.call(arguments,0,arguments.length);return this},
h.$$arity=-1);a.alias(b,"public_class_method","private_class_method");a.def(b,"$private_method_defined?",c=function(a){return!1},c.$$arity=1);a.def(b,"$private_constant",k=function(b){a.slice.call(arguments,0,arguments.length);return d},k.$$arity=-1);a.alias(b,"protected_method_defined?","private_method_defined?");a.alias(b,"public_instance_methods","instance_methods");a.alias(b,"public_instance_method","instance_method");return a.alias(b,"public_method_defined?","method_defined?")})(k[0],null,k);
(function(b,d){b=u(b,"Kernel");[b].concat(d);var e;a.def(b,"$private_methods",e=function(b){a.slice.call(arguments,0,arguments.length);return[]},e.$$arity=-1);a.alias(b,"private_instance_methods","private_methods")})(k[0],k);(function(b,d){b=u(b,"Kernel");var e=[b].concat(d),g;a.def(b,"$eval",g=function(b){a.slice.call(arguments,0,arguments.length);return this.$raise(f(e,"NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. See https://github.com/opal/opal/blob/"+(f(e,
"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},g.$$arity=-1)})(k[0],k);a.defs(h,"$public",r=function(b){a.slice.call(arguments,0,arguments.length);return d},r.$$arity=-1);return(a.defs(h,"$private",e=function(b){a.slice.call(arguments,0,arguments.length);return d},e.$$arity=-1),d)&&"private"};
Opal.modules.opal=function(a){var p=a.top;a.add_stubs(["$require"]);p.$require("opal/base");p.$require("opal/mini");p.$require("corelib/kernel/format");p.$require("corelib/string/encoding");p.$require("corelib/math");p.$require("corelib/complex");p.$require("corelib/rational");p.$require("corelib/time");p.$require("corelib/struct");p.$require("corelib/io");p.$require("corelib/main");p.$require("corelib/dir");p.$require("corelib/file");p.$require("corelib/process");p.$require("corelib/random");p.$require("corelib/random/mersenne_twister.js");
return p.$require("corelib/unsupported")};(function(a){var p=a.top;a.add_stubs(["$require","$puts"]);p.$require("opal");return p.$puts("Hello world!")})(Opal);
